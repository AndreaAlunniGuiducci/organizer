var FI=(n,e)=>()=>(e||n((e={exports:{}}).exports,e),e.exports);var B9=FI((mr,pr)=>{(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const l of s)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&i(c)}).observe(document,{childList:!0,subtree:!0});function t(s){const l={};return s.integrity&&(l.integrity=s.integrity),s.referrerPolicy&&(l.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?l.credentials="include":s.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function i(s){if(s.ep)return;s.ep=!0;const l=t(s);fetch(s.href,l)}})();function Nl(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Mp={exports:{}},ju={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zE;function BI(){if(zE)return ju;zE=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(i,s,l){var c=null;if(l!==void 0&&(c=""+l),s.key!==void 0&&(c=""+s.key),"key"in s){l={};for(var h in s)h!=="key"&&(l[h]=s[h])}else l=s;return s=l.ref,{$$typeof:n,type:i,key:c,ref:s!==void 0?s:null,props:l}}return ju.Fragment=e,ju.jsx=t,ju.jsxs=t,ju}var FE;function $I(){return FE||(FE=1,Mp.exports=BI()),Mp.exports}var G=$I(),Pp={exports:{}},Xe={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var BE;function HI(){if(BE)return Xe;BE=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),c=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),_=Symbol.iterator;function E(U){return U===null||typeof U!="object"?null:(U=_&&U[_]||U["@@iterator"],typeof U=="function"?U:null)}var w={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},R=Object.assign,P={};function L(U,ae,pe){this.props=U,this.context=ae,this.refs=P,this.updater=pe||w}L.prototype.isReactComponent={},L.prototype.setState=function(U,ae){if(typeof U!="object"&&typeof U!="function"&&U!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,U,ae,"setState")},L.prototype.forceUpdate=function(U){this.updater.enqueueForceUpdate(this,U,"forceUpdate")};function x(){}x.prototype=L.prototype;function $(U,ae,pe){this.props=U,this.context=ae,this.refs=P,this.updater=pe||w}var ne=$.prototype=new x;ne.constructor=$,R(ne,L.prototype),ne.isPureReactComponent=!0;var fe=Array.isArray,H={H:null,A:null,T:null,S:null,V:null},V=Object.prototype.hasOwnProperty;function O(U,ae,pe,ce,we,Ue){return pe=Ue.ref,{$$typeof:n,type:U,key:ae,ref:pe!==void 0?pe:null,props:Ue}}function C(U,ae){return O(U.type,ae,void 0,void 0,void 0,U.props)}function I(U){return typeof U=="object"&&U!==null&&U.$$typeof===n}function j(U){var ae={"=":"=0",":":"=2"};return"$"+U.replace(/[=:]/g,function(pe){return ae[pe]})}var k=/\/+/g;function B(U,ae){return typeof U=="object"&&U!==null&&U.key!=null?j(""+U.key):ae.toString(36)}function D(){}function Pe(U){switch(U.status){case"fulfilled":return U.value;case"rejected":throw U.reason;default:switch(typeof U.status=="string"?U.then(D,D):(U.status="pending",U.then(function(ae){U.status==="pending"&&(U.status="fulfilled",U.value=ae)},function(ae){U.status==="pending"&&(U.status="rejected",U.reason=ae)})),U.status){case"fulfilled":return U.value;case"rejected":throw U.reason}}throw U}function Qe(U,ae,pe,ce,we){var Ue=typeof U;(Ue==="undefined"||Ue==="boolean")&&(U=null);var Oe=!1;if(U===null)Oe=!0;else switch(Ue){case"bigint":case"string":case"number":Oe=!0;break;case"object":switch(U.$$typeof){case n:case e:Oe=!0;break;case y:return Oe=U._init,Qe(Oe(U._payload),ae,pe,ce,we)}}if(Oe)return we=we(U),Oe=ce===""?"."+B(U,0):ce,fe(we)?(pe="",Oe!=null&&(pe=Oe.replace(k,"$&/")+"/"),Qe(we,ae,pe,"",function(Vn){return Vn})):we!=null&&(I(we)&&(we=C(we,pe+(we.key==null||U&&U.key===we.key?"":(""+we.key).replace(k,"$&/")+"/")+Oe)),ae.push(we)),1;Oe=0;var Vt=ce===""?".":ce+":";if(fe(U))for(var pt=0;pt<U.length;pt++)ce=U[pt],Ue=Vt+B(ce,pt),Oe+=Qe(ce,ae,pe,Ue,we);else if(pt=E(U),typeof pt=="function")for(U=pt.call(U),pt=0;!(ce=U.next()).done;)ce=ce.value,Ue=Vt+B(ce,pt++),Oe+=Qe(ce,ae,pe,Ue,we);else if(Ue==="object"){if(typeof U.then=="function")return Qe(Pe(U),ae,pe,ce,we);throw ae=String(U),Error("Objects are not valid as a React child (found: "+(ae==="[object Object]"?"object with keys {"+Object.keys(U).join(", ")+"}":ae)+"). If you meant to render a collection of children, use an array instead.")}return Oe}function Z(U,ae,pe){if(U==null)return U;var ce=[],we=0;return Qe(U,ce,"","",function(Ue){return ae.call(pe,Ue,we++)}),ce}function me(U){if(U._status===-1){var ae=U._result;ae=ae(),ae.then(function(pe){(U._status===0||U._status===-1)&&(U._status=1,U._result=pe)},function(pe){(U._status===0||U._status===-1)&&(U._status=2,U._result=pe)}),U._status===-1&&(U._status=0,U._result=ae)}if(U._status===1)return U._result.default;throw U._result}var ve=typeof reportError=="function"?reportError:function(U){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ae=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof U=="object"&&U!==null&&typeof U.message=="string"?String(U.message):String(U),error:U});if(!window.dispatchEvent(ae))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",U);return}console.error(U)};function He(){}return Xe.Children={map:Z,forEach:function(U,ae,pe){Z(U,function(){ae.apply(this,arguments)},pe)},count:function(U){var ae=0;return Z(U,function(){ae++}),ae},toArray:function(U){return Z(U,function(ae){return ae})||[]},only:function(U){if(!I(U))throw Error("React.Children.only expected to receive a single React element child.");return U}},Xe.Component=L,Xe.Fragment=t,Xe.Profiler=s,Xe.PureComponent=$,Xe.StrictMode=i,Xe.Suspense=m,Xe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=H,Xe.__COMPILER_RUNTIME={__proto__:null,c:function(U){return H.H.useMemoCache(U)}},Xe.cache=function(U){return function(){return U.apply(null,arguments)}},Xe.cloneElement=function(U,ae,pe){if(U==null)throw Error("The argument must be a React element, but you passed "+U+".");var ce=R({},U.props),we=U.key,Ue=void 0;if(ae!=null)for(Oe in ae.ref!==void 0&&(Ue=void 0),ae.key!==void 0&&(we=""+ae.key),ae)!V.call(ae,Oe)||Oe==="key"||Oe==="__self"||Oe==="__source"||Oe==="ref"&&ae.ref===void 0||(ce[Oe]=ae[Oe]);var Oe=arguments.length-2;if(Oe===1)ce.children=pe;else if(1<Oe){for(var Vt=Array(Oe),pt=0;pt<Oe;pt++)Vt[pt]=arguments[pt+2];ce.children=Vt}return O(U.type,we,void 0,void 0,Ue,ce)},Xe.createContext=function(U){return U={$$typeof:c,_currentValue:U,_currentValue2:U,_threadCount:0,Provider:null,Consumer:null},U.Provider=U,U.Consumer={$$typeof:l,_context:U},U},Xe.createElement=function(U,ae,pe){var ce,we={},Ue=null;if(ae!=null)for(ce in ae.key!==void 0&&(Ue=""+ae.key),ae)V.call(ae,ce)&&ce!=="key"&&ce!=="__self"&&ce!=="__source"&&(we[ce]=ae[ce]);var Oe=arguments.length-2;if(Oe===1)we.children=pe;else if(1<Oe){for(var Vt=Array(Oe),pt=0;pt<Oe;pt++)Vt[pt]=arguments[pt+2];we.children=Vt}if(U&&U.defaultProps)for(ce in Oe=U.defaultProps,Oe)we[ce]===void 0&&(we[ce]=Oe[ce]);return O(U,Ue,void 0,void 0,null,we)},Xe.createRef=function(){return{current:null}},Xe.forwardRef=function(U){return{$$typeof:h,render:U}},Xe.isValidElement=I,Xe.lazy=function(U){return{$$typeof:y,_payload:{_status:-1,_result:U},_init:me}},Xe.memo=function(U,ae){return{$$typeof:p,type:U,compare:ae===void 0?null:ae}},Xe.startTransition=function(U){var ae=H.T,pe={};H.T=pe;try{var ce=U(),we=H.S;we!==null&&we(pe,ce),typeof ce=="object"&&ce!==null&&typeof ce.then=="function"&&ce.then(He,ve)}catch(Ue){ve(Ue)}finally{H.T=ae}},Xe.unstable_useCacheRefresh=function(){return H.H.useCacheRefresh()},Xe.use=function(U){return H.H.use(U)},Xe.useActionState=function(U,ae,pe){return H.H.useActionState(U,ae,pe)},Xe.useCallback=function(U,ae){return H.H.useCallback(U,ae)},Xe.useContext=function(U){return H.H.useContext(U)},Xe.useDebugValue=function(){},Xe.useDeferredValue=function(U,ae){return H.H.useDeferredValue(U,ae)},Xe.useEffect=function(U,ae,pe){var ce=H.H;if(typeof pe=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return ce.useEffect(U,ae)},Xe.useId=function(){return H.H.useId()},Xe.useImperativeHandle=function(U,ae,pe){return H.H.useImperativeHandle(U,ae,pe)},Xe.useInsertionEffect=function(U,ae){return H.H.useInsertionEffect(U,ae)},Xe.useLayoutEffect=function(U,ae){return H.H.useLayoutEffect(U,ae)},Xe.useMemo=function(U,ae){return H.H.useMemo(U,ae)},Xe.useOptimistic=function(U,ae){return H.H.useOptimistic(U,ae)},Xe.useReducer=function(U,ae,pe){return H.H.useReducer(U,ae,pe)},Xe.useRef=function(U){return H.H.useRef(U)},Xe.useState=function(U){return H.H.useState(U)},Xe.useSyncExternalStore=function(U,ae,pe){return H.H.useSyncExternalStore(U,ae,pe)},Xe.useTransition=function(){return H.H.useTransition()},Xe.version="19.1.0",Xe}var $E;function bc(){return $E||($E=1,Pp.exports=HI()),Pp.exports}var N=bc();const wi=Nl(N);var Lp={exports:{}},zu={},Vp={exports:{}},kp={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var HE;function qI(){return HE||(HE=1,function(n){function e(Z,me){var ve=Z.length;Z.push(me);e:for(;0<ve;){var He=ve-1>>>1,U=Z[He];if(0<s(U,me))Z[He]=me,Z[ve]=U,ve=He;else break e}}function t(Z){return Z.length===0?null:Z[0]}function i(Z){if(Z.length===0)return null;var me=Z[0],ve=Z.pop();if(ve!==me){Z[0]=ve;e:for(var He=0,U=Z.length,ae=U>>>1;He<ae;){var pe=2*(He+1)-1,ce=Z[pe],we=pe+1,Ue=Z[we];if(0>s(ce,ve))we<U&&0>s(Ue,ce)?(Z[He]=Ue,Z[we]=ve,He=we):(Z[He]=ce,Z[pe]=ve,He=pe);else if(we<U&&0>s(Ue,ve))Z[He]=Ue,Z[we]=ve,He=we;else break e}}return me}function s(Z,me){var ve=Z.sortIndex-me.sortIndex;return ve!==0?ve:Z.id-me.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;n.unstable_now=function(){return l.now()}}else{var c=Date,h=c.now();n.unstable_now=function(){return c.now()-h}}var m=[],p=[],y=1,_=null,E=3,w=!1,R=!1,P=!1,L=!1,x=typeof setTimeout=="function"?setTimeout:null,$=typeof clearTimeout=="function"?clearTimeout:null,ne=typeof setImmediate<"u"?setImmediate:null;function fe(Z){for(var me=t(p);me!==null;){if(me.callback===null)i(p);else if(me.startTime<=Z)i(p),me.sortIndex=me.expirationTime,e(m,me);else break;me=t(p)}}function H(Z){if(P=!1,fe(Z),!R)if(t(m)!==null)R=!0,V||(V=!0,B());else{var me=t(p);me!==null&&Qe(H,me.startTime-Z)}}var V=!1,O=-1,C=5,I=-1;function j(){return L?!0:!(n.unstable_now()-I<C)}function k(){if(L=!1,V){var Z=n.unstable_now();I=Z;var me=!0;try{e:{R=!1,P&&(P=!1,$(O),O=-1),w=!0;var ve=E;try{t:{for(fe(Z),_=t(m);_!==null&&!(_.expirationTime>Z&&j());){var He=_.callback;if(typeof He=="function"){_.callback=null,E=_.priorityLevel;var U=He(_.expirationTime<=Z);if(Z=n.unstable_now(),typeof U=="function"){_.callback=U,fe(Z),me=!0;break t}_===t(m)&&i(m),fe(Z)}else i(m);_=t(m)}if(_!==null)me=!0;else{var ae=t(p);ae!==null&&Qe(H,ae.startTime-Z),me=!1}}break e}finally{_=null,E=ve,w=!1}me=void 0}}finally{me?B():V=!1}}}var B;if(typeof ne=="function")B=function(){ne(k)};else if(typeof MessageChannel<"u"){var D=new MessageChannel,Pe=D.port2;D.port1.onmessage=k,B=function(){Pe.postMessage(null)}}else B=function(){x(k,0)};function Qe(Z,me){O=x(function(){Z(n.unstable_now())},me)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(Z){Z.callback=null},n.unstable_forceFrameRate=function(Z){0>Z||125<Z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<Z?Math.floor(1e3/Z):5},n.unstable_getCurrentPriorityLevel=function(){return E},n.unstable_next=function(Z){switch(E){case 1:case 2:case 3:var me=3;break;default:me=E}var ve=E;E=me;try{return Z()}finally{E=ve}},n.unstable_requestPaint=function(){L=!0},n.unstable_runWithPriority=function(Z,me){switch(Z){case 1:case 2:case 3:case 4:case 5:break;default:Z=3}var ve=E;E=Z;try{return me()}finally{E=ve}},n.unstable_scheduleCallback=function(Z,me,ve){var He=n.unstable_now();switch(typeof ve=="object"&&ve!==null?(ve=ve.delay,ve=typeof ve=="number"&&0<ve?He+ve:He):ve=He,Z){case 1:var U=-1;break;case 2:U=250;break;case 5:U=1073741823;break;case 4:U=1e4;break;default:U=5e3}return U=ve+U,Z={id:y++,callback:me,priorityLevel:Z,startTime:ve,expirationTime:U,sortIndex:-1},ve>He?(Z.sortIndex=ve,e(p,Z),t(m)===null&&Z===t(p)&&(P?($(O),O=-1):P=!0,Qe(H,ve-He))):(Z.sortIndex=U,e(m,Z),R||w||(R=!0,V||(V=!0,B()))),Z},n.unstable_shouldYield=j,n.unstable_wrapCallback=function(Z){var me=E;return function(){var ve=E;E=me;try{return Z.apply(this,arguments)}finally{E=ve}}}}(kp)),kp}var qE;function GI(){return qE||(qE=1,Vp.exports=qI()),Vp.exports}var Up={exports:{}},Nn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var GE;function KI(){if(GE)return Nn;GE=1;var n=bc();function e(m){var p="https://react.dev/errors/"+m;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)p+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+m+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var i={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},s=Symbol.for("react.portal");function l(m,p,y){var _=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:s,key:_==null?null:""+_,children:m,containerInfo:p,implementation:y}}var c=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(m,p){if(m==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return Nn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,Nn.createPortal=function(m,p){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(e(299));return l(m,p,null,y)},Nn.flushSync=function(m){var p=c.T,y=i.p;try{if(c.T=null,i.p=2,m)return m()}finally{c.T=p,i.p=y,i.d.f()}},Nn.preconnect=function(m,p){typeof m=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,i.d.C(m,p))},Nn.prefetchDNS=function(m){typeof m=="string"&&i.d.D(m)},Nn.preinit=function(m,p){if(typeof m=="string"&&p&&typeof p.as=="string"){var y=p.as,_=h(y,p.crossOrigin),E=typeof p.integrity=="string"?p.integrity:void 0,w=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;y==="style"?i.d.S(m,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:_,integrity:E,fetchPriority:w}):y==="script"&&i.d.X(m,{crossOrigin:_,integrity:E,fetchPriority:w,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},Nn.preinitModule=function(m,p){if(typeof m=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var y=h(p.as,p.crossOrigin);i.d.M(m,{crossOrigin:y,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&i.d.M(m)},Nn.preload=function(m,p){if(typeof m=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var y=p.as,_=h(y,p.crossOrigin);i.d.L(m,y,{crossOrigin:_,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},Nn.preloadModule=function(m,p){if(typeof m=="string")if(p){var y=h(p.as,p.crossOrigin);i.d.m(m,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:y,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else i.d.m(m)},Nn.requestFormReset=function(m){i.d.r(m)},Nn.unstable_batchedUpdates=function(m,p){return m(p)},Nn.useFormState=function(m,p,y){return c.H.useFormState(m,p,y)},Nn.useFormStatus=function(){return c.H.useHostTransitionStatus()},Nn.version="19.1.0",Nn}var KE;function ZS(){if(KE)return Up.exports;KE=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Up.exports=KI(),Up.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var QE;function QI(){if(QE)return zu;QE=1;var n=GI(),e=bc(),t=ZS();function i(r){var a="https://react.dev/errors/"+r;if(1<arguments.length){a+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)a+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+r+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function l(r){var a=r,o=r;if(r.alternate)for(;a.return;)a=a.return;else{r=a;do a=r,(a.flags&4098)!==0&&(o=a.return),r=a.return;while(r)}return a.tag===3?o:null}function c(r){if(r.tag===13){var a=r.memoizedState;if(a===null&&(r=r.alternate,r!==null&&(a=r.memoizedState)),a!==null)return a.dehydrated}return null}function h(r){if(l(r)!==r)throw Error(i(188))}function m(r){var a=r.alternate;if(!a){if(a=l(r),a===null)throw Error(i(188));return a!==r?null:r}for(var o=r,u=a;;){var d=o.return;if(d===null)break;var g=d.alternate;if(g===null){if(u=d.return,u!==null){o=u;continue}break}if(d.child===g.child){for(g=d.child;g;){if(g===o)return h(d),r;if(g===u)return h(d),a;g=g.sibling}throw Error(i(188))}if(o.return!==u.return)o=d,u=g;else{for(var b=!1,S=d.child;S;){if(S===o){b=!0,o=d,u=g;break}if(S===u){b=!0,u=d,o=g;break}S=S.sibling}if(!b){for(S=g.child;S;){if(S===o){b=!0,o=g,u=d;break}if(S===u){b=!0,u=g,o=d;break}S=S.sibling}if(!b)throw Error(i(189))}}if(o.alternate!==u)throw Error(i(190))}if(o.tag!==3)throw Error(i(188));return o.stateNode.current===o?r:a}function p(r){var a=r.tag;if(a===5||a===26||a===27||a===6)return r;for(r=r.child;r!==null;){if(a=p(r),a!==null)return a;r=r.sibling}return null}var y=Object.assign,_=Symbol.for("react.element"),E=Symbol.for("react.transitional.element"),w=Symbol.for("react.portal"),R=Symbol.for("react.fragment"),P=Symbol.for("react.strict_mode"),L=Symbol.for("react.profiler"),x=Symbol.for("react.provider"),$=Symbol.for("react.consumer"),ne=Symbol.for("react.context"),fe=Symbol.for("react.forward_ref"),H=Symbol.for("react.suspense"),V=Symbol.for("react.suspense_list"),O=Symbol.for("react.memo"),C=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),j=Symbol.for("react.memo_cache_sentinel"),k=Symbol.iterator;function B(r){return r===null||typeof r!="object"?null:(r=k&&r[k]||r["@@iterator"],typeof r=="function"?r:null)}var D=Symbol.for("react.client.reference");function Pe(r){if(r==null)return null;if(typeof r=="function")return r.$$typeof===D?null:r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case R:return"Fragment";case L:return"Profiler";case P:return"StrictMode";case H:return"Suspense";case V:return"SuspenseList";case I:return"Activity"}if(typeof r=="object")switch(r.$$typeof){case w:return"Portal";case ne:return(r.displayName||"Context")+".Provider";case $:return(r._context.displayName||"Context")+".Consumer";case fe:var a=r.render;return r=r.displayName,r||(r=a.displayName||a.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case O:return a=r.displayName||null,a!==null?a:Pe(r.type)||"Memo";case C:a=r._payload,r=r._init;try{return Pe(r(a))}catch{}}return null}var Qe=Array.isArray,Z=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,me=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ve={pending:!1,data:null,method:null,action:null},He=[],U=-1;function ae(r){return{current:r}}function pe(r){0>U||(r.current=He[U],He[U]=null,U--)}function ce(r,a){U++,He[U]=r.current,r.current=a}var we=ae(null),Ue=ae(null),Oe=ae(null),Vt=ae(null);function pt(r,a){switch(ce(Oe,a),ce(Ue,r),ce(we,null),a.nodeType){case 9:case 11:r=(r=a.documentElement)&&(r=r.namespaceURI)?mE(r):0;break;default:if(r=a.tagName,a=a.namespaceURI)a=mE(a),r=pE(a,r);else switch(r){case"svg":r=1;break;case"math":r=2;break;default:r=0}}pe(we),ce(we,r)}function Vn(){pe(we),pe(Ue),pe(Oe)}function Dt(r){r.memoizedState!==null&&ce(Vt,r);var a=we.current,o=pE(a,r.type);a!==o&&(ce(Ue,r),ce(we,o))}function Yt(r){Ue.current===r&&(pe(we),pe(Ue)),Vt.current===r&&(pe(Vt),Pu._currentValue=ve)}var yr=Object.prototype.hasOwnProperty,vr=n.unstable_scheduleCallback,yn=n.unstable_cancelCallback,Mi=n.unstable_shouldYield,va=n.unstable_requestPaint,vn=n.unstable_now,vs=n.unstable_getCurrentPriorityLevel,Hr=n.unstable_ImmediatePriority,ii=n.unstable_UserBlockingPriority,qr=n.unstable_NormalPriority,ee=n.unstable_LowPriority,ye=n.unstable_IdlePriority,Ae=n.log,De=n.unstable_setDisableYieldValue,_e=null,Ee=null;function ht(r){if(typeof Ae=="function"&&De(r),Ee&&typeof Ee.setStrictMode=="function")try{Ee.setStrictMode(_e,r)}catch{}}var yt=Math.clz32?Math.clz32:_r,ai=Math.log,Dn=Math.LN2;function _r(r){return r>>>=0,r===0?32:31-(ai(r)/Dn|0)|0}var Wn=256,Er=4194304;function Zn(r){var a=r&42;if(a!==0)return a;switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return r&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return r}}function Pi(r,a,o){var u=r.pendingLanes;if(u===0)return 0;var d=0,g=r.suspendedLanes,b=r.pingedLanes;r=r.warmLanes;var S=u&134217727;return S!==0?(u=S&~g,u!==0?d=Zn(u):(b&=S,b!==0?d=Zn(b):o||(o=S&~r,o!==0&&(d=Zn(o))))):(S=u&~g,S!==0?d=Zn(S):b!==0?d=Zn(b):o||(o=u&~r,o!==0&&(d=Zn(o)))),d===0?0:a!==0&&a!==d&&(a&g)===0&&(g=d&-d,o=a&-a,g>=o||g===32&&(o&4194048)!==0)?a:d}function Tr(r,a){return(r.pendingLanes&~(r.suspendedLanes&~r.pingedLanes)&a)===0}function _a(r,a){switch(r){case 1:case 2:case 4:case 8:case 64:return a+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Li(){var r=Wn;return Wn<<=1,(Wn&4194048)===0&&(Wn=256),r}function _s(){var r=Er;return Er<<=1,(Er&62914560)===0&&(Er=4194304),r}function br(r){for(var a=[],o=0;31>o;o++)a.push(r);return a}function Gr(r,a){r.pendingLanes|=a,a!==268435456&&(r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0)}function Ea(r,a,o,u,d,g){var b=r.pendingLanes;r.pendingLanes=o,r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0,r.expiredLanes&=o,r.entangledLanes&=o,r.errorRecoveryDisabledLanes&=o,r.shellSuspendCounter=0;var S=r.entanglements,M=r.expirationTimes,W=r.hiddenUpdates;for(o=b&~o;0<o;){var ie=31-yt(o),le=1<<ie;S[ie]=0,M[ie]=-1;var J=W[ie];if(J!==null)for(W[ie]=null,ie=0;ie<J.length;ie++){var te=J[ie];te!==null&&(te.lane&=-536870913)}o&=~le}u!==0&&kn(r,u,0),g!==0&&d===0&&r.tag!==0&&(r.suspendedLanes|=g&~(b&~a))}function kn(r,a,o){r.pendingLanes|=a,r.suspendedLanes&=~a;var u=31-yt(a);r.entangledLanes|=a,r.entanglements[u]=r.entanglements[u]|1073741824|o&4194090}function si(r,a){var o=r.entangledLanes|=a;for(r=r.entanglements;o;){var u=31-yt(o),d=1<<u;d&a|r[u]&a&&(r[u]|=a),o&=~d}}function oi(r){switch(r){case 2:r=1;break;case 8:r=4;break;case 32:r=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:r=128;break;case 268435456:r=134217728;break;default:r=0}return r}function Ta(r){return r&=-r,2<r?8<r?(r&134217727)!==0?32:268435456:8:2}function z(){var r=me.p;return r!==0?r:(r=window.event,r===void 0?32:PE(r.type))}function K(r,a){var o=me.p;try{return me.p=r,a()}finally{me.p=o}}var X=Math.random().toString(36).slice(2),oe="__reactFiber$"+X,de="__reactProps$"+X,be="__reactContainer$"+X,Le="__reactEvents$"+X,Se="__reactListeners$"+X,Ce="__reactHandles$"+X,xe="__reactResources$"+X,je="__reactMarker$"+X;function Ie(r){delete r[oe],delete r[de],delete r[Le],delete r[Se],delete r[Ce]}function ze(r){var a=r[oe];if(a)return a;for(var o=r.parentNode;o;){if(a=o[be]||o[oe]){if(o=a.alternate,a.child!==null||o!==null&&o.child!==null)for(r=_E(r);r!==null;){if(o=r[oe])return o;r=_E(r)}return a}r=o,o=r.parentNode}return null}function nt(r){if(r=r[oe]||r[be]){var a=r.tag;if(a===5||a===6||a===13||a===26||a===27||a===3)return r}return null}function vt(r){var a=r.tag;if(a===5||a===26||a===27||a===6)return r.stateNode;throw Error(i(33))}function dt(r){var a=r[xe];return a||(a=r[xe]={hoistableStyles:new Map,hoistableScripts:new Map}),a}function ot(r){r[je]=!0}var Je=new Set,Sr={};function tn(r,a){Un(r,a),Un(r+"Capture",a)}function Un(r,a){for(Sr[r]=a,r=0;r<a.length;r++)Je.add(a[r])}var _n=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),li={},Jn={};function ba(r){return yr.call(Jn,r)?!0:yr.call(li,r)?!1:_n.test(r)?Jn[r]=!0:(li[r]=!0,!1)}function On(r,a,o){if(ba(a))if(o===null)r.removeAttribute(a);else{switch(typeof o){case"undefined":case"function":case"symbol":r.removeAttribute(a);return;case"boolean":var u=a.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){r.removeAttribute(a);return}}r.setAttribute(a,""+o)}}function jn(r,a,o){if(o===null)r.removeAttribute(a);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(a);return}r.setAttribute(a,""+o)}}function Ge(r,a,o,u){if(u===null)r.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(o);return}r.setAttributeNS(a,o,""+u)}}var Xt,er;function Bn(r){if(Xt===void 0)try{throw Error()}catch(o){var a=o.stack.trim().match(/\n( *(at )?)/);Xt=a&&a[1]||"",er=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Xt+r+er}var ui=!1;function Ot(r,a){if(!r||ui)return"";ui=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(a){var le=function(){throw Error()};if(Object.defineProperty(le.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(le,[])}catch(te){var J=te}Reflect.construct(r,[],le)}else{try{le.call()}catch(te){J=te}r.call(le.prototype)}}else{try{throw Error()}catch(te){J=te}(le=r())&&typeof le.catch=="function"&&le.catch(function(){})}}catch(te){if(te&&J&&typeof te.stack=="string")return[te.stack,J.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var d=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");d&&d.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var g=u.DetermineComponentFrameRoot(),b=g[0],S=g[1];if(b&&S){var M=b.split(`
`),W=S.split(`
`);for(d=u=0;u<M.length&&!M[u].includes("DetermineComponentFrameRoot");)u++;for(;d<W.length&&!W[d].includes("DetermineComponentFrameRoot");)d++;if(u===M.length||d===W.length)for(u=M.length-1,d=W.length-1;1<=u&&0<=d&&M[u]!==W[d];)d--;for(;1<=u&&0<=d;u--,d--)if(M[u]!==W[d]){if(u!==1||d!==1)do if(u--,d--,0>d||M[u]!==W[d]){var ie=`
`+M[u].replace(" at new "," at ");return r.displayName&&ie.includes("<anonymous>")&&(ie=ie.replace("<anonymous>",r.displayName)),ie}while(1<=u&&0<=d);break}}}finally{ui=!1,Error.prepareStackTrace=o}return(o=r?r.displayName||r.name:"")?Bn(o):""}function wr(r){switch(r.tag){case 26:case 27:case 5:return Bn(r.type);case 16:return Bn("Lazy");case 13:return Bn("Suspense");case 19:return Bn("SuspenseList");case 0:case 15:return Ot(r.type,!1);case 11:return Ot(r.type.render,!1);case 1:return Ot(r.type,!0);case 31:return Bn("Activity");default:return""}}function Vi(r){try{var a="";do a+=wr(r),r=r.return;while(r);return a}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}function En(r){switch(typeof r){case"bigint":case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function Bl(r){var a=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function kd(r){var a=Bl(r)?"checked":"value",o=Object.getOwnPropertyDescriptor(r.constructor.prototype,a),u=""+r[a];if(!r.hasOwnProperty(a)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var d=o.get,g=o.set;return Object.defineProperty(r,a,{configurable:!0,get:function(){return d.call(this)},set:function(b){u=""+b,g.call(this,b)}}),Object.defineProperty(r,a,{enumerable:o.enumerable}),{getValue:function(){return u},setValue:function(b){u=""+b},stopTracking:function(){r._valueTracker=null,delete r[a]}}}}function bo(r){r._valueTracker||(r._valueTracker=kd(r))}function $l(r){if(!r)return!1;var a=r._valueTracker;if(!a)return!0;var o=a.getValue(),u="";return r&&(u=Bl(r)?r.checked?"true":"false":r.value),r=u,r!==o?(a.setValue(r),!0):!1}function Es(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}var Ud=/[\n"\\]/g;function Wt(r){return r.replace(Ud,function(a){return"\\"+a.charCodeAt(0).toString(16)+" "})}function tr(r,a,o,u,d,g,b,S){r.name="",b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?r.type=b:r.removeAttribute("type"),a!=null?b==="number"?(a===0&&r.value===""||r.value!=a)&&(r.value=""+En(a)):r.value!==""+En(a)&&(r.value=""+En(a)):b!=="submit"&&b!=="reset"||r.removeAttribute("value"),a!=null?Sa(r,b,En(a)):o!=null?Sa(r,b,En(o)):u!=null&&r.removeAttribute("value"),d==null&&g!=null&&(r.defaultChecked=!!g),d!=null&&(r.checked=d&&typeof d!="function"&&typeof d!="symbol"),S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?r.name=""+En(S):r.removeAttribute("name")}function Ts(r,a,o,u,d,g,b,S){if(g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(r.type=g),a!=null||o!=null){if(!(g!=="submit"&&g!=="reset"||a!=null))return;o=o!=null?""+En(o):"",a=a!=null?""+En(a):o,S||a===r.value||(r.value=a),r.defaultValue=a}u=u??d,u=typeof u!="function"&&typeof u!="symbol"&&!!u,r.checked=S?r.checked:!!u,r.defaultChecked=!!u,b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"&&(r.name=b)}function Sa(r,a,o){a==="number"&&Es(r.ownerDocument)===r||r.defaultValue===""+o||(r.defaultValue=""+o)}function ki(r,a,o,u){if(r=r.options,a){a={};for(var d=0;d<o.length;d++)a["$"+o[d]]=!0;for(o=0;o<r.length;o++)d=a.hasOwnProperty("$"+r[o].value),r[o].selected!==d&&(r[o].selected=d),d&&u&&(r[o].defaultSelected=!0)}else{for(o=""+En(o),a=null,d=0;d<r.length;d++){if(r[d].value===o){r[d].selected=!0,u&&(r[d].defaultSelected=!0);return}a!==null||r[d].disabled||(a=r[d])}a!==null&&(a.selected=!0)}}function wt(r,a,o){if(a!=null&&(a=""+En(a),a!==r.value&&(r.value=a),o==null)){r.defaultValue!==a&&(r.defaultValue=a);return}r.defaultValue=o!=null?""+En(o):""}function bs(r,a,o,u){if(a==null){if(u!=null){if(o!=null)throw Error(i(92));if(Qe(u)){if(1<u.length)throw Error(i(93));u=u[0]}o=u}o==null&&(o=""),a=o}o=En(a),r.defaultValue=o,u=r.textContent,u===o&&u!==""&&u!==null&&(r.value=u)}function Ar(r,a){if(a){var o=r.firstChild;if(o&&o===r.lastChild&&o.nodeType===3){o.nodeValue=a;return}}r.textContent=a}var Ss=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Uc(r,a,o){var u=a.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?u?r.setProperty(a,""):a==="float"?r.cssFloat="":r[a]="":u?r.setProperty(a,o):typeof o!="number"||o===0||Ss.has(a)?a==="float"?r.cssFloat=o:r[a]=(""+o).trim():r[a]=o+"px"}function Hl(r,a,o){if(a!=null&&typeof a!="object")throw Error(i(62));if(r=r.style,o!=null){for(var u in o)!o.hasOwnProperty(u)||a!=null&&a.hasOwnProperty(u)||(u.indexOf("--")===0?r.setProperty(u,""):u==="float"?r.cssFloat="":r[u]="");for(var d in a)u=a[d],a.hasOwnProperty(d)&&o[d]!==u&&Uc(r,d,u)}else for(var g in a)a.hasOwnProperty(g)&&Uc(r,g,a[g])}function ql(r){if(r.indexOf("-")===-1)return!1;switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var jd=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),zd=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function So(r){return zd.test(""+r)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":r}var Ui=null;function Rr(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var ji=null,zi=null;function Gl(r){var a=nt(r);if(a&&(r=a.stateNode)){var o=r[de]||null;e:switch(r=a.stateNode,a.type){case"input":if(tr(r,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),a=o.name,o.type==="radio"&&a!=null){for(o=r;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+Wt(""+a)+'"][type="radio"]'),a=0;a<o.length;a++){var u=o[a];if(u!==r&&u.form===r.form){var d=u[de]||null;if(!d)throw Error(i(90));tr(u,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name)}}for(a=0;a<o.length;a++)u=o[a],u.form===r.form&&$l(u)}break e;case"textarea":wt(r,o.value,o.defaultValue);break e;case"select":a=o.value,a!=null&&ki(r,!!o.multiple,a,!1)}}}var ci=!1;function jc(r,a,o){if(ci)return r(a,o);ci=!0;try{var u=r(a);return u}finally{if(ci=!1,(ji!==null||zi!==null)&&(Mf(),ji&&(a=ji,r=zi,zi=ji=null,Gl(a),r)))for(a=0;a<r.length;a++)Gl(r[a])}}function ws(r,a){var o=r.stateNode;if(o===null)return null;var u=o[de]||null;if(u===null)return null;o=u[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(r=r.type,u=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!u;break e;default:r=!1}if(r)return null;if(o&&typeof o!="function")throw Error(i(231,a,typeof o));return o}var Kr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Cr=!1;if(Kr)try{var As={};Object.defineProperty(As,"passive",{get:function(){Cr=!0}}),window.addEventListener("test",As,As),window.removeEventListener("test",As,As)}catch{Cr=!1}var fi=null,wa=null,Fi=null;function Kl(){if(Fi)return Fi;var r,a=wa,o=a.length,u,d="value"in fi?fi.value:fi.textContent,g=d.length;for(r=0;r<o&&a[r]===d[r];r++);var b=o-r;for(u=1;u<=b&&a[o-u]===d[g-u];u++);return Fi=d.slice(r,1<u?1-u:void 0)}function hi(r){var a=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&a===13&&(r=13)):r=a,r===10&&(r=13),32<=r||r===13?r:0}function di(){return!0}function Ql(){return!1}function cn(r){function a(o,u,d,g,b){this._reactName=o,this._targetInst=d,this.type=u,this.nativeEvent=g,this.target=b,this.currentTarget=null;for(var S in r)r.hasOwnProperty(S)&&(o=r[S],this[S]=o?o(g):g[S]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?di:Ql,this.isPropagationStopped=Ql,this}return y(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=di)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=di)},persist:function(){},isPersistent:di}),a}var _t={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},wo=cn(_t),Rs=y({},_t,{view:0,detail:0}),zc=cn(Rs),Ao,Ro,mi,Cs=y({},Rs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Os,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==mi&&(mi&&r.type==="mousemove"?(Ao=r.screenX-mi.screenX,Ro=r.screenY-mi.screenY):Ro=Ao=0,mi=r),Ao)},movementY:function(r){return"movementY"in r?r.movementY:Ro}}),Ir=cn(Cs),Fc=y({},Cs,{dataTransfer:0}),Fd=cn(Fc),Is=y({},Rs,{relatedTarget:0}),Co=cn(Is),Yl=y({},_t,{animationName:0,elapsedTime:0,pseudoElement:0}),Io=cn(Yl),Bc=y({},_t,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),Do=cn(Bc),Bd=y({},_t,{data:0}),Xl=cn(Bd),Ds={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},$c={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Hc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Wl(r){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(r):(r=Hc[r])?!!a[r]:!1}function Os(){return Wl}var qc=y({},Rs,{key:function(r){if(r.key){var a=Ds[r.key]||r.key;if(a!=="Unidentified")return a}return r.type==="keypress"?(r=hi(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?$c[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Os,charCode:function(r){return r.type==="keypress"?hi(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?hi(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),Oo=cn(qc),Gc=y({},Cs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Zl=cn(Gc),Bi=y({},Rs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Os}),Kc=cn(Bi),Qc=y({},_t,{propertyName:0,elapsedTime:0,pseudoElement:0}),Yc=cn(Qc),Xc=y({},Cs,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),xo=cn(Xc),zn=y({},_t,{newState:0,oldState:0}),Wc=cn(zn),Zc=[9,13,27,32],pi=Kr&&"CompositionEvent"in window,f=null;Kr&&"documentMode"in document&&(f=document.documentMode);var v=Kr&&"TextEvent"in window&&!f,T=Kr&&(!pi||f&&8<f&&11>=f),A=" ",Q=!1;function re(r,a){switch(r){case"keyup":return Zc.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ge(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var lt=!1;function nn(r,a){switch(r){case"compositionend":return ge(a);case"keypress":return a.which!==32?null:(Q=!0,A);case"textInput":return r=a.data,r===A&&Q?null:r;default:return null}}function ut(r,a){if(lt)return r==="compositionend"||!pi&&re(r,a)?(r=Kl(),Fi=wa=fi=null,lt=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return T&&a.locale!=="ko"?null:a.data;default:return null}}var fn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function rn(r){var a=r&&r.nodeName&&r.nodeName.toLowerCase();return a==="input"?!!fn[r.type]:a==="textarea"}function $i(r,a,o,u){ji?zi?zi.push(u):zi=[u]:ji=u,a=jf(a,"onChange"),0<a.length&&(o=new wo("onChange","change",null,o,u),r.push({event:o,listeners:a}))}var Tn=null,gi=null;function Jl(r){uE(r,0)}function Jc(r){var a=vt(r);if($l(a))return r}function Ov(r,a){if(r==="change")return a}var xv=!1;if(Kr){var $d;if(Kr){var Hd="oninput"in document;if(!Hd){var Nv=document.createElement("div");Nv.setAttribute("oninput","return;"),Hd=typeof Nv.oninput=="function"}$d=Hd}else $d=!1;xv=$d&&(!document.documentMode||9<document.documentMode)}function Mv(){Tn&&(Tn.detachEvent("onpropertychange",Pv),gi=Tn=null)}function Pv(r){if(r.propertyName==="value"&&Jc(gi)){var a=[];$i(a,gi,r,Rr(r)),jc(Jl,a)}}function yC(r,a,o){r==="focusin"?(Mv(),Tn=a,gi=o,Tn.attachEvent("onpropertychange",Pv)):r==="focusout"&&Mv()}function vC(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return Jc(gi)}function _C(r,a){if(r==="click")return Jc(a)}function EC(r,a){if(r==="input"||r==="change")return Jc(a)}function TC(r,a){return r===a&&(r!==0||1/r===1/a)||r!==r&&a!==a}var nr=typeof Object.is=="function"?Object.is:TC;function eu(r,a){if(nr(r,a))return!0;if(typeof r!="object"||r===null||typeof a!="object"||a===null)return!1;var o=Object.keys(r),u=Object.keys(a);if(o.length!==u.length)return!1;for(u=0;u<o.length;u++){var d=o[u];if(!yr.call(a,d)||!nr(r[d],a[d]))return!1}return!0}function Lv(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function Vv(r,a){var o=Lv(r);r=0;for(var u;o;){if(o.nodeType===3){if(u=r+o.textContent.length,r<=a&&u>=a)return{node:o,offset:a-r};r=u}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=Lv(o)}}function kv(r,a){return r&&a?r===a?!0:r&&r.nodeType===3?!1:a&&a.nodeType===3?kv(r,a.parentNode):"contains"in r?r.contains(a):r.compareDocumentPosition?!!(r.compareDocumentPosition(a)&16):!1:!1}function Uv(r){r=r!=null&&r.ownerDocument!=null&&r.ownerDocument.defaultView!=null?r.ownerDocument.defaultView:window;for(var a=Es(r.document);a instanceof r.HTMLIFrameElement;){try{var o=typeof a.contentWindow.location.href=="string"}catch{o=!1}if(o)r=a.contentWindow;else break;a=Es(r.document)}return a}function qd(r){var a=r&&r.nodeName&&r.nodeName.toLowerCase();return a&&(a==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||a==="textarea"||r.contentEditable==="true")}var bC=Kr&&"documentMode"in document&&11>=document.documentMode,No=null,Gd=null,tu=null,Kd=!1;function jv(r,a,o){var u=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;Kd||No==null||No!==Es(u)||(u=No,"selectionStart"in u&&qd(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),tu&&eu(tu,u)||(tu=u,u=jf(Gd,"onSelect"),0<u.length&&(a=new wo("onSelect","select",null,a,o),r.push({event:a,listeners:u}),a.target=No)))}function xs(r,a){var o={};return o[r.toLowerCase()]=a.toLowerCase(),o["Webkit"+r]="webkit"+a,o["Moz"+r]="moz"+a,o}var Mo={animationend:xs("Animation","AnimationEnd"),animationiteration:xs("Animation","AnimationIteration"),animationstart:xs("Animation","AnimationStart"),transitionrun:xs("Transition","TransitionRun"),transitionstart:xs("Transition","TransitionStart"),transitioncancel:xs("Transition","TransitionCancel"),transitionend:xs("Transition","TransitionEnd")},Qd={},zv={};Kr&&(zv=document.createElement("div").style,"AnimationEvent"in window||(delete Mo.animationend.animation,delete Mo.animationiteration.animation,delete Mo.animationstart.animation),"TransitionEvent"in window||delete Mo.transitionend.transition);function Ns(r){if(Qd[r])return Qd[r];if(!Mo[r])return r;var a=Mo[r],o;for(o in a)if(a.hasOwnProperty(o)&&o in zv)return Qd[r]=a[o];return r}var Fv=Ns("animationend"),Bv=Ns("animationiteration"),$v=Ns("animationstart"),SC=Ns("transitionrun"),wC=Ns("transitionstart"),AC=Ns("transitioncancel"),Hv=Ns("transitionend"),qv=new Map,Yd="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Yd.push("scrollEnd");function Qr(r,a){qv.set(r,a),tn(a,[r])}var Gv=new WeakMap;function Dr(r,a){if(typeof r=="object"&&r!==null){var o=Gv.get(r);return o!==void 0?o:(a={value:r,source:a,stack:Vi(a)},Gv.set(r,a),a)}return{value:r,source:a,stack:Vi(a)}}var Or=[],Po=0,Xd=0;function ef(){for(var r=Po,a=Xd=Po=0;a<r;){var o=Or[a];Or[a++]=null;var u=Or[a];Or[a++]=null;var d=Or[a];Or[a++]=null;var g=Or[a];if(Or[a++]=null,u!==null&&d!==null){var b=u.pending;b===null?d.next=d:(d.next=b.next,b.next=d),u.pending=d}g!==0&&Kv(o,d,g)}}function tf(r,a,o,u){Or[Po++]=r,Or[Po++]=a,Or[Po++]=o,Or[Po++]=u,Xd|=u,r.lanes|=u,r=r.alternate,r!==null&&(r.lanes|=u)}function Wd(r,a,o,u){return tf(r,a,o,u),nf(r)}function Lo(r,a){return tf(r,null,null,a),nf(r)}function Kv(r,a,o){r.lanes|=o;var u=r.alternate;u!==null&&(u.lanes|=o);for(var d=!1,g=r.return;g!==null;)g.childLanes|=o,u=g.alternate,u!==null&&(u.childLanes|=o),g.tag===22&&(r=g.stateNode,r===null||r._visibility&1||(d=!0)),r=g,g=g.return;return r.tag===3?(g=r.stateNode,d&&a!==null&&(d=31-yt(o),r=g.hiddenUpdates,u=r[d],u===null?r[d]=[a]:u.push(a),a.lane=o|536870912),g):null}function nf(r){if(50<Ru)throw Ru=0,rp=null,Error(i(185));for(var a=r.return;a!==null;)r=a,a=r.return;return r.tag===3?r.stateNode:null}var Vo={};function RC(r,a,o,u){this.tag=r,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function rr(r,a,o,u){return new RC(r,a,o,u)}function Zd(r){return r=r.prototype,!(!r||!r.isReactComponent)}function Hi(r,a){var o=r.alternate;return o===null?(o=rr(r.tag,a,r.key,r.mode),o.elementType=r.elementType,o.type=r.type,o.stateNode=r.stateNode,o.alternate=r,r.alternate=o):(o.pendingProps=a,o.type=r.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=r.flags&65011712,o.childLanes=r.childLanes,o.lanes=r.lanes,o.child=r.child,o.memoizedProps=r.memoizedProps,o.memoizedState=r.memoizedState,o.updateQueue=r.updateQueue,a=r.dependencies,o.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},o.sibling=r.sibling,o.index=r.index,o.ref=r.ref,o.refCleanup=r.refCleanup,o}function Qv(r,a){r.flags&=65011714;var o=r.alternate;return o===null?(r.childLanes=0,r.lanes=a,r.child=null,r.subtreeFlags=0,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null,r.stateNode=null):(r.childLanes=o.childLanes,r.lanes=o.lanes,r.child=o.child,r.subtreeFlags=0,r.deletions=null,r.memoizedProps=o.memoizedProps,r.memoizedState=o.memoizedState,r.updateQueue=o.updateQueue,r.type=o.type,a=o.dependencies,r.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),r}function rf(r,a,o,u,d,g){var b=0;if(u=r,typeof r=="function")Zd(r)&&(b=1);else if(typeof r=="string")b=II(r,o,we.current)?26:r==="html"||r==="head"||r==="body"?27:5;else e:switch(r){case I:return r=rr(31,o,a,d),r.elementType=I,r.lanes=g,r;case R:return Ms(o.children,d,g,a);case P:b=8,d|=24;break;case L:return r=rr(12,o,a,d|2),r.elementType=L,r.lanes=g,r;case H:return r=rr(13,o,a,d),r.elementType=H,r.lanes=g,r;case V:return r=rr(19,o,a,d),r.elementType=V,r.lanes=g,r;default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case x:case ne:b=10;break e;case $:b=9;break e;case fe:b=11;break e;case O:b=14;break e;case C:b=16,u=null;break e}b=29,o=Error(i(130,r===null?"null":typeof r,"")),u=null}return a=rr(b,o,a,d),a.elementType=r,a.type=u,a.lanes=g,a}function Ms(r,a,o,u){return r=rr(7,r,u,a),r.lanes=o,r}function Jd(r,a,o){return r=rr(6,r,null,a),r.lanes=o,r}function em(r,a,o){return a=rr(4,r.children!==null?r.children:[],r.key,a),a.lanes=o,a.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},a}var ko=[],Uo=0,af=null,sf=0,xr=[],Nr=0,Ps=null,qi=1,Gi="";function Ls(r,a){ko[Uo++]=sf,ko[Uo++]=af,af=r,sf=a}function Yv(r,a,o){xr[Nr++]=qi,xr[Nr++]=Gi,xr[Nr++]=Ps,Ps=r;var u=qi;r=Gi;var d=32-yt(u)-1;u&=~(1<<d),o+=1;var g=32-yt(a)+d;if(30<g){var b=d-d%5;g=(u&(1<<b)-1).toString(32),u>>=b,d-=b,qi=1<<32-yt(a)+d|o<<d|u,Gi=g+r}else qi=1<<g|o<<d|u,Gi=r}function tm(r){r.return!==null&&(Ls(r,1),Yv(r,1,0))}function nm(r){for(;r===af;)af=ko[--Uo],ko[Uo]=null,sf=ko[--Uo],ko[Uo]=null;for(;r===Ps;)Ps=xr[--Nr],xr[Nr]=null,Gi=xr[--Nr],xr[Nr]=null,qi=xr[--Nr],xr[Nr]=null}var Fn=null,Bt=null,gt=!1,Vs=null,yi=!1,rm=Error(i(519));function ks(r){var a=Error(i(418,""));throw iu(Dr(a,r)),rm}function Xv(r){var a=r.stateNode,o=r.type,u=r.memoizedProps;switch(a[oe]=r,a[de]=u,o){case"dialog":it("cancel",a),it("close",a);break;case"iframe":case"object":case"embed":it("load",a);break;case"video":case"audio":for(o=0;o<Iu.length;o++)it(Iu[o],a);break;case"source":it("error",a);break;case"img":case"image":case"link":it("error",a),it("load",a);break;case"details":it("toggle",a);break;case"input":it("invalid",a),Ts(a,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0),bo(a);break;case"select":it("invalid",a);break;case"textarea":it("invalid",a),bs(a,u.value,u.defaultValue,u.children),bo(a)}o=u.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||a.textContent===""+o||u.suppressHydrationWarning===!0||dE(a.textContent,o)?(u.popover!=null&&(it("beforetoggle",a),it("toggle",a)),u.onScroll!=null&&it("scroll",a),u.onScrollEnd!=null&&it("scrollend",a),u.onClick!=null&&(a.onclick=zf),a=!0):a=!1,a||ks(r)}function Wv(r){for(Fn=r.return;Fn;)switch(Fn.tag){case 5:case 13:yi=!1;return;case 27:case 3:yi=!0;return;default:Fn=Fn.return}}function nu(r){if(r!==Fn)return!1;if(!gt)return Wv(r),gt=!0,!1;var a=r.tag,o;if((o=a!==3&&a!==27)&&((o=a===5)&&(o=r.type,o=!(o!=="form"&&o!=="button")||_p(r.type,r.memoizedProps)),o=!o),o&&Bt&&ks(r),Wv(r),a===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(i(317));e:{for(r=r.nextSibling,a=0;r;){if(r.nodeType===8)if(o=r.data,o==="/$"){if(a===0){Bt=Xr(r.nextSibling);break e}a--}else o!=="$"&&o!=="$!"&&o!=="$?"||a++;r=r.nextSibling}Bt=null}}else a===27?(a=Bt,za(r.type)?(r=Sp,Sp=null,Bt=r):Bt=a):Bt=Fn?Xr(r.stateNode.nextSibling):null;return!0}function ru(){Bt=Fn=null,gt=!1}function Zv(){var r=Vs;return r!==null&&(qn===null?qn=r:qn.push.apply(qn,r),Vs=null),r}function iu(r){Vs===null?Vs=[r]:Vs.push(r)}var im=ae(null),Us=null,Ki=null;function Aa(r,a,o){ce(im,a._currentValue),a._currentValue=o}function Qi(r){r._currentValue=im.current,pe(im)}function am(r,a,o){for(;r!==null;){var u=r.alternate;if((r.childLanes&a)!==a?(r.childLanes|=a,u!==null&&(u.childLanes|=a)):u!==null&&(u.childLanes&a)!==a&&(u.childLanes|=a),r===o)break;r=r.return}}function sm(r,a,o,u){var d=r.child;for(d!==null&&(d.return=r);d!==null;){var g=d.dependencies;if(g!==null){var b=d.child;g=g.firstContext;e:for(;g!==null;){var S=g;g=d;for(var M=0;M<a.length;M++)if(S.context===a[M]){g.lanes|=o,S=g.alternate,S!==null&&(S.lanes|=o),am(g.return,o,r),u||(b=null);break e}g=S.next}}else if(d.tag===18){if(b=d.return,b===null)throw Error(i(341));b.lanes|=o,g=b.alternate,g!==null&&(g.lanes|=o),am(b,o,r),b=null}else b=d.child;if(b!==null)b.return=d;else for(b=d;b!==null;){if(b===r){b=null;break}if(d=b.sibling,d!==null){d.return=b.return,b=d;break}b=b.return}d=b}}function au(r,a,o,u){r=null;for(var d=a,g=!1;d!==null;){if(!g){if((d.flags&524288)!==0)g=!0;else if((d.flags&262144)!==0)break}if(d.tag===10){var b=d.alternate;if(b===null)throw Error(i(387));if(b=b.memoizedProps,b!==null){var S=d.type;nr(d.pendingProps.value,b.value)||(r!==null?r.push(S):r=[S])}}else if(d===Vt.current){if(b=d.alternate,b===null)throw Error(i(387));b.memoizedState.memoizedState!==d.memoizedState.memoizedState&&(r!==null?r.push(Pu):r=[Pu])}d=d.return}r!==null&&sm(a,r,o,u),a.flags|=262144}function of(r){for(r=r.firstContext;r!==null;){if(!nr(r.context._currentValue,r.memoizedValue))return!0;r=r.next}return!1}function js(r){Us=r,Ki=null,r=r.dependencies,r!==null&&(r.firstContext=null)}function xn(r){return Jv(Us,r)}function lf(r,a){return Us===null&&js(r),Jv(r,a)}function Jv(r,a){var o=a._currentValue;if(a={context:a,memoizedValue:o,next:null},Ki===null){if(r===null)throw Error(i(308));Ki=a,r.dependencies={lanes:0,firstContext:a},r.flags|=524288}else Ki=Ki.next=a;return o}var CC=typeof AbortController<"u"?AbortController:function(){var r=[],a=this.signal={aborted:!1,addEventListener:function(o,u){r.push(u)}};this.abort=function(){a.aborted=!0,r.forEach(function(o){return o()})}},IC=n.unstable_scheduleCallback,DC=n.unstable_NormalPriority,an={$$typeof:ne,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function om(){return{controller:new CC,data:new Map,refCount:0}}function su(r){r.refCount--,r.refCount===0&&IC(DC,function(){r.controller.abort()})}var ou=null,lm=0,jo=0,zo=null;function OC(r,a){if(ou===null){var o=ou=[];lm=0,jo=cp(),zo={status:"pending",value:void 0,then:function(u){o.push(u)}}}return lm++,a.then(e_,e_),a}function e_(){if(--lm===0&&ou!==null){zo!==null&&(zo.status="fulfilled");var r=ou;ou=null,jo=0,zo=null;for(var a=0;a<r.length;a++)(0,r[a])()}}function xC(r,a){var o=[],u={status:"pending",value:null,reason:null,then:function(d){o.push(d)}};return r.then(function(){u.status="fulfilled",u.value=a;for(var d=0;d<o.length;d++)(0,o[d])(a)},function(d){for(u.status="rejected",u.reason=d,d=0;d<o.length;d++)(0,o[d])(void 0)}),u}var t_=Z.S;Z.S=function(r,a){typeof a=="object"&&a!==null&&typeof a.then=="function"&&OC(r,a),t_!==null&&t_(r,a)};var zs=ae(null);function um(){var r=zs.current;return r!==null?r:Nt.pooledCache}function uf(r,a){a===null?ce(zs,zs.current):ce(zs,a.pool)}function n_(){var r=um();return r===null?null:{parent:an._currentValue,pool:r}}var lu=Error(i(460)),r_=Error(i(474)),cf=Error(i(542)),cm={then:function(){}};function i_(r){return r=r.status,r==="fulfilled"||r==="rejected"}function ff(){}function a_(r,a,o){switch(o=r[o],o===void 0?r.push(a):o!==a&&(a.then(ff,ff),a=o),a.status){case"fulfilled":return a.value;case"rejected":throw r=a.reason,o_(r),r;default:if(typeof a.status=="string")a.then(ff,ff);else{if(r=Nt,r!==null&&100<r.shellSuspendCounter)throw Error(i(482));r=a,r.status="pending",r.then(function(u){if(a.status==="pending"){var d=a;d.status="fulfilled",d.value=u}},function(u){if(a.status==="pending"){var d=a;d.status="rejected",d.reason=u}})}switch(a.status){case"fulfilled":return a.value;case"rejected":throw r=a.reason,o_(r),r}throw uu=a,lu}}var uu=null;function s_(){if(uu===null)throw Error(i(459));var r=uu;return uu=null,r}function o_(r){if(r===lu||r===cf)throw Error(i(483))}var Ra=!1;function fm(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function hm(r,a){r=r.updateQueue,a.updateQueue===r&&(a.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,callbacks:null})}function Ca(r){return{lane:r,tag:0,payload:null,callback:null,next:null}}function Ia(r,a,o){var u=r.updateQueue;if(u===null)return null;if(u=u.shared,(bt&2)!==0){var d=u.pending;return d===null?a.next=a:(a.next=d.next,d.next=a),u.pending=a,a=nf(r),Kv(r,null,o),a}return tf(r,u,a,o),nf(r)}function cu(r,a,o){if(a=a.updateQueue,a!==null&&(a=a.shared,(o&4194048)!==0)){var u=a.lanes;u&=r.pendingLanes,o|=u,a.lanes=o,si(r,o)}}function dm(r,a){var o=r.updateQueue,u=r.alternate;if(u!==null&&(u=u.updateQueue,o===u)){var d=null,g=null;if(o=o.firstBaseUpdate,o!==null){do{var b={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};g===null?d=g=b:g=g.next=b,o=o.next}while(o!==null);g===null?d=g=a:g=g.next=a}else d=g=a;o={baseState:u.baseState,firstBaseUpdate:d,lastBaseUpdate:g,shared:u.shared,callbacks:u.callbacks},r.updateQueue=o;return}r=o.lastBaseUpdate,r===null?o.firstBaseUpdate=a:r.next=a,o.lastBaseUpdate=a}var mm=!1;function fu(){if(mm){var r=zo;if(r!==null)throw r}}function hu(r,a,o,u){mm=!1;var d=r.updateQueue;Ra=!1;var g=d.firstBaseUpdate,b=d.lastBaseUpdate,S=d.shared.pending;if(S!==null){d.shared.pending=null;var M=S,W=M.next;M.next=null,b===null?g=W:b.next=W,b=M;var ie=r.alternate;ie!==null&&(ie=ie.updateQueue,S=ie.lastBaseUpdate,S!==b&&(S===null?ie.firstBaseUpdate=W:S.next=W,ie.lastBaseUpdate=M))}if(g!==null){var le=d.baseState;b=0,ie=W=M=null,S=g;do{var J=S.lane&-536870913,te=J!==S.lane;if(te?(ct&J)===J:(u&J)===J){J!==0&&J===jo&&(mm=!0),ie!==null&&(ie=ie.next={lane:0,tag:S.tag,payload:S.payload,callback:null,next:null});e:{var qe=r,ke=S;J=a;var Ct=o;switch(ke.tag){case 1:if(qe=ke.payload,typeof qe=="function"){le=qe.call(Ct,le,J);break e}le=qe;break e;case 3:qe.flags=qe.flags&-65537|128;case 0:if(qe=ke.payload,J=typeof qe=="function"?qe.call(Ct,le,J):qe,J==null)break e;le=y({},le,J);break e;case 2:Ra=!0}}J=S.callback,J!==null&&(r.flags|=64,te&&(r.flags|=8192),te=d.callbacks,te===null?d.callbacks=[J]:te.push(J))}else te={lane:J,tag:S.tag,payload:S.payload,callback:S.callback,next:null},ie===null?(W=ie=te,M=le):ie=ie.next=te,b|=J;if(S=S.next,S===null){if(S=d.shared.pending,S===null)break;te=S,S=te.next,te.next=null,d.lastBaseUpdate=te,d.shared.pending=null}}while(!0);ie===null&&(M=le),d.baseState=M,d.firstBaseUpdate=W,d.lastBaseUpdate=ie,g===null&&(d.shared.lanes=0),Va|=b,r.lanes=b,r.memoizedState=le}}function l_(r,a){if(typeof r!="function")throw Error(i(191,r));r.call(a)}function u_(r,a){var o=r.callbacks;if(o!==null)for(r.callbacks=null,r=0;r<o.length;r++)l_(o[r],a)}var Fo=ae(null),hf=ae(0);function c_(r,a){r=ta,ce(hf,r),ce(Fo,a),ta=r|a.baseLanes}function pm(){ce(hf,ta),ce(Fo,Fo.current)}function gm(){ta=hf.current,pe(Fo),pe(hf)}var Da=0,We=null,At=null,Zt=null,df=!1,Bo=!1,Fs=!1,mf=0,du=0,$o=null,NC=0;function Gt(){throw Error(i(321))}function ym(r,a){if(a===null)return!1;for(var o=0;o<a.length&&o<r.length;o++)if(!nr(r[o],a[o]))return!1;return!0}function vm(r,a,o,u,d,g){return Da=g,We=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,Z.H=r===null||r.memoizedState===null?K_:Q_,Fs=!1,g=o(u,d),Fs=!1,Bo&&(g=h_(a,o,u,d)),f_(r),g}function f_(r){Z.H=Ef;var a=At!==null&&At.next!==null;if(Da=0,Zt=At=We=null,df=!1,du=0,$o=null,a)throw Error(i(300));r===null||hn||(r=r.dependencies,r!==null&&of(r)&&(hn=!0))}function h_(r,a,o,u){We=r;var d=0;do{if(Bo&&($o=null),du=0,Bo=!1,25<=d)throw Error(i(301));if(d+=1,Zt=At=null,r.updateQueue!=null){var g=r.updateQueue;g.lastEffect=null,g.events=null,g.stores=null,g.memoCache!=null&&(g.memoCache.index=0)}Z.H=jC,g=a(o,u)}while(Bo);return g}function MC(){var r=Z.H,a=r.useState()[0];return a=typeof a.then=="function"?mu(a):a,r=r.useState()[0],(At!==null?At.memoizedState:null)!==r&&(We.flags|=1024),a}function _m(){var r=mf!==0;return mf=0,r}function Em(r,a,o){a.updateQueue=r.updateQueue,a.flags&=-2053,r.lanes&=~o}function Tm(r){if(df){for(r=r.memoizedState;r!==null;){var a=r.queue;a!==null&&(a.pending=null),r=r.next}df=!1}Da=0,Zt=At=We=null,Bo=!1,du=mf=0,$o=null}function $n(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Zt===null?We.memoizedState=Zt=r:Zt=Zt.next=r,Zt}function Jt(){if(At===null){var r=We.alternate;r=r!==null?r.memoizedState:null}else r=At.next;var a=Zt===null?We.memoizedState:Zt.next;if(a!==null)Zt=a,At=r;else{if(r===null)throw We.alternate===null?Error(i(467)):Error(i(310));At=r,r={memoizedState:At.memoizedState,baseState:At.baseState,baseQueue:At.baseQueue,queue:At.queue,next:null},Zt===null?We.memoizedState=Zt=r:Zt=Zt.next=r}return Zt}function bm(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function mu(r){var a=du;return du+=1,$o===null&&($o=[]),r=a_($o,r,a),a=We,(Zt===null?a.memoizedState:Zt.next)===null&&(a=a.alternate,Z.H=a===null||a.memoizedState===null?K_:Q_),r}function pf(r){if(r!==null&&typeof r=="object"){if(typeof r.then=="function")return mu(r);if(r.$$typeof===ne)return xn(r)}throw Error(i(438,String(r)))}function Sm(r){var a=null,o=We.updateQueue;if(o!==null&&(a=o.memoCache),a==null){var u=We.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(a={data:u.data.map(function(d){return d.slice()}),index:0})))}if(a==null&&(a={data:[],index:0}),o===null&&(o=bm(),We.updateQueue=o),o.memoCache=a,o=a.data[a.index],o===void 0)for(o=a.data[a.index]=Array(r),u=0;u<r;u++)o[u]=j;return a.index++,o}function Yi(r,a){return typeof a=="function"?a(r):a}function gf(r){var a=Jt();return wm(a,At,r)}function wm(r,a,o){var u=r.queue;if(u===null)throw Error(i(311));u.lastRenderedReducer=o;var d=r.baseQueue,g=u.pending;if(g!==null){if(d!==null){var b=d.next;d.next=g.next,g.next=b}a.baseQueue=d=g,u.pending=null}if(g=r.baseState,d===null)r.memoizedState=g;else{a=d.next;var S=b=null,M=null,W=a,ie=!1;do{var le=W.lane&-536870913;if(le!==W.lane?(ct&le)===le:(Da&le)===le){var J=W.revertLane;if(J===0)M!==null&&(M=M.next={lane:0,revertLane:0,action:W.action,hasEagerState:W.hasEagerState,eagerState:W.eagerState,next:null}),le===jo&&(ie=!0);else if((Da&J)===J){W=W.next,J===jo&&(ie=!0);continue}else le={lane:0,revertLane:W.revertLane,action:W.action,hasEagerState:W.hasEagerState,eagerState:W.eagerState,next:null},M===null?(S=M=le,b=g):M=M.next=le,We.lanes|=J,Va|=J;le=W.action,Fs&&o(g,le),g=W.hasEagerState?W.eagerState:o(g,le)}else J={lane:le,revertLane:W.revertLane,action:W.action,hasEagerState:W.hasEagerState,eagerState:W.eagerState,next:null},M===null?(S=M=J,b=g):M=M.next=J,We.lanes|=le,Va|=le;W=W.next}while(W!==null&&W!==a);if(M===null?b=g:M.next=S,!nr(g,r.memoizedState)&&(hn=!0,ie&&(o=zo,o!==null)))throw o;r.memoizedState=g,r.baseState=b,r.baseQueue=M,u.lastRenderedState=g}return d===null&&(u.lanes=0),[r.memoizedState,u.dispatch]}function Am(r){var a=Jt(),o=a.queue;if(o===null)throw Error(i(311));o.lastRenderedReducer=r;var u=o.dispatch,d=o.pending,g=a.memoizedState;if(d!==null){o.pending=null;var b=d=d.next;do g=r(g,b.action),b=b.next;while(b!==d);nr(g,a.memoizedState)||(hn=!0),a.memoizedState=g,a.baseQueue===null&&(a.baseState=g),o.lastRenderedState=g}return[g,u]}function d_(r,a,o){var u=We,d=Jt(),g=gt;if(g){if(o===void 0)throw Error(i(407));o=o()}else o=a();var b=!nr((At||d).memoizedState,o);b&&(d.memoizedState=o,hn=!0),d=d.queue;var S=g_.bind(null,u,d,r);if(pu(2048,8,S,[r]),d.getSnapshot!==a||b||Zt!==null&&Zt.memoizedState.tag&1){if(u.flags|=2048,Ho(9,yf(),p_.bind(null,u,d,o,a),null),Nt===null)throw Error(i(349));g||(Da&124)!==0||m_(u,a,o)}return o}function m_(r,a,o){r.flags|=16384,r={getSnapshot:a,value:o},a=We.updateQueue,a===null?(a=bm(),We.updateQueue=a,a.stores=[r]):(o=a.stores,o===null?a.stores=[r]:o.push(r))}function p_(r,a,o,u){a.value=o,a.getSnapshot=u,y_(a)&&v_(r)}function g_(r,a,o){return o(function(){y_(a)&&v_(r)})}function y_(r){var a=r.getSnapshot;r=r.value;try{var o=a();return!nr(r,o)}catch{return!0}}function v_(r){var a=Lo(r,2);a!==null&&lr(a,r,2)}function Rm(r){var a=$n();if(typeof r=="function"){var o=r;if(r=o(),Fs){ht(!0);try{o()}finally{ht(!1)}}}return a.memoizedState=a.baseState=r,a.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Yi,lastRenderedState:r},a}function __(r,a,o,u){return r.baseState=o,wm(r,At,typeof u=="function"?u:Yi)}function PC(r,a,o,u,d){if(_f(r))throw Error(i(485));if(r=a.action,r!==null){var g={payload:d,action:r,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(b){g.listeners.push(b)}};Z.T!==null?o(!0):g.isTransition=!1,u(g),o=a.pending,o===null?(g.next=a.pending=g,E_(a,g)):(g.next=o.next,a.pending=o.next=g)}}function E_(r,a){var o=a.action,u=a.payload,d=r.state;if(a.isTransition){var g=Z.T,b={};Z.T=b;try{var S=o(d,u),M=Z.S;M!==null&&M(b,S),T_(r,a,S)}catch(W){Cm(r,a,W)}finally{Z.T=g}}else try{g=o(d,u),T_(r,a,g)}catch(W){Cm(r,a,W)}}function T_(r,a,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(u){b_(r,a,u)},function(u){return Cm(r,a,u)}):b_(r,a,o)}function b_(r,a,o){a.status="fulfilled",a.value=o,S_(a),r.state=o,a=r.pending,a!==null&&(o=a.next,o===a?r.pending=null:(o=o.next,a.next=o,E_(r,o)))}function Cm(r,a,o){var u=r.pending;if(r.pending=null,u!==null){u=u.next;do a.status="rejected",a.reason=o,S_(a),a=a.next;while(a!==u)}r.action=null}function S_(r){r=r.listeners;for(var a=0;a<r.length;a++)(0,r[a])()}function w_(r,a){return a}function A_(r,a){if(gt){var o=Nt.formState;if(o!==null){e:{var u=We;if(gt){if(Bt){t:{for(var d=Bt,g=yi;d.nodeType!==8;){if(!g){d=null;break t}if(d=Xr(d.nextSibling),d===null){d=null;break t}}g=d.data,d=g==="F!"||g==="F"?d:null}if(d){Bt=Xr(d.nextSibling),u=d.data==="F!";break e}}ks(u)}u=!1}u&&(a=o[0])}}return o=$n(),o.memoizedState=o.baseState=a,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:w_,lastRenderedState:a},o.queue=u,o=H_.bind(null,We,u),u.dispatch=o,u=Rm(!1),g=Nm.bind(null,We,!1,u.queue),u=$n(),d={state:a,dispatch:null,action:r,pending:null},u.queue=d,o=PC.bind(null,We,d,g,o),d.dispatch=o,u.memoizedState=r,[a,o,!1]}function R_(r){var a=Jt();return C_(a,At,r)}function C_(r,a,o){if(a=wm(r,a,w_)[0],r=gf(Yi)[0],typeof a=="object"&&a!==null&&typeof a.then=="function")try{var u=mu(a)}catch(b){throw b===lu?cf:b}else u=a;a=Jt();var d=a.queue,g=d.dispatch;return o!==a.memoizedState&&(We.flags|=2048,Ho(9,yf(),LC.bind(null,d,o),null)),[u,g,r]}function LC(r,a){r.action=a}function I_(r){var a=Jt(),o=At;if(o!==null)return C_(a,o,r);Jt(),a=a.memoizedState,o=Jt();var u=o.queue.dispatch;return o.memoizedState=r,[a,u,!1]}function Ho(r,a,o,u){return r={tag:r,create:o,deps:u,inst:a,next:null},a=We.updateQueue,a===null&&(a=bm(),We.updateQueue=a),o=a.lastEffect,o===null?a.lastEffect=r.next=r:(u=o.next,o.next=r,r.next=u,a.lastEffect=r),r}function yf(){return{destroy:void 0,resource:void 0}}function D_(){return Jt().memoizedState}function vf(r,a,o,u){var d=$n();u=u===void 0?null:u,We.flags|=r,d.memoizedState=Ho(1|a,yf(),o,u)}function pu(r,a,o,u){var d=Jt();u=u===void 0?null:u;var g=d.memoizedState.inst;At!==null&&u!==null&&ym(u,At.memoizedState.deps)?d.memoizedState=Ho(a,g,o,u):(We.flags|=r,d.memoizedState=Ho(1|a,g,o,u))}function O_(r,a){vf(8390656,8,r,a)}function x_(r,a){pu(2048,8,r,a)}function N_(r,a){return pu(4,2,r,a)}function M_(r,a){return pu(4,4,r,a)}function P_(r,a){if(typeof a=="function"){r=r();var o=a(r);return function(){typeof o=="function"?o():a(null)}}if(a!=null)return r=r(),a.current=r,function(){a.current=null}}function L_(r,a,o){o=o!=null?o.concat([r]):null,pu(4,4,P_.bind(null,a,r),o)}function Im(){}function V_(r,a){var o=Jt();a=a===void 0?null:a;var u=o.memoizedState;return a!==null&&ym(a,u[1])?u[0]:(o.memoizedState=[r,a],r)}function k_(r,a){var o=Jt();a=a===void 0?null:a;var u=o.memoizedState;if(a!==null&&ym(a,u[1]))return u[0];if(u=r(),Fs){ht(!0);try{r()}finally{ht(!1)}}return o.memoizedState=[u,a],u}function Dm(r,a,o){return o===void 0||(Da&1073741824)!==0?r.memoizedState=a:(r.memoizedState=o,r=z0(),We.lanes|=r,Va|=r,o)}function U_(r,a,o,u){return nr(o,a)?o:Fo.current!==null?(r=Dm(r,o,u),nr(r,a)||(hn=!0),r):(Da&42)===0?(hn=!0,r.memoizedState=o):(r=z0(),We.lanes|=r,Va|=r,a)}function j_(r,a,o,u,d){var g=me.p;me.p=g!==0&&8>g?g:8;var b=Z.T,S={};Z.T=S,Nm(r,!1,a,o);try{var M=d(),W=Z.S;if(W!==null&&W(S,M),M!==null&&typeof M=="object"&&typeof M.then=="function"){var ie=xC(M,u);gu(r,a,ie,or(r))}else gu(r,a,u,or(r))}catch(le){gu(r,a,{then:function(){},status:"rejected",reason:le},or())}finally{me.p=g,Z.T=b}}function VC(){}function Om(r,a,o,u){if(r.tag!==5)throw Error(i(476));var d=z_(r).queue;j_(r,d,a,ve,o===null?VC:function(){return F_(r),o(u)})}function z_(r){var a=r.memoizedState;if(a!==null)return a;a={memoizedState:ve,baseState:ve,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Yi,lastRenderedState:ve},next:null};var o={};return a.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Yi,lastRenderedState:o},next:null},r.memoizedState=a,r=r.alternate,r!==null&&(r.memoizedState=a),a}function F_(r){var a=z_(r).next.queue;gu(r,a,{},or())}function xm(){return xn(Pu)}function B_(){return Jt().memoizedState}function $_(){return Jt().memoizedState}function kC(r){for(var a=r.return;a!==null;){switch(a.tag){case 24:case 3:var o=or();r=Ca(o);var u=Ia(a,r,o);u!==null&&(lr(u,a,o),cu(u,a,o)),a={cache:om()},r.payload=a;return}a=a.return}}function UC(r,a,o){var u=or();o={lane:u,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null},_f(r)?q_(a,o):(o=Wd(r,a,o,u),o!==null&&(lr(o,r,u),G_(o,a,u)))}function H_(r,a,o){var u=or();gu(r,a,o,u)}function gu(r,a,o,u){var d={lane:u,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null};if(_f(r))q_(a,d);else{var g=r.alternate;if(r.lanes===0&&(g===null||g.lanes===0)&&(g=a.lastRenderedReducer,g!==null))try{var b=a.lastRenderedState,S=g(b,o);if(d.hasEagerState=!0,d.eagerState=S,nr(S,b))return tf(r,a,d,0),Nt===null&&ef(),!1}catch{}finally{}if(o=Wd(r,a,d,u),o!==null)return lr(o,r,u),G_(o,a,u),!0}return!1}function Nm(r,a,o,u){if(u={lane:2,revertLane:cp(),action:u,hasEagerState:!1,eagerState:null,next:null},_f(r)){if(a)throw Error(i(479))}else a=Wd(r,o,u,2),a!==null&&lr(a,r,2)}function _f(r){var a=r.alternate;return r===We||a!==null&&a===We}function q_(r,a){Bo=df=!0;var o=r.pending;o===null?a.next=a:(a.next=o.next,o.next=a),r.pending=a}function G_(r,a,o){if((o&4194048)!==0){var u=a.lanes;u&=r.pendingLanes,o|=u,a.lanes=o,si(r,o)}}var Ef={readContext:xn,use:pf,useCallback:Gt,useContext:Gt,useEffect:Gt,useImperativeHandle:Gt,useLayoutEffect:Gt,useInsertionEffect:Gt,useMemo:Gt,useReducer:Gt,useRef:Gt,useState:Gt,useDebugValue:Gt,useDeferredValue:Gt,useTransition:Gt,useSyncExternalStore:Gt,useId:Gt,useHostTransitionStatus:Gt,useFormState:Gt,useActionState:Gt,useOptimistic:Gt,useMemoCache:Gt,useCacheRefresh:Gt},K_={readContext:xn,use:pf,useCallback:function(r,a){return $n().memoizedState=[r,a===void 0?null:a],r},useContext:xn,useEffect:O_,useImperativeHandle:function(r,a,o){o=o!=null?o.concat([r]):null,vf(4194308,4,P_.bind(null,a,r),o)},useLayoutEffect:function(r,a){return vf(4194308,4,r,a)},useInsertionEffect:function(r,a){vf(4,2,r,a)},useMemo:function(r,a){var o=$n();a=a===void 0?null:a;var u=r();if(Fs){ht(!0);try{r()}finally{ht(!1)}}return o.memoizedState=[u,a],u},useReducer:function(r,a,o){var u=$n();if(o!==void 0){var d=o(a);if(Fs){ht(!0);try{o(a)}finally{ht(!1)}}}else d=a;return u.memoizedState=u.baseState=d,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:d},u.queue=r,r=r.dispatch=UC.bind(null,We,r),[u.memoizedState,r]},useRef:function(r){var a=$n();return r={current:r},a.memoizedState=r},useState:function(r){r=Rm(r);var a=r.queue,o=H_.bind(null,We,a);return a.dispatch=o,[r.memoizedState,o]},useDebugValue:Im,useDeferredValue:function(r,a){var o=$n();return Dm(o,r,a)},useTransition:function(){var r=Rm(!1);return r=j_.bind(null,We,r.queue,!0,!1),$n().memoizedState=r,[!1,r]},useSyncExternalStore:function(r,a,o){var u=We,d=$n();if(gt){if(o===void 0)throw Error(i(407));o=o()}else{if(o=a(),Nt===null)throw Error(i(349));(ct&124)!==0||m_(u,a,o)}d.memoizedState=o;var g={value:o,getSnapshot:a};return d.queue=g,O_(g_.bind(null,u,g,r),[r]),u.flags|=2048,Ho(9,yf(),p_.bind(null,u,g,o,a),null),o},useId:function(){var r=$n(),a=Nt.identifierPrefix;if(gt){var o=Gi,u=qi;o=(u&~(1<<32-yt(u)-1)).toString(32)+o,a="«"+a+"R"+o,o=mf++,0<o&&(a+="H"+o.toString(32)),a+="»"}else o=NC++,a="«"+a+"r"+o.toString(32)+"»";return r.memoizedState=a},useHostTransitionStatus:xm,useFormState:A_,useActionState:A_,useOptimistic:function(r){var a=$n();a.memoizedState=a.baseState=r;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return a.queue=o,a=Nm.bind(null,We,!0,o),o.dispatch=a,[r,a]},useMemoCache:Sm,useCacheRefresh:function(){return $n().memoizedState=kC.bind(null,We)}},Q_={readContext:xn,use:pf,useCallback:V_,useContext:xn,useEffect:x_,useImperativeHandle:L_,useInsertionEffect:N_,useLayoutEffect:M_,useMemo:k_,useReducer:gf,useRef:D_,useState:function(){return gf(Yi)},useDebugValue:Im,useDeferredValue:function(r,a){var o=Jt();return U_(o,At.memoizedState,r,a)},useTransition:function(){var r=gf(Yi)[0],a=Jt().memoizedState;return[typeof r=="boolean"?r:mu(r),a]},useSyncExternalStore:d_,useId:B_,useHostTransitionStatus:xm,useFormState:R_,useActionState:R_,useOptimistic:function(r,a){var o=Jt();return __(o,At,r,a)},useMemoCache:Sm,useCacheRefresh:$_},jC={readContext:xn,use:pf,useCallback:V_,useContext:xn,useEffect:x_,useImperativeHandle:L_,useInsertionEffect:N_,useLayoutEffect:M_,useMemo:k_,useReducer:Am,useRef:D_,useState:function(){return Am(Yi)},useDebugValue:Im,useDeferredValue:function(r,a){var o=Jt();return At===null?Dm(o,r,a):U_(o,At.memoizedState,r,a)},useTransition:function(){var r=Am(Yi)[0],a=Jt().memoizedState;return[typeof r=="boolean"?r:mu(r),a]},useSyncExternalStore:d_,useId:B_,useHostTransitionStatus:xm,useFormState:I_,useActionState:I_,useOptimistic:function(r,a){var o=Jt();return At!==null?__(o,At,r,a):(o.baseState=r,[r,o.queue.dispatch])},useMemoCache:Sm,useCacheRefresh:$_},qo=null,yu=0;function Tf(r){var a=yu;return yu+=1,qo===null&&(qo=[]),a_(qo,r,a)}function vu(r,a){a=a.props.ref,r.ref=a!==void 0?a:null}function bf(r,a){throw a.$$typeof===_?Error(i(525)):(r=Object.prototype.toString.call(a),Error(i(31,r==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":r)))}function Y_(r){var a=r._init;return a(r._payload)}function X_(r){function a(q,F){if(r){var Y=q.deletions;Y===null?(q.deletions=[F],q.flags|=16):Y.push(F)}}function o(q,F){if(!r)return null;for(;F!==null;)a(q,F),F=F.sibling;return null}function u(q){for(var F=new Map;q!==null;)q.key!==null?F.set(q.key,q):F.set(q.index,q),q=q.sibling;return F}function d(q,F){return q=Hi(q,F),q.index=0,q.sibling=null,q}function g(q,F,Y){return q.index=Y,r?(Y=q.alternate,Y!==null?(Y=Y.index,Y<F?(q.flags|=67108866,F):Y):(q.flags|=67108866,F)):(q.flags|=1048576,F)}function b(q){return r&&q.alternate===null&&(q.flags|=67108866),q}function S(q,F,Y,se){return F===null||F.tag!==6?(F=Jd(Y,q.mode,se),F.return=q,F):(F=d(F,Y),F.return=q,F)}function M(q,F,Y,se){var Re=Y.type;return Re===R?ie(q,F,Y.props.children,se,Y.key):F!==null&&(F.elementType===Re||typeof Re=="object"&&Re!==null&&Re.$$typeof===C&&Y_(Re)===F.type)?(F=d(F,Y.props),vu(F,Y),F.return=q,F):(F=rf(Y.type,Y.key,Y.props,null,q.mode,se),vu(F,Y),F.return=q,F)}function W(q,F,Y,se){return F===null||F.tag!==4||F.stateNode.containerInfo!==Y.containerInfo||F.stateNode.implementation!==Y.implementation?(F=em(Y,q.mode,se),F.return=q,F):(F=d(F,Y.children||[]),F.return=q,F)}function ie(q,F,Y,se,Re){return F===null||F.tag!==7?(F=Ms(Y,q.mode,se,Re),F.return=q,F):(F=d(F,Y),F.return=q,F)}function le(q,F,Y){if(typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint")return F=Jd(""+F,q.mode,Y),F.return=q,F;if(typeof F=="object"&&F!==null){switch(F.$$typeof){case E:return Y=rf(F.type,F.key,F.props,null,q.mode,Y),vu(Y,F),Y.return=q,Y;case w:return F=em(F,q.mode,Y),F.return=q,F;case C:var se=F._init;return F=se(F._payload),le(q,F,Y)}if(Qe(F)||B(F))return F=Ms(F,q.mode,Y,null),F.return=q,F;if(typeof F.then=="function")return le(q,Tf(F),Y);if(F.$$typeof===ne)return le(q,lf(q,F),Y);bf(q,F)}return null}function J(q,F,Y,se){var Re=F!==null?F.key:null;if(typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint")return Re!==null?null:S(q,F,""+Y,se);if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case E:return Y.key===Re?M(q,F,Y,se):null;case w:return Y.key===Re?W(q,F,Y,se):null;case C:return Re=Y._init,Y=Re(Y._payload),J(q,F,Y,se)}if(Qe(Y)||B(Y))return Re!==null?null:ie(q,F,Y,se,null);if(typeof Y.then=="function")return J(q,F,Tf(Y),se);if(Y.$$typeof===ne)return J(q,F,lf(q,Y),se);bf(q,Y)}return null}function te(q,F,Y,se,Re){if(typeof se=="string"&&se!==""||typeof se=="number"||typeof se=="bigint")return q=q.get(Y)||null,S(F,q,""+se,Re);if(typeof se=="object"&&se!==null){switch(se.$$typeof){case E:return q=q.get(se.key===null?Y:se.key)||null,M(F,q,se,Re);case w:return q=q.get(se.key===null?Y:se.key)||null,W(F,q,se,Re);case C:var et=se._init;return se=et(se._payload),te(q,F,Y,se,Re)}if(Qe(se)||B(se))return q=q.get(Y)||null,ie(F,q,se,Re,null);if(typeof se.then=="function")return te(q,F,Y,Tf(se),Re);if(se.$$typeof===ne)return te(q,F,Y,lf(F,se),Re);bf(F,se)}return null}function qe(q,F,Y,se){for(var Re=null,et=null,Ne=F,Fe=F=0,mn=null;Ne!==null&&Fe<Y.length;Fe++){Ne.index>Fe?(mn=Ne,Ne=null):mn=Ne.sibling;var mt=J(q,Ne,Y[Fe],se);if(mt===null){Ne===null&&(Ne=mn);break}r&&Ne&&mt.alternate===null&&a(q,Ne),F=g(mt,F,Fe),et===null?Re=mt:et.sibling=mt,et=mt,Ne=mn}if(Fe===Y.length)return o(q,Ne),gt&&Ls(q,Fe),Re;if(Ne===null){for(;Fe<Y.length;Fe++)Ne=le(q,Y[Fe],se),Ne!==null&&(F=g(Ne,F,Fe),et===null?Re=Ne:et.sibling=Ne,et=Ne);return gt&&Ls(q,Fe),Re}for(Ne=u(Ne);Fe<Y.length;Fe++)mn=te(Ne,q,Fe,Y[Fe],se),mn!==null&&(r&&mn.alternate!==null&&Ne.delete(mn.key===null?Fe:mn.key),F=g(mn,F,Fe),et===null?Re=mn:et.sibling=mn,et=mn);return r&&Ne.forEach(function(qa){return a(q,qa)}),gt&&Ls(q,Fe),Re}function ke(q,F,Y,se){if(Y==null)throw Error(i(151));for(var Re=null,et=null,Ne=F,Fe=F=0,mn=null,mt=Y.next();Ne!==null&&!mt.done;Fe++,mt=Y.next()){Ne.index>Fe?(mn=Ne,Ne=null):mn=Ne.sibling;var qa=J(q,Ne,mt.value,se);if(qa===null){Ne===null&&(Ne=mn);break}r&&Ne&&qa.alternate===null&&a(q,Ne),F=g(qa,F,Fe),et===null?Re=qa:et.sibling=qa,et=qa,Ne=mn}if(mt.done)return o(q,Ne),gt&&Ls(q,Fe),Re;if(Ne===null){for(;!mt.done;Fe++,mt=Y.next())mt=le(q,mt.value,se),mt!==null&&(F=g(mt,F,Fe),et===null?Re=mt:et.sibling=mt,et=mt);return gt&&Ls(q,Fe),Re}for(Ne=u(Ne);!mt.done;Fe++,mt=Y.next())mt=te(Ne,q,Fe,mt.value,se),mt!==null&&(r&&mt.alternate!==null&&Ne.delete(mt.key===null?Fe:mt.key),F=g(mt,F,Fe),et===null?Re=mt:et.sibling=mt,et=mt);return r&&Ne.forEach(function(zI){return a(q,zI)}),gt&&Ls(q,Fe),Re}function Ct(q,F,Y,se){if(typeof Y=="object"&&Y!==null&&Y.type===R&&Y.key===null&&(Y=Y.props.children),typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case E:e:{for(var Re=Y.key;F!==null;){if(F.key===Re){if(Re=Y.type,Re===R){if(F.tag===7){o(q,F.sibling),se=d(F,Y.props.children),se.return=q,q=se;break e}}else if(F.elementType===Re||typeof Re=="object"&&Re!==null&&Re.$$typeof===C&&Y_(Re)===F.type){o(q,F.sibling),se=d(F,Y.props),vu(se,Y),se.return=q,q=se;break e}o(q,F);break}else a(q,F);F=F.sibling}Y.type===R?(se=Ms(Y.props.children,q.mode,se,Y.key),se.return=q,q=se):(se=rf(Y.type,Y.key,Y.props,null,q.mode,se),vu(se,Y),se.return=q,q=se)}return b(q);case w:e:{for(Re=Y.key;F!==null;){if(F.key===Re)if(F.tag===4&&F.stateNode.containerInfo===Y.containerInfo&&F.stateNode.implementation===Y.implementation){o(q,F.sibling),se=d(F,Y.children||[]),se.return=q,q=se;break e}else{o(q,F);break}else a(q,F);F=F.sibling}se=em(Y,q.mode,se),se.return=q,q=se}return b(q);case C:return Re=Y._init,Y=Re(Y._payload),Ct(q,F,Y,se)}if(Qe(Y))return qe(q,F,Y,se);if(B(Y)){if(Re=B(Y),typeof Re!="function")throw Error(i(150));return Y=Re.call(Y),ke(q,F,Y,se)}if(typeof Y.then=="function")return Ct(q,F,Tf(Y),se);if(Y.$$typeof===ne)return Ct(q,F,lf(q,Y),se);bf(q,Y)}return typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint"?(Y=""+Y,F!==null&&F.tag===6?(o(q,F.sibling),se=d(F,Y),se.return=q,q=se):(o(q,F),se=Jd(Y,q.mode,se),se.return=q,q=se),b(q)):o(q,F)}return function(q,F,Y,se){try{yu=0;var Re=Ct(q,F,Y,se);return qo=null,Re}catch(Ne){if(Ne===lu||Ne===cf)throw Ne;var et=rr(29,Ne,null,q.mode);return et.lanes=se,et.return=q,et}finally{}}}var Go=X_(!0),W_=X_(!1),Mr=ae(null),vi=null;function Oa(r){var a=r.alternate;ce(sn,sn.current&1),ce(Mr,r),vi===null&&(a===null||Fo.current!==null||a.memoizedState!==null)&&(vi=r)}function Z_(r){if(r.tag===22){if(ce(sn,sn.current),ce(Mr,r),vi===null){var a=r.alternate;a!==null&&a.memoizedState!==null&&(vi=r)}}else xa()}function xa(){ce(sn,sn.current),ce(Mr,Mr.current)}function Xi(r){pe(Mr),vi===r&&(vi=null),pe(sn)}var sn=ae(0);function Sf(r){for(var a=r;a!==null;){if(a.tag===13){var o=a.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||o.data==="$?"||bp(o)))return a}else if(a.tag===19&&a.memoizedProps.revealOrder!==void 0){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===r)break;for(;a.sibling===null;){if(a.return===null||a.return===r)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}function Mm(r,a,o,u){a=r.memoizedState,o=o(u,a),o=o==null?a:y({},a,o),r.memoizedState=o,r.lanes===0&&(r.updateQueue.baseState=o)}var Pm={enqueueSetState:function(r,a,o){r=r._reactInternals;var u=or(),d=Ca(u);d.payload=a,o!=null&&(d.callback=o),a=Ia(r,d,u),a!==null&&(lr(a,r,u),cu(a,r,u))},enqueueReplaceState:function(r,a,o){r=r._reactInternals;var u=or(),d=Ca(u);d.tag=1,d.payload=a,o!=null&&(d.callback=o),a=Ia(r,d,u),a!==null&&(lr(a,r,u),cu(a,r,u))},enqueueForceUpdate:function(r,a){r=r._reactInternals;var o=or(),u=Ca(o);u.tag=2,a!=null&&(u.callback=a),a=Ia(r,u,o),a!==null&&(lr(a,r,o),cu(a,r,o))}};function J_(r,a,o,u,d,g,b){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(u,g,b):a.prototype&&a.prototype.isPureReactComponent?!eu(o,u)||!eu(d,g):!0}function e0(r,a,o,u){r=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(o,u),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(o,u),a.state!==r&&Pm.enqueueReplaceState(a,a.state,null)}function Bs(r,a){var o=a;if("ref"in a){o={};for(var u in a)u!=="ref"&&(o[u]=a[u])}if(r=r.defaultProps){o===a&&(o=y({},o));for(var d in r)o[d]===void 0&&(o[d]=r[d])}return o}var wf=typeof reportError=="function"?reportError:function(r){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var a=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof r=="object"&&r!==null&&typeof r.message=="string"?String(r.message):String(r),error:r});if(!window.dispatchEvent(a))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",r);return}console.error(r)};function t0(r){wf(r)}function n0(r){console.error(r)}function r0(r){wf(r)}function Af(r,a){try{var o=r.onUncaughtError;o(a.value,{componentStack:a.stack})}catch(u){setTimeout(function(){throw u})}}function i0(r,a,o){try{var u=r.onCaughtError;u(o.value,{componentStack:o.stack,errorBoundary:a.tag===1?a.stateNode:null})}catch(d){setTimeout(function(){throw d})}}function Lm(r,a,o){return o=Ca(o),o.tag=3,o.payload={element:null},o.callback=function(){Af(r,a)},o}function a0(r){return r=Ca(r),r.tag=3,r}function s0(r,a,o,u){var d=o.type.getDerivedStateFromError;if(typeof d=="function"){var g=u.value;r.payload=function(){return d(g)},r.callback=function(){i0(a,o,u)}}var b=o.stateNode;b!==null&&typeof b.componentDidCatch=="function"&&(r.callback=function(){i0(a,o,u),typeof d!="function"&&(ka===null?ka=new Set([this]):ka.add(this));var S=u.stack;this.componentDidCatch(u.value,{componentStack:S!==null?S:""})})}function zC(r,a,o,u,d){if(o.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(a=o.alternate,a!==null&&au(a,o,d,!0),o=Mr.current,o!==null){switch(o.tag){case 13:return vi===null?ap():o.alternate===null&&$t===0&&($t=3),o.flags&=-257,o.flags|=65536,o.lanes=d,u===cm?o.flags|=16384:(a=o.updateQueue,a===null?o.updateQueue=new Set([u]):a.add(u),op(r,u,d)),!1;case 22:return o.flags|=65536,u===cm?o.flags|=16384:(a=o.updateQueue,a===null?(a={transitions:null,markerInstances:null,retryQueue:new Set([u])},o.updateQueue=a):(o=a.retryQueue,o===null?a.retryQueue=new Set([u]):o.add(u)),op(r,u,d)),!1}throw Error(i(435,o.tag))}return op(r,u,d),ap(),!1}if(gt)return a=Mr.current,a!==null?((a.flags&65536)===0&&(a.flags|=256),a.flags|=65536,a.lanes=d,u!==rm&&(r=Error(i(422),{cause:u}),iu(Dr(r,o)))):(u!==rm&&(a=Error(i(423),{cause:u}),iu(Dr(a,o))),r=r.current.alternate,r.flags|=65536,d&=-d,r.lanes|=d,u=Dr(u,o),d=Lm(r.stateNode,u,d),dm(r,d),$t!==4&&($t=2)),!1;var g=Error(i(520),{cause:u});if(g=Dr(g,o),Au===null?Au=[g]:Au.push(g),$t!==4&&($t=2),a===null)return!0;u=Dr(u,o),o=a;do{switch(o.tag){case 3:return o.flags|=65536,r=d&-d,o.lanes|=r,r=Lm(o.stateNode,u,r),dm(o,r),!1;case 1:if(a=o.type,g=o.stateNode,(o.flags&128)===0&&(typeof a.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(ka===null||!ka.has(g))))return o.flags|=65536,d&=-d,o.lanes|=d,d=a0(d),s0(d,r,o,u),dm(o,d),!1}o=o.return}while(o!==null);return!1}var o0=Error(i(461)),hn=!1;function bn(r,a,o,u){a.child=r===null?W_(a,null,o,u):Go(a,r.child,o,u)}function l0(r,a,o,u,d){o=o.render;var g=a.ref;if("ref"in u){var b={};for(var S in u)S!=="ref"&&(b[S]=u[S])}else b=u;return js(a),u=vm(r,a,o,b,g,d),S=_m(),r!==null&&!hn?(Em(r,a,d),Wi(r,a,d)):(gt&&S&&tm(a),a.flags|=1,bn(r,a,u,d),a.child)}function u0(r,a,o,u,d){if(r===null){var g=o.type;return typeof g=="function"&&!Zd(g)&&g.defaultProps===void 0&&o.compare===null?(a.tag=15,a.type=g,c0(r,a,g,u,d)):(r=rf(o.type,null,u,a,a.mode,d),r.ref=a.ref,r.return=a,a.child=r)}if(g=r.child,!$m(r,d)){var b=g.memoizedProps;if(o=o.compare,o=o!==null?o:eu,o(b,u)&&r.ref===a.ref)return Wi(r,a,d)}return a.flags|=1,r=Hi(g,u),r.ref=a.ref,r.return=a,a.child=r}function c0(r,a,o,u,d){if(r!==null){var g=r.memoizedProps;if(eu(g,u)&&r.ref===a.ref)if(hn=!1,a.pendingProps=u=g,$m(r,d))(r.flags&131072)!==0&&(hn=!0);else return a.lanes=r.lanes,Wi(r,a,d)}return Vm(r,a,o,u,d)}function f0(r,a,o){var u=a.pendingProps,d=u.children,g=r!==null?r.memoizedState:null;if(u.mode==="hidden"){if((a.flags&128)!==0){if(u=g!==null?g.baseLanes|o:o,r!==null){for(d=a.child=r.child,g=0;d!==null;)g=g|d.lanes|d.childLanes,d=d.sibling;a.childLanes=g&~u}else a.childLanes=0,a.child=null;return h0(r,a,u,o)}if((o&536870912)!==0)a.memoizedState={baseLanes:0,cachePool:null},r!==null&&uf(a,g!==null?g.cachePool:null),g!==null?c_(a,g):pm(),Z_(a);else return a.lanes=a.childLanes=536870912,h0(r,a,g!==null?g.baseLanes|o:o,o)}else g!==null?(uf(a,g.cachePool),c_(a,g),xa(),a.memoizedState=null):(r!==null&&uf(a,null),pm(),xa());return bn(r,a,d,o),a.child}function h0(r,a,o,u){var d=um();return d=d===null?null:{parent:an._currentValue,pool:d},a.memoizedState={baseLanes:o,cachePool:d},r!==null&&uf(a,null),pm(),Z_(a),r!==null&&au(r,a,u,!0),null}function Rf(r,a){var o=a.ref;if(o===null)r!==null&&r.ref!==null&&(a.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(i(284));(r===null||r.ref!==o)&&(a.flags|=4194816)}}function Vm(r,a,o,u,d){return js(a),o=vm(r,a,o,u,void 0,d),u=_m(),r!==null&&!hn?(Em(r,a,d),Wi(r,a,d)):(gt&&u&&tm(a),a.flags|=1,bn(r,a,o,d),a.child)}function d0(r,a,o,u,d,g){return js(a),a.updateQueue=null,o=h_(a,u,o,d),f_(r),u=_m(),r!==null&&!hn?(Em(r,a,g),Wi(r,a,g)):(gt&&u&&tm(a),a.flags|=1,bn(r,a,o,g),a.child)}function m0(r,a,o,u,d){if(js(a),a.stateNode===null){var g=Vo,b=o.contextType;typeof b=="object"&&b!==null&&(g=xn(b)),g=new o(u,g),a.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,g.updater=Pm,a.stateNode=g,g._reactInternals=a,g=a.stateNode,g.props=u,g.state=a.memoizedState,g.refs={},fm(a),b=o.contextType,g.context=typeof b=="object"&&b!==null?xn(b):Vo,g.state=a.memoizedState,b=o.getDerivedStateFromProps,typeof b=="function"&&(Mm(a,o,b,u),g.state=a.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(b=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),b!==g.state&&Pm.enqueueReplaceState(g,g.state,null),hu(a,u,g,d),fu(),g.state=a.memoizedState),typeof g.componentDidMount=="function"&&(a.flags|=4194308),u=!0}else if(r===null){g=a.stateNode;var S=a.memoizedProps,M=Bs(o,S);g.props=M;var W=g.context,ie=o.contextType;b=Vo,typeof ie=="object"&&ie!==null&&(b=xn(ie));var le=o.getDerivedStateFromProps;ie=typeof le=="function"||typeof g.getSnapshotBeforeUpdate=="function",S=a.pendingProps!==S,ie||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(S||W!==b)&&e0(a,g,u,b),Ra=!1;var J=a.memoizedState;g.state=J,hu(a,u,g,d),fu(),W=a.memoizedState,S||J!==W||Ra?(typeof le=="function"&&(Mm(a,o,le,u),W=a.memoizedState),(M=Ra||J_(a,o,M,u,J,W,b))?(ie||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount()),typeof g.componentDidMount=="function"&&(a.flags|=4194308)):(typeof g.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=u,a.memoizedState=W),g.props=u,g.state=W,g.context=b,u=M):(typeof g.componentDidMount=="function"&&(a.flags|=4194308),u=!1)}else{g=a.stateNode,hm(r,a),b=a.memoizedProps,ie=Bs(o,b),g.props=ie,le=a.pendingProps,J=g.context,W=o.contextType,M=Vo,typeof W=="object"&&W!==null&&(M=xn(W)),S=o.getDerivedStateFromProps,(W=typeof S=="function"||typeof g.getSnapshotBeforeUpdate=="function")||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(b!==le||J!==M)&&e0(a,g,u,M),Ra=!1,J=a.memoizedState,g.state=J,hu(a,u,g,d),fu();var te=a.memoizedState;b!==le||J!==te||Ra||r!==null&&r.dependencies!==null&&of(r.dependencies)?(typeof S=="function"&&(Mm(a,o,S,u),te=a.memoizedState),(ie=Ra||J_(a,o,ie,u,J,te,M)||r!==null&&r.dependencies!==null&&of(r.dependencies))?(W||typeof g.UNSAFE_componentWillUpdate!="function"&&typeof g.componentWillUpdate!="function"||(typeof g.componentWillUpdate=="function"&&g.componentWillUpdate(u,te,M),typeof g.UNSAFE_componentWillUpdate=="function"&&g.UNSAFE_componentWillUpdate(u,te,M)),typeof g.componentDidUpdate=="function"&&(a.flags|=4),typeof g.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof g.componentDidUpdate!="function"||b===r.memoizedProps&&J===r.memoizedState||(a.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||b===r.memoizedProps&&J===r.memoizedState||(a.flags|=1024),a.memoizedProps=u,a.memoizedState=te),g.props=u,g.state=te,g.context=M,u=ie):(typeof g.componentDidUpdate!="function"||b===r.memoizedProps&&J===r.memoizedState||(a.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||b===r.memoizedProps&&J===r.memoizedState||(a.flags|=1024),u=!1)}return g=u,Rf(r,a),u=(a.flags&128)!==0,g||u?(g=a.stateNode,o=u&&typeof o.getDerivedStateFromError!="function"?null:g.render(),a.flags|=1,r!==null&&u?(a.child=Go(a,r.child,null,d),a.child=Go(a,null,o,d)):bn(r,a,o,d),a.memoizedState=g.state,r=a.child):r=Wi(r,a,d),r}function p0(r,a,o,u){return ru(),a.flags|=256,bn(r,a,o,u),a.child}var km={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Um(r){return{baseLanes:r,cachePool:n_()}}function jm(r,a,o){return r=r!==null?r.childLanes&~o:0,a&&(r|=Pr),r}function g0(r,a,o){var u=a.pendingProps,d=!1,g=(a.flags&128)!==0,b;if((b=g)||(b=r!==null&&r.memoizedState===null?!1:(sn.current&2)!==0),b&&(d=!0,a.flags&=-129),b=(a.flags&32)!==0,a.flags&=-33,r===null){if(gt){if(d?Oa(a):xa(),gt){var S=Bt,M;if(M=S){e:{for(M=S,S=yi;M.nodeType!==8;){if(!S){S=null;break e}if(M=Xr(M.nextSibling),M===null){S=null;break e}}S=M}S!==null?(a.memoizedState={dehydrated:S,treeContext:Ps!==null?{id:qi,overflow:Gi}:null,retryLane:536870912,hydrationErrors:null},M=rr(18,null,null,0),M.stateNode=S,M.return=a,a.child=M,Fn=a,Bt=null,M=!0):M=!1}M||ks(a)}if(S=a.memoizedState,S!==null&&(S=S.dehydrated,S!==null))return bp(S)?a.lanes=32:a.lanes=536870912,null;Xi(a)}return S=u.children,u=u.fallback,d?(xa(),d=a.mode,S=Cf({mode:"hidden",children:S},d),u=Ms(u,d,o,null),S.return=a,u.return=a,S.sibling=u,a.child=S,d=a.child,d.memoizedState=Um(o),d.childLanes=jm(r,b,o),a.memoizedState=km,u):(Oa(a),zm(a,S))}if(M=r.memoizedState,M!==null&&(S=M.dehydrated,S!==null)){if(g)a.flags&256?(Oa(a),a.flags&=-257,a=Fm(r,a,o)):a.memoizedState!==null?(xa(),a.child=r.child,a.flags|=128,a=null):(xa(),d=u.fallback,S=a.mode,u=Cf({mode:"visible",children:u.children},S),d=Ms(d,S,o,null),d.flags|=2,u.return=a,d.return=a,u.sibling=d,a.child=u,Go(a,r.child,null,o),u=a.child,u.memoizedState=Um(o),u.childLanes=jm(r,b,o),a.memoizedState=km,a=d);else if(Oa(a),bp(S)){if(b=S.nextSibling&&S.nextSibling.dataset,b)var W=b.dgst;b=W,u=Error(i(419)),u.stack="",u.digest=b,iu({value:u,source:null,stack:null}),a=Fm(r,a,o)}else if(hn||au(r,a,o,!1),b=(o&r.childLanes)!==0,hn||b){if(b=Nt,b!==null&&(u=o&-o,u=(u&42)!==0?1:oi(u),u=(u&(b.suspendedLanes|o))!==0?0:u,u!==0&&u!==M.retryLane))throw M.retryLane=u,Lo(r,u),lr(b,r,u),o0;S.data==="$?"||ap(),a=Fm(r,a,o)}else S.data==="$?"?(a.flags|=192,a.child=r.child,a=null):(r=M.treeContext,Bt=Xr(S.nextSibling),Fn=a,gt=!0,Vs=null,yi=!1,r!==null&&(xr[Nr++]=qi,xr[Nr++]=Gi,xr[Nr++]=Ps,qi=r.id,Gi=r.overflow,Ps=a),a=zm(a,u.children),a.flags|=4096);return a}return d?(xa(),d=u.fallback,S=a.mode,M=r.child,W=M.sibling,u=Hi(M,{mode:"hidden",children:u.children}),u.subtreeFlags=M.subtreeFlags&65011712,W!==null?d=Hi(W,d):(d=Ms(d,S,o,null),d.flags|=2),d.return=a,u.return=a,u.sibling=d,a.child=u,u=d,d=a.child,S=r.child.memoizedState,S===null?S=Um(o):(M=S.cachePool,M!==null?(W=an._currentValue,M=M.parent!==W?{parent:W,pool:W}:M):M=n_(),S={baseLanes:S.baseLanes|o,cachePool:M}),d.memoizedState=S,d.childLanes=jm(r,b,o),a.memoizedState=km,u):(Oa(a),o=r.child,r=o.sibling,o=Hi(o,{mode:"visible",children:u.children}),o.return=a,o.sibling=null,r!==null&&(b=a.deletions,b===null?(a.deletions=[r],a.flags|=16):b.push(r)),a.child=o,a.memoizedState=null,o)}function zm(r,a){return a=Cf({mode:"visible",children:a},r.mode),a.return=r,r.child=a}function Cf(r,a){return r=rr(22,r,null,a),r.lanes=0,r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},r}function Fm(r,a,o){return Go(a,r.child,null,o),r=zm(a,a.pendingProps.children),r.flags|=2,a.memoizedState=null,r}function y0(r,a,o){r.lanes|=a;var u=r.alternate;u!==null&&(u.lanes|=a),am(r.return,a,o)}function Bm(r,a,o,u,d){var g=r.memoizedState;g===null?r.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:u,tail:o,tailMode:d}:(g.isBackwards=a,g.rendering=null,g.renderingStartTime=0,g.last=u,g.tail=o,g.tailMode=d)}function v0(r,a,o){var u=a.pendingProps,d=u.revealOrder,g=u.tail;if(bn(r,a,u.children,o),u=sn.current,(u&2)!==0)u=u&1|2,a.flags|=128;else{if(r!==null&&(r.flags&128)!==0)e:for(r=a.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&y0(r,o,a);else if(r.tag===19)y0(r,o,a);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===a)break e;for(;r.sibling===null;){if(r.return===null||r.return===a)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}u&=1}switch(ce(sn,u),d){case"forwards":for(o=a.child,d=null;o!==null;)r=o.alternate,r!==null&&Sf(r)===null&&(d=o),o=o.sibling;o=d,o===null?(d=a.child,a.child=null):(d=o.sibling,o.sibling=null),Bm(a,!1,d,o,g);break;case"backwards":for(o=null,d=a.child,a.child=null;d!==null;){if(r=d.alternate,r!==null&&Sf(r)===null){a.child=d;break}r=d.sibling,d.sibling=o,o=d,d=r}Bm(a,!0,o,null,g);break;case"together":Bm(a,!1,null,null,void 0);break;default:a.memoizedState=null}return a.child}function Wi(r,a,o){if(r!==null&&(a.dependencies=r.dependencies),Va|=a.lanes,(o&a.childLanes)===0)if(r!==null){if(au(r,a,o,!1),(o&a.childLanes)===0)return null}else return null;if(r!==null&&a.child!==r.child)throw Error(i(153));if(a.child!==null){for(r=a.child,o=Hi(r,r.pendingProps),a.child=o,o.return=a;r.sibling!==null;)r=r.sibling,o=o.sibling=Hi(r,r.pendingProps),o.return=a;o.sibling=null}return a.child}function $m(r,a){return(r.lanes&a)!==0?!0:(r=r.dependencies,!!(r!==null&&of(r)))}function FC(r,a,o){switch(a.tag){case 3:pt(a,a.stateNode.containerInfo),Aa(a,an,r.memoizedState.cache),ru();break;case 27:case 5:Dt(a);break;case 4:pt(a,a.stateNode.containerInfo);break;case 10:Aa(a,a.type,a.memoizedProps.value);break;case 13:var u=a.memoizedState;if(u!==null)return u.dehydrated!==null?(Oa(a),a.flags|=128,null):(o&a.child.childLanes)!==0?g0(r,a,o):(Oa(a),r=Wi(r,a,o),r!==null?r.sibling:null);Oa(a);break;case 19:var d=(r.flags&128)!==0;if(u=(o&a.childLanes)!==0,u||(au(r,a,o,!1),u=(o&a.childLanes)!==0),d){if(u)return v0(r,a,o);a.flags|=128}if(d=a.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),ce(sn,sn.current),u)break;return null;case 22:case 23:return a.lanes=0,f0(r,a,o);case 24:Aa(a,an,r.memoizedState.cache)}return Wi(r,a,o)}function _0(r,a,o){if(r!==null)if(r.memoizedProps!==a.pendingProps)hn=!0;else{if(!$m(r,o)&&(a.flags&128)===0)return hn=!1,FC(r,a,o);hn=(r.flags&131072)!==0}else hn=!1,gt&&(a.flags&1048576)!==0&&Yv(a,sf,a.index);switch(a.lanes=0,a.tag){case 16:e:{r=a.pendingProps;var u=a.elementType,d=u._init;if(u=d(u._payload),a.type=u,typeof u=="function")Zd(u)?(r=Bs(u,r),a.tag=1,a=m0(null,a,u,r,o)):(a.tag=0,a=Vm(null,a,u,r,o));else{if(u!=null){if(d=u.$$typeof,d===fe){a.tag=11,a=l0(null,a,u,r,o);break e}else if(d===O){a.tag=14,a=u0(null,a,u,r,o);break e}}throw a=Pe(u)||u,Error(i(306,a,""))}}return a;case 0:return Vm(r,a,a.type,a.pendingProps,o);case 1:return u=a.type,d=Bs(u,a.pendingProps),m0(r,a,u,d,o);case 3:e:{if(pt(a,a.stateNode.containerInfo),r===null)throw Error(i(387));u=a.pendingProps;var g=a.memoizedState;d=g.element,hm(r,a),hu(a,u,null,o);var b=a.memoizedState;if(u=b.cache,Aa(a,an,u),u!==g.cache&&sm(a,[an],o,!0),fu(),u=b.element,g.isDehydrated)if(g={element:u,isDehydrated:!1,cache:b.cache},a.updateQueue.baseState=g,a.memoizedState=g,a.flags&256){a=p0(r,a,u,o);break e}else if(u!==d){d=Dr(Error(i(424)),a),iu(d),a=p0(r,a,u,o);break e}else{switch(r=a.stateNode.containerInfo,r.nodeType){case 9:r=r.body;break;default:r=r.nodeName==="HTML"?r.ownerDocument.body:r}for(Bt=Xr(r.firstChild),Fn=a,gt=!0,Vs=null,yi=!0,o=W_(a,null,u,o),a.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling}else{if(ru(),u===d){a=Wi(r,a,o);break e}bn(r,a,u,o)}a=a.child}return a;case 26:return Rf(r,a),r===null?(o=SE(a.type,null,a.pendingProps,null))?a.memoizedState=o:gt||(o=a.type,r=a.pendingProps,u=Ff(Oe.current).createElement(o),u[oe]=a,u[de]=r,wn(u,o,r),ot(u),a.stateNode=u):a.memoizedState=SE(a.type,r.memoizedProps,a.pendingProps,r.memoizedState),null;case 27:return Dt(a),r===null&&gt&&(u=a.stateNode=EE(a.type,a.pendingProps,Oe.current),Fn=a,yi=!0,d=Bt,za(a.type)?(Sp=d,Bt=Xr(u.firstChild)):Bt=d),bn(r,a,a.pendingProps.children,o),Rf(r,a),r===null&&(a.flags|=4194304),a.child;case 5:return r===null&&gt&&((d=u=Bt)&&(u=pI(u,a.type,a.pendingProps,yi),u!==null?(a.stateNode=u,Fn=a,Bt=Xr(u.firstChild),yi=!1,d=!0):d=!1),d||ks(a)),Dt(a),d=a.type,g=a.pendingProps,b=r!==null?r.memoizedProps:null,u=g.children,_p(d,g)?u=null:b!==null&&_p(d,b)&&(a.flags|=32),a.memoizedState!==null&&(d=vm(r,a,MC,null,null,o),Pu._currentValue=d),Rf(r,a),bn(r,a,u,o),a.child;case 6:return r===null&&gt&&((r=o=Bt)&&(o=gI(o,a.pendingProps,yi),o!==null?(a.stateNode=o,Fn=a,Bt=null,r=!0):r=!1),r||ks(a)),null;case 13:return g0(r,a,o);case 4:return pt(a,a.stateNode.containerInfo),u=a.pendingProps,r===null?a.child=Go(a,null,u,o):bn(r,a,u,o),a.child;case 11:return l0(r,a,a.type,a.pendingProps,o);case 7:return bn(r,a,a.pendingProps,o),a.child;case 8:return bn(r,a,a.pendingProps.children,o),a.child;case 12:return bn(r,a,a.pendingProps.children,o),a.child;case 10:return u=a.pendingProps,Aa(a,a.type,u.value),bn(r,a,u.children,o),a.child;case 9:return d=a.type._context,u=a.pendingProps.children,js(a),d=xn(d),u=u(d),a.flags|=1,bn(r,a,u,o),a.child;case 14:return u0(r,a,a.type,a.pendingProps,o);case 15:return c0(r,a,a.type,a.pendingProps,o);case 19:return v0(r,a,o);case 31:return u=a.pendingProps,o=a.mode,u={mode:u.mode,children:u.children},r===null?(o=Cf(u,o),o.ref=a.ref,a.child=o,o.return=a,a=o):(o=Hi(r.child,u),o.ref=a.ref,a.child=o,o.return=a,a=o),a;case 22:return f0(r,a,o);case 24:return js(a),u=xn(an),r===null?(d=um(),d===null&&(d=Nt,g=om(),d.pooledCache=g,g.refCount++,g!==null&&(d.pooledCacheLanes|=o),d=g),a.memoizedState={parent:u,cache:d},fm(a),Aa(a,an,d)):((r.lanes&o)!==0&&(hm(r,a),hu(a,null,null,o),fu()),d=r.memoizedState,g=a.memoizedState,d.parent!==u?(d={parent:u,cache:u},a.memoizedState=d,a.lanes===0&&(a.memoizedState=a.updateQueue.baseState=d),Aa(a,an,u)):(u=g.cache,Aa(a,an,u),u!==d.cache&&sm(a,[an],o,!0))),bn(r,a,a.pendingProps.children,o),a.child;case 29:throw a.pendingProps}throw Error(i(156,a.tag))}function Zi(r){r.flags|=4}function E0(r,a){if(a.type!=="stylesheet"||(a.state.loading&4)!==0)r.flags&=-16777217;else if(r.flags|=16777216,!IE(a)){if(a=Mr.current,a!==null&&((ct&4194048)===ct?vi!==null:(ct&62914560)!==ct&&(ct&536870912)===0||a!==vi))throw uu=cm,r_;r.flags|=8192}}function If(r,a){a!==null&&(r.flags|=4),r.flags&16384&&(a=r.tag!==22?_s():536870912,r.lanes|=a,Xo|=a)}function _u(r,a){if(!gt)switch(r.tailMode){case"hidden":a=r.tail;for(var o=null;a!==null;)a.alternate!==null&&(o=a),a=a.sibling;o===null?r.tail=null:o.sibling=null;break;case"collapsed":o=r.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?a||r.tail===null?r.tail=null:r.tail.sibling=null:u.sibling=null}}function zt(r){var a=r.alternate!==null&&r.alternate.child===r.child,o=0,u=0;if(a)for(var d=r.child;d!==null;)o|=d.lanes|d.childLanes,u|=d.subtreeFlags&65011712,u|=d.flags&65011712,d.return=r,d=d.sibling;else for(d=r.child;d!==null;)o|=d.lanes|d.childLanes,u|=d.subtreeFlags,u|=d.flags,d.return=r,d=d.sibling;return r.subtreeFlags|=u,r.childLanes=o,a}function BC(r,a,o){var u=a.pendingProps;switch(nm(a),a.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return zt(a),null;case 1:return zt(a),null;case 3:return o=a.stateNode,u=null,r!==null&&(u=r.memoizedState.cache),a.memoizedState.cache!==u&&(a.flags|=2048),Qi(an),Vn(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(r===null||r.child===null)&&(nu(a)?Zi(a):r===null||r.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,Zv())),zt(a),null;case 26:return o=a.memoizedState,r===null?(Zi(a),o!==null?(zt(a),E0(a,o)):(zt(a),a.flags&=-16777217)):o?o!==r.memoizedState?(Zi(a),zt(a),E0(a,o)):(zt(a),a.flags&=-16777217):(r.memoizedProps!==u&&Zi(a),zt(a),a.flags&=-16777217),null;case 27:Yt(a),o=Oe.current;var d=a.type;if(r!==null&&a.stateNode!=null)r.memoizedProps!==u&&Zi(a);else{if(!u){if(a.stateNode===null)throw Error(i(166));return zt(a),null}r=we.current,nu(a)?Xv(a):(r=EE(d,u,o),a.stateNode=r,Zi(a))}return zt(a),null;case 5:if(Yt(a),o=a.type,r!==null&&a.stateNode!=null)r.memoizedProps!==u&&Zi(a);else{if(!u){if(a.stateNode===null)throw Error(i(166));return zt(a),null}if(r=we.current,nu(a))Xv(a);else{switch(d=Ff(Oe.current),r){case 1:r=d.createElementNS("http://www.w3.org/2000/svg",o);break;case 2:r=d.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;default:switch(o){case"svg":r=d.createElementNS("http://www.w3.org/2000/svg",o);break;case"math":r=d.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;case"script":r=d.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild);break;case"select":r=typeof u.is=="string"?d.createElement("select",{is:u.is}):d.createElement("select"),u.multiple?r.multiple=!0:u.size&&(r.size=u.size);break;default:r=typeof u.is=="string"?d.createElement(o,{is:u.is}):d.createElement(o)}}r[oe]=a,r[de]=u;e:for(d=a.child;d!==null;){if(d.tag===5||d.tag===6)r.appendChild(d.stateNode);else if(d.tag!==4&&d.tag!==27&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===a)break e;for(;d.sibling===null;){if(d.return===null||d.return===a)break e;d=d.return}d.sibling.return=d.return,d=d.sibling}a.stateNode=r;e:switch(wn(r,o,u),o){case"button":case"input":case"select":case"textarea":r=!!u.autoFocus;break e;case"img":r=!0;break e;default:r=!1}r&&Zi(a)}}return zt(a),a.flags&=-16777217,null;case 6:if(r&&a.stateNode!=null)r.memoizedProps!==u&&Zi(a);else{if(typeof u!="string"&&a.stateNode===null)throw Error(i(166));if(r=Oe.current,nu(a)){if(r=a.stateNode,o=a.memoizedProps,u=null,d=Fn,d!==null)switch(d.tag){case 27:case 5:u=d.memoizedProps}r[oe]=a,r=!!(r.nodeValue===o||u!==null&&u.suppressHydrationWarning===!0||dE(r.nodeValue,o)),r||ks(a)}else r=Ff(r).createTextNode(u),r[oe]=a,a.stateNode=r}return zt(a),null;case 13:if(u=a.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(d=nu(a),u!==null&&u.dehydrated!==null){if(r===null){if(!d)throw Error(i(318));if(d=a.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(i(317));d[oe]=a}else ru(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;zt(a),d=!1}else d=Zv(),r!==null&&r.memoizedState!==null&&(r.memoizedState.hydrationErrors=d),d=!0;if(!d)return a.flags&256?(Xi(a),a):(Xi(a),null)}if(Xi(a),(a.flags&128)!==0)return a.lanes=o,a;if(o=u!==null,r=r!==null&&r.memoizedState!==null,o){u=a.child,d=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(d=u.alternate.memoizedState.cachePool.pool);var g=null;u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(g=u.memoizedState.cachePool.pool),g!==d&&(u.flags|=2048)}return o!==r&&o&&(a.child.flags|=8192),If(a,a.updateQueue),zt(a),null;case 4:return Vn(),r===null&&mp(a.stateNode.containerInfo),zt(a),null;case 10:return Qi(a.type),zt(a),null;case 19:if(pe(sn),d=a.memoizedState,d===null)return zt(a),null;if(u=(a.flags&128)!==0,g=d.rendering,g===null)if(u)_u(d,!1);else{if($t!==0||r!==null&&(r.flags&128)!==0)for(r=a.child;r!==null;){if(g=Sf(r),g!==null){for(a.flags|=128,_u(d,!1),r=g.updateQueue,a.updateQueue=r,If(a,r),a.subtreeFlags=0,r=o,o=a.child;o!==null;)Qv(o,r),o=o.sibling;return ce(sn,sn.current&1|2),a.child}r=r.sibling}d.tail!==null&&vn()>xf&&(a.flags|=128,u=!0,_u(d,!1),a.lanes=4194304)}else{if(!u)if(r=Sf(g),r!==null){if(a.flags|=128,u=!0,r=r.updateQueue,a.updateQueue=r,If(a,r),_u(d,!0),d.tail===null&&d.tailMode==="hidden"&&!g.alternate&&!gt)return zt(a),null}else 2*vn()-d.renderingStartTime>xf&&o!==536870912&&(a.flags|=128,u=!0,_u(d,!1),a.lanes=4194304);d.isBackwards?(g.sibling=a.child,a.child=g):(r=d.last,r!==null?r.sibling=g:a.child=g,d.last=g)}return d.tail!==null?(a=d.tail,d.rendering=a,d.tail=a.sibling,d.renderingStartTime=vn(),a.sibling=null,r=sn.current,ce(sn,u?r&1|2:r&1),a):(zt(a),null);case 22:case 23:return Xi(a),gm(),u=a.memoizedState!==null,r!==null?r.memoizedState!==null!==u&&(a.flags|=8192):u&&(a.flags|=8192),u?(o&536870912)!==0&&(a.flags&128)===0&&(zt(a),a.subtreeFlags&6&&(a.flags|=8192)):zt(a),o=a.updateQueue,o!==null&&If(a,o.retryQueue),o=null,r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(o=r.memoizedState.cachePool.pool),u=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(u=a.memoizedState.cachePool.pool),u!==o&&(a.flags|=2048),r!==null&&pe(zs),null;case 24:return o=null,r!==null&&(o=r.memoizedState.cache),a.memoizedState.cache!==o&&(a.flags|=2048),Qi(an),zt(a),null;case 25:return null;case 30:return null}throw Error(i(156,a.tag))}function $C(r,a){switch(nm(a),a.tag){case 1:return r=a.flags,r&65536?(a.flags=r&-65537|128,a):null;case 3:return Qi(an),Vn(),r=a.flags,(r&65536)!==0&&(r&128)===0?(a.flags=r&-65537|128,a):null;case 26:case 27:case 5:return Yt(a),null;case 13:if(Xi(a),r=a.memoizedState,r!==null&&r.dehydrated!==null){if(a.alternate===null)throw Error(i(340));ru()}return r=a.flags,r&65536?(a.flags=r&-65537|128,a):null;case 19:return pe(sn),null;case 4:return Vn(),null;case 10:return Qi(a.type),null;case 22:case 23:return Xi(a),gm(),r!==null&&pe(zs),r=a.flags,r&65536?(a.flags=r&-65537|128,a):null;case 24:return Qi(an),null;case 25:return null;default:return null}}function T0(r,a){switch(nm(a),a.tag){case 3:Qi(an),Vn();break;case 26:case 27:case 5:Yt(a);break;case 4:Vn();break;case 13:Xi(a);break;case 19:pe(sn);break;case 10:Qi(a.type);break;case 22:case 23:Xi(a),gm(),r!==null&&pe(zs);break;case 24:Qi(an)}}function Eu(r,a){try{var o=a.updateQueue,u=o!==null?o.lastEffect:null;if(u!==null){var d=u.next;o=d;do{if((o.tag&r)===r){u=void 0;var g=o.create,b=o.inst;u=g(),b.destroy=u}o=o.next}while(o!==d)}}catch(S){xt(a,a.return,S)}}function Na(r,a,o){try{var u=a.updateQueue,d=u!==null?u.lastEffect:null;if(d!==null){var g=d.next;u=g;do{if((u.tag&r)===r){var b=u.inst,S=b.destroy;if(S!==void 0){b.destroy=void 0,d=a;var M=o,W=S;try{W()}catch(ie){xt(d,M,ie)}}}u=u.next}while(u!==g)}}catch(ie){xt(a,a.return,ie)}}function b0(r){var a=r.updateQueue;if(a!==null){var o=r.stateNode;try{u_(a,o)}catch(u){xt(r,r.return,u)}}}function S0(r,a,o){o.props=Bs(r.type,r.memoizedProps),o.state=r.memoizedState;try{o.componentWillUnmount()}catch(u){xt(r,a,u)}}function Tu(r,a){try{var o=r.ref;if(o!==null){switch(r.tag){case 26:case 27:case 5:var u=r.stateNode;break;case 30:u=r.stateNode;break;default:u=r.stateNode}typeof o=="function"?r.refCleanup=o(u):o.current=u}}catch(d){xt(r,a,d)}}function _i(r,a){var o=r.ref,u=r.refCleanup;if(o!==null)if(typeof u=="function")try{u()}catch(d){xt(r,a,d)}finally{r.refCleanup=null,r=r.alternate,r!=null&&(r.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(d){xt(r,a,d)}else o.current=null}function w0(r){var a=r.type,o=r.memoizedProps,u=r.stateNode;try{e:switch(a){case"button":case"input":case"select":case"textarea":o.autoFocus&&u.focus();break e;case"img":o.src?u.src=o.src:o.srcSet&&(u.srcset=o.srcSet)}}catch(d){xt(r,r.return,d)}}function Hm(r,a,o){try{var u=r.stateNode;cI(u,r.type,o,a),u[de]=a}catch(d){xt(r,r.return,d)}}function A0(r){return r.tag===5||r.tag===3||r.tag===26||r.tag===27&&za(r.type)||r.tag===4}function qm(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||A0(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.tag===27&&za(r.type)||r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function Gm(r,a,o){var u=r.tag;if(u===5||u===6)r=r.stateNode,a?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(r,a):(a=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,a.appendChild(r),o=o._reactRootContainer,o!=null||a.onclick!==null||(a.onclick=zf));else if(u!==4&&(u===27&&za(r.type)&&(o=r.stateNode,a=null),r=r.child,r!==null))for(Gm(r,a,o),r=r.sibling;r!==null;)Gm(r,a,o),r=r.sibling}function Df(r,a,o){var u=r.tag;if(u===5||u===6)r=r.stateNode,a?o.insertBefore(r,a):o.appendChild(r);else if(u!==4&&(u===27&&za(r.type)&&(o=r.stateNode),r=r.child,r!==null))for(Df(r,a,o),r=r.sibling;r!==null;)Df(r,a,o),r=r.sibling}function R0(r){var a=r.stateNode,o=r.memoizedProps;try{for(var u=r.type,d=a.attributes;d.length;)a.removeAttributeNode(d[0]);wn(a,u,o),a[oe]=r,a[de]=o}catch(g){xt(r,r.return,g)}}var Ji=!1,Kt=!1,Km=!1,C0=typeof WeakSet=="function"?WeakSet:Set,dn=null;function HC(r,a){if(r=r.containerInfo,yp=Kf,r=Uv(r),qd(r)){if("selectionStart"in r)var o={start:r.selectionStart,end:r.selectionEnd};else e:{o=(o=r.ownerDocument)&&o.defaultView||window;var u=o.getSelection&&o.getSelection();if(u&&u.rangeCount!==0){o=u.anchorNode;var d=u.anchorOffset,g=u.focusNode;u=u.focusOffset;try{o.nodeType,g.nodeType}catch{o=null;break e}var b=0,S=-1,M=-1,W=0,ie=0,le=r,J=null;t:for(;;){for(var te;le!==o||d!==0&&le.nodeType!==3||(S=b+d),le!==g||u!==0&&le.nodeType!==3||(M=b+u),le.nodeType===3&&(b+=le.nodeValue.length),(te=le.firstChild)!==null;)J=le,le=te;for(;;){if(le===r)break t;if(J===o&&++W===d&&(S=b),J===g&&++ie===u&&(M=b),(te=le.nextSibling)!==null)break;le=J,J=le.parentNode}le=te}o=S===-1||M===-1?null:{start:S,end:M}}else o=null}o=o||{start:0,end:0}}else o=null;for(vp={focusedElem:r,selectionRange:o},Kf=!1,dn=a;dn!==null;)if(a=dn,r=a.child,(a.subtreeFlags&1024)!==0&&r!==null)r.return=a,dn=r;else for(;dn!==null;){switch(a=dn,g=a.alternate,r=a.flags,a.tag){case 0:break;case 11:case 15:break;case 1:if((r&1024)!==0&&g!==null){r=void 0,o=a,d=g.memoizedProps,g=g.memoizedState,u=o.stateNode;try{var qe=Bs(o.type,d,o.elementType===o.type);r=u.getSnapshotBeforeUpdate(qe,g),u.__reactInternalSnapshotBeforeUpdate=r}catch(ke){xt(o,o.return,ke)}}break;case 3:if((r&1024)!==0){if(r=a.stateNode.containerInfo,o=r.nodeType,o===9)Tp(r);else if(o===1)switch(r.nodeName){case"HEAD":case"HTML":case"BODY":Tp(r);break;default:r.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((r&1024)!==0)throw Error(i(163))}if(r=a.sibling,r!==null){r.return=a.return,dn=r;break}dn=a.return}}function I0(r,a,o){var u=o.flags;switch(o.tag){case 0:case 11:case 15:Ma(r,o),u&4&&Eu(5,o);break;case 1:if(Ma(r,o),u&4)if(r=o.stateNode,a===null)try{r.componentDidMount()}catch(b){xt(o,o.return,b)}else{var d=Bs(o.type,a.memoizedProps);a=a.memoizedState;try{r.componentDidUpdate(d,a,r.__reactInternalSnapshotBeforeUpdate)}catch(b){xt(o,o.return,b)}}u&64&&b0(o),u&512&&Tu(o,o.return);break;case 3:if(Ma(r,o),u&64&&(r=o.updateQueue,r!==null)){if(a=null,o.child!==null)switch(o.child.tag){case 27:case 5:a=o.child.stateNode;break;case 1:a=o.child.stateNode}try{u_(r,a)}catch(b){xt(o,o.return,b)}}break;case 27:a===null&&u&4&&R0(o);case 26:case 5:Ma(r,o),a===null&&u&4&&w0(o),u&512&&Tu(o,o.return);break;case 12:Ma(r,o);break;case 13:Ma(r,o),u&4&&x0(r,o),u&64&&(r=o.memoizedState,r!==null&&(r=r.dehydrated,r!==null&&(o=JC.bind(null,o),yI(r,o))));break;case 22:if(u=o.memoizedState!==null||Ji,!u){a=a!==null&&a.memoizedState!==null||Kt,d=Ji;var g=Kt;Ji=u,(Kt=a)&&!g?Pa(r,o,(o.subtreeFlags&8772)!==0):Ma(r,o),Ji=d,Kt=g}break;case 30:break;default:Ma(r,o)}}function D0(r){var a=r.alternate;a!==null&&(r.alternate=null,D0(a)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(a=r.stateNode,a!==null&&Ie(a)),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}var kt=null,Hn=!1;function ea(r,a,o){for(o=o.child;o!==null;)O0(r,a,o),o=o.sibling}function O0(r,a,o){if(Ee&&typeof Ee.onCommitFiberUnmount=="function")try{Ee.onCommitFiberUnmount(_e,o)}catch{}switch(o.tag){case 26:Kt||_i(o,a),ea(r,a,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:Kt||_i(o,a);var u=kt,d=Hn;za(o.type)&&(kt=o.stateNode,Hn=!1),ea(r,a,o),Ou(o.stateNode),kt=u,Hn=d;break;case 5:Kt||_i(o,a);case 6:if(u=kt,d=Hn,kt=null,ea(r,a,o),kt=u,Hn=d,kt!==null)if(Hn)try{(kt.nodeType===9?kt.body:kt.nodeName==="HTML"?kt.ownerDocument.body:kt).removeChild(o.stateNode)}catch(g){xt(o,a,g)}else try{kt.removeChild(o.stateNode)}catch(g){xt(o,a,g)}break;case 18:kt!==null&&(Hn?(r=kt,vE(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,o.stateNode),Uu(r)):vE(kt,o.stateNode));break;case 4:u=kt,d=Hn,kt=o.stateNode.containerInfo,Hn=!0,ea(r,a,o),kt=u,Hn=d;break;case 0:case 11:case 14:case 15:Kt||Na(2,o,a),Kt||Na(4,o,a),ea(r,a,o);break;case 1:Kt||(_i(o,a),u=o.stateNode,typeof u.componentWillUnmount=="function"&&S0(o,a,u)),ea(r,a,o);break;case 21:ea(r,a,o);break;case 22:Kt=(u=Kt)||o.memoizedState!==null,ea(r,a,o),Kt=u;break;default:ea(r,a,o)}}function x0(r,a){if(a.memoizedState===null&&(r=a.alternate,r!==null&&(r=r.memoizedState,r!==null&&(r=r.dehydrated,r!==null))))try{Uu(r)}catch(o){xt(a,a.return,o)}}function qC(r){switch(r.tag){case 13:case 19:var a=r.stateNode;return a===null&&(a=r.stateNode=new C0),a;case 22:return r=r.stateNode,a=r._retryCache,a===null&&(a=r._retryCache=new C0),a;default:throw Error(i(435,r.tag))}}function Qm(r,a){var o=qC(r);a.forEach(function(u){var d=eI.bind(null,r,u);o.has(u)||(o.add(u),u.then(d,d))})}function ir(r,a){var o=a.deletions;if(o!==null)for(var u=0;u<o.length;u++){var d=o[u],g=r,b=a,S=b;e:for(;S!==null;){switch(S.tag){case 27:if(za(S.type)){kt=S.stateNode,Hn=!1;break e}break;case 5:kt=S.stateNode,Hn=!1;break e;case 3:case 4:kt=S.stateNode.containerInfo,Hn=!0;break e}S=S.return}if(kt===null)throw Error(i(160));O0(g,b,d),kt=null,Hn=!1,g=d.alternate,g!==null&&(g.return=null),d.return=null}if(a.subtreeFlags&13878)for(a=a.child;a!==null;)N0(a,r),a=a.sibling}var Yr=null;function N0(r,a){var o=r.alternate,u=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:ir(a,r),ar(r),u&4&&(Na(3,r,r.return),Eu(3,r),Na(5,r,r.return));break;case 1:ir(a,r),ar(r),u&512&&(Kt||o===null||_i(o,o.return)),u&64&&Ji&&(r=r.updateQueue,r!==null&&(u=r.callbacks,u!==null&&(o=r.shared.hiddenCallbacks,r.shared.hiddenCallbacks=o===null?u:o.concat(u))));break;case 26:var d=Yr;if(ir(a,r),ar(r),u&512&&(Kt||o===null||_i(o,o.return)),u&4){var g=o!==null?o.memoizedState:null;if(u=r.memoizedState,o===null)if(u===null)if(r.stateNode===null){e:{u=r.type,o=r.memoizedProps,d=d.ownerDocument||d;t:switch(u){case"title":g=d.getElementsByTagName("title")[0],(!g||g[je]||g[oe]||g.namespaceURI==="http://www.w3.org/2000/svg"||g.hasAttribute("itemprop"))&&(g=d.createElement(u),d.head.insertBefore(g,d.querySelector("head > title"))),wn(g,u,o),g[oe]=r,ot(g),u=g;break e;case"link":var b=RE("link","href",d).get(u+(o.href||""));if(b){for(var S=0;S<b.length;S++)if(g=b[S],g.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&g.getAttribute("rel")===(o.rel==null?null:o.rel)&&g.getAttribute("title")===(o.title==null?null:o.title)&&g.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){b.splice(S,1);break t}}g=d.createElement(u),wn(g,u,o),d.head.appendChild(g);break;case"meta":if(b=RE("meta","content",d).get(u+(o.content||""))){for(S=0;S<b.length;S++)if(g=b[S],g.getAttribute("content")===(o.content==null?null:""+o.content)&&g.getAttribute("name")===(o.name==null?null:o.name)&&g.getAttribute("property")===(o.property==null?null:o.property)&&g.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&g.getAttribute("charset")===(o.charSet==null?null:o.charSet)){b.splice(S,1);break t}}g=d.createElement(u),wn(g,u,o),d.head.appendChild(g);break;default:throw Error(i(468,u))}g[oe]=r,ot(g),u=g}r.stateNode=u}else CE(d,r.type,r.stateNode);else r.stateNode=AE(d,u,r.memoizedProps);else g!==u?(g===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):g.count--,u===null?CE(d,r.type,r.stateNode):AE(d,u,r.memoizedProps)):u===null&&r.stateNode!==null&&Hm(r,r.memoizedProps,o.memoizedProps)}break;case 27:ir(a,r),ar(r),u&512&&(Kt||o===null||_i(o,o.return)),o!==null&&u&4&&Hm(r,r.memoizedProps,o.memoizedProps);break;case 5:if(ir(a,r),ar(r),u&512&&(Kt||o===null||_i(o,o.return)),r.flags&32){d=r.stateNode;try{Ar(d,"")}catch(te){xt(r,r.return,te)}}u&4&&r.stateNode!=null&&(d=r.memoizedProps,Hm(r,d,o!==null?o.memoizedProps:d)),u&1024&&(Km=!0);break;case 6:if(ir(a,r),ar(r),u&4){if(r.stateNode===null)throw Error(i(162));u=r.memoizedProps,o=r.stateNode;try{o.nodeValue=u}catch(te){xt(r,r.return,te)}}break;case 3:if(Hf=null,d=Yr,Yr=Bf(a.containerInfo),ir(a,r),Yr=d,ar(r),u&4&&o!==null&&o.memoizedState.isDehydrated)try{Uu(a.containerInfo)}catch(te){xt(r,r.return,te)}Km&&(Km=!1,M0(r));break;case 4:u=Yr,Yr=Bf(r.stateNode.containerInfo),ir(a,r),ar(r),Yr=u;break;case 12:ir(a,r),ar(r);break;case 13:ir(a,r),ar(r),r.child.flags&8192&&r.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(ep=vn()),u&4&&(u=r.updateQueue,u!==null&&(r.updateQueue=null,Qm(r,u)));break;case 22:d=r.memoizedState!==null;var M=o!==null&&o.memoizedState!==null,W=Ji,ie=Kt;if(Ji=W||d,Kt=ie||M,ir(a,r),Kt=ie,Ji=W,ar(r),u&8192)e:for(a=r.stateNode,a._visibility=d?a._visibility&-2:a._visibility|1,d&&(o===null||M||Ji||Kt||$s(r)),o=null,a=r;;){if(a.tag===5||a.tag===26){if(o===null){M=o=a;try{if(g=M.stateNode,d)b=g.style,typeof b.setProperty=="function"?b.setProperty("display","none","important"):b.display="none";else{S=M.stateNode;var le=M.memoizedProps.style,J=le!=null&&le.hasOwnProperty("display")?le.display:null;S.style.display=J==null||typeof J=="boolean"?"":(""+J).trim()}}catch(te){xt(M,M.return,te)}}}else if(a.tag===6){if(o===null){M=a;try{M.stateNode.nodeValue=d?"":M.memoizedProps}catch(te){xt(M,M.return,te)}}}else if((a.tag!==22&&a.tag!==23||a.memoizedState===null||a===r)&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===r)break e;for(;a.sibling===null;){if(a.return===null||a.return===r)break e;o===a&&(o=null),a=a.return}o===a&&(o=null),a.sibling.return=a.return,a=a.sibling}u&4&&(u=r.updateQueue,u!==null&&(o=u.retryQueue,o!==null&&(u.retryQueue=null,Qm(r,o))));break;case 19:ir(a,r),ar(r),u&4&&(u=r.updateQueue,u!==null&&(r.updateQueue=null,Qm(r,u)));break;case 30:break;case 21:break;default:ir(a,r),ar(r)}}function ar(r){var a=r.flags;if(a&2){try{for(var o,u=r.return;u!==null;){if(A0(u)){o=u;break}u=u.return}if(o==null)throw Error(i(160));switch(o.tag){case 27:var d=o.stateNode,g=qm(r);Df(r,g,d);break;case 5:var b=o.stateNode;o.flags&32&&(Ar(b,""),o.flags&=-33);var S=qm(r);Df(r,S,b);break;case 3:case 4:var M=o.stateNode.containerInfo,W=qm(r);Gm(r,W,M);break;default:throw Error(i(161))}}catch(ie){xt(r,r.return,ie)}r.flags&=-3}a&4096&&(r.flags&=-4097)}function M0(r){if(r.subtreeFlags&1024)for(r=r.child;r!==null;){var a=r;M0(a),a.tag===5&&a.flags&1024&&a.stateNode.reset(),r=r.sibling}}function Ma(r,a){if(a.subtreeFlags&8772)for(a=a.child;a!==null;)I0(r,a.alternate,a),a=a.sibling}function $s(r){for(r=r.child;r!==null;){var a=r;switch(a.tag){case 0:case 11:case 14:case 15:Na(4,a,a.return),$s(a);break;case 1:_i(a,a.return);var o=a.stateNode;typeof o.componentWillUnmount=="function"&&S0(a,a.return,o),$s(a);break;case 27:Ou(a.stateNode);case 26:case 5:_i(a,a.return),$s(a);break;case 22:a.memoizedState===null&&$s(a);break;case 30:$s(a);break;default:$s(a)}r=r.sibling}}function Pa(r,a,o){for(o=o&&(a.subtreeFlags&8772)!==0,a=a.child;a!==null;){var u=a.alternate,d=r,g=a,b=g.flags;switch(g.tag){case 0:case 11:case 15:Pa(d,g,o),Eu(4,g);break;case 1:if(Pa(d,g,o),u=g,d=u.stateNode,typeof d.componentDidMount=="function")try{d.componentDidMount()}catch(W){xt(u,u.return,W)}if(u=g,d=u.updateQueue,d!==null){var S=u.stateNode;try{var M=d.shared.hiddenCallbacks;if(M!==null)for(d.shared.hiddenCallbacks=null,d=0;d<M.length;d++)l_(M[d],S)}catch(W){xt(u,u.return,W)}}o&&b&64&&b0(g),Tu(g,g.return);break;case 27:R0(g);case 26:case 5:Pa(d,g,o),o&&u===null&&b&4&&w0(g),Tu(g,g.return);break;case 12:Pa(d,g,o);break;case 13:Pa(d,g,o),o&&b&4&&x0(d,g);break;case 22:g.memoizedState===null&&Pa(d,g,o),Tu(g,g.return);break;case 30:break;default:Pa(d,g,o)}a=a.sibling}}function Ym(r,a){var o=null;r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(o=r.memoizedState.cachePool.pool),r=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(r=a.memoizedState.cachePool.pool),r!==o&&(r!=null&&r.refCount++,o!=null&&su(o))}function Xm(r,a){r=null,a.alternate!==null&&(r=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==r&&(a.refCount++,r!=null&&su(r))}function Ei(r,a,o,u){if(a.subtreeFlags&10256)for(a=a.child;a!==null;)P0(r,a,o,u),a=a.sibling}function P0(r,a,o,u){var d=a.flags;switch(a.tag){case 0:case 11:case 15:Ei(r,a,o,u),d&2048&&Eu(9,a);break;case 1:Ei(r,a,o,u);break;case 3:Ei(r,a,o,u),d&2048&&(r=null,a.alternate!==null&&(r=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==r&&(a.refCount++,r!=null&&su(r)));break;case 12:if(d&2048){Ei(r,a,o,u),r=a.stateNode;try{var g=a.memoizedProps,b=g.id,S=g.onPostCommit;typeof S=="function"&&S(b,a.alternate===null?"mount":"update",r.passiveEffectDuration,-0)}catch(M){xt(a,a.return,M)}}else Ei(r,a,o,u);break;case 13:Ei(r,a,o,u);break;case 23:break;case 22:g=a.stateNode,b=a.alternate,a.memoizedState!==null?g._visibility&2?Ei(r,a,o,u):bu(r,a):g._visibility&2?Ei(r,a,o,u):(g._visibility|=2,Ko(r,a,o,u,(a.subtreeFlags&10256)!==0)),d&2048&&Ym(b,a);break;case 24:Ei(r,a,o,u),d&2048&&Xm(a.alternate,a);break;default:Ei(r,a,o,u)}}function Ko(r,a,o,u,d){for(d=d&&(a.subtreeFlags&10256)!==0,a=a.child;a!==null;){var g=r,b=a,S=o,M=u,W=b.flags;switch(b.tag){case 0:case 11:case 15:Ko(g,b,S,M,d),Eu(8,b);break;case 23:break;case 22:var ie=b.stateNode;b.memoizedState!==null?ie._visibility&2?Ko(g,b,S,M,d):bu(g,b):(ie._visibility|=2,Ko(g,b,S,M,d)),d&&W&2048&&Ym(b.alternate,b);break;case 24:Ko(g,b,S,M,d),d&&W&2048&&Xm(b.alternate,b);break;default:Ko(g,b,S,M,d)}a=a.sibling}}function bu(r,a){if(a.subtreeFlags&10256)for(a=a.child;a!==null;){var o=r,u=a,d=u.flags;switch(u.tag){case 22:bu(o,u),d&2048&&Ym(u.alternate,u);break;case 24:bu(o,u),d&2048&&Xm(u.alternate,u);break;default:bu(o,u)}a=a.sibling}}var Su=8192;function Qo(r){if(r.subtreeFlags&Su)for(r=r.child;r!==null;)L0(r),r=r.sibling}function L0(r){switch(r.tag){case 26:Qo(r),r.flags&Su&&r.memoizedState!==null&&OI(Yr,r.memoizedState,r.memoizedProps);break;case 5:Qo(r);break;case 3:case 4:var a=Yr;Yr=Bf(r.stateNode.containerInfo),Qo(r),Yr=a;break;case 22:r.memoizedState===null&&(a=r.alternate,a!==null&&a.memoizedState!==null?(a=Su,Su=16777216,Qo(r),Su=a):Qo(r));break;default:Qo(r)}}function V0(r){var a=r.alternate;if(a!==null&&(r=a.child,r!==null)){a.child=null;do a=r.sibling,r.sibling=null,r=a;while(r!==null)}}function wu(r){var a=r.deletions;if((r.flags&16)!==0){if(a!==null)for(var o=0;o<a.length;o++){var u=a[o];dn=u,U0(u,r)}V0(r)}if(r.subtreeFlags&10256)for(r=r.child;r!==null;)k0(r),r=r.sibling}function k0(r){switch(r.tag){case 0:case 11:case 15:wu(r),r.flags&2048&&Na(9,r,r.return);break;case 3:wu(r);break;case 12:wu(r);break;case 22:var a=r.stateNode;r.memoizedState!==null&&a._visibility&2&&(r.return===null||r.return.tag!==13)?(a._visibility&=-3,Of(r)):wu(r);break;default:wu(r)}}function Of(r){var a=r.deletions;if((r.flags&16)!==0){if(a!==null)for(var o=0;o<a.length;o++){var u=a[o];dn=u,U0(u,r)}V0(r)}for(r=r.child;r!==null;){switch(a=r,a.tag){case 0:case 11:case 15:Na(8,a,a.return),Of(a);break;case 22:o=a.stateNode,o._visibility&2&&(o._visibility&=-3,Of(a));break;default:Of(a)}r=r.sibling}}function U0(r,a){for(;dn!==null;){var o=dn;switch(o.tag){case 0:case 11:case 15:Na(8,o,a);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var u=o.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:su(o.memoizedState.cache)}if(u=o.child,u!==null)u.return=o,dn=u;else e:for(o=r;dn!==null;){u=dn;var d=u.sibling,g=u.return;if(D0(u),u===o){dn=null;break e}if(d!==null){d.return=g,dn=d;break e}dn=g}}}var GC={getCacheForType:function(r){var a=xn(an),o=a.data.get(r);return o===void 0&&(o=r(),a.data.set(r,o)),o}},KC=typeof WeakMap=="function"?WeakMap:Map,bt=0,Nt=null,rt=null,ct=0,St=0,sr=null,La=!1,Yo=!1,Wm=!1,ta=0,$t=0,Va=0,Hs=0,Zm=0,Pr=0,Xo=0,Au=null,qn=null,Jm=!1,ep=0,xf=1/0,Nf=null,ka=null,Sn=0,Ua=null,Wo=null,Zo=0,tp=0,np=null,j0=null,Ru=0,rp=null;function or(){if((bt&2)!==0&&ct!==0)return ct&-ct;if(Z.T!==null){var r=jo;return r!==0?r:cp()}return z()}function z0(){Pr===0&&(Pr=(ct&536870912)===0||gt?Li():536870912);var r=Mr.current;return r!==null&&(r.flags|=32),Pr}function lr(r,a,o){(r===Nt&&(St===2||St===9)||r.cancelPendingCommit!==null)&&(Jo(r,0),ja(r,ct,Pr,!1)),Gr(r,o),((bt&2)===0||r!==Nt)&&(r===Nt&&((bt&2)===0&&(Hs|=o),$t===4&&ja(r,ct,Pr,!1)),Ti(r))}function F0(r,a,o){if((bt&6)!==0)throw Error(i(327));var u=!o&&(a&124)===0&&(a&r.expiredLanes)===0||Tr(r,a),d=u?XC(r,a):sp(r,a,!0),g=u;do{if(d===0){Yo&&!u&&ja(r,a,0,!1);break}else{if(o=r.current.alternate,g&&!QC(o)){d=sp(r,a,!1),g=!1;continue}if(d===2){if(g=a,r.errorRecoveryDisabledLanes&g)var b=0;else b=r.pendingLanes&-536870913,b=b!==0?b:b&536870912?536870912:0;if(b!==0){a=b;e:{var S=r;d=Au;var M=S.current.memoizedState.isDehydrated;if(M&&(Jo(S,b).flags|=256),b=sp(S,b,!1),b!==2){if(Wm&&!M){S.errorRecoveryDisabledLanes|=g,Hs|=g,d=4;break e}g=qn,qn=d,g!==null&&(qn===null?qn=g:qn.push.apply(qn,g))}d=b}if(g=!1,d!==2)continue}}if(d===1){Jo(r,0),ja(r,a,0,!0);break}e:{switch(u=r,g=d,g){case 0:case 1:throw Error(i(345));case 4:if((a&4194048)!==a)break;case 6:ja(u,a,Pr,!La);break e;case 2:qn=null;break;case 3:case 5:break;default:throw Error(i(329))}if((a&62914560)===a&&(d=ep+300-vn(),10<d)){if(ja(u,a,Pr,!La),Pi(u,0,!0)!==0)break e;u.timeoutHandle=gE(B0.bind(null,u,o,qn,Nf,Jm,a,Pr,Hs,Xo,La,g,2,-0,0),d);break e}B0(u,o,qn,Nf,Jm,a,Pr,Hs,Xo,La,g,0,-0,0)}}break}while(!0);Ti(r)}function B0(r,a,o,u,d,g,b,S,M,W,ie,le,J,te){if(r.timeoutHandle=-1,le=a.subtreeFlags,(le&8192||(le&16785408)===16785408)&&(Mu={stylesheets:null,count:0,unsuspend:DI},L0(a),le=xI(),le!==null)){r.cancelPendingCommit=le(Y0.bind(null,r,a,g,o,u,d,b,S,M,ie,1,J,te)),ja(r,g,b,!W);return}Y0(r,a,g,o,u,d,b,S,M)}function QC(r){for(var a=r;;){var o=a.tag;if((o===0||o===11||o===15)&&a.flags&16384&&(o=a.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var u=0;u<o.length;u++){var d=o[u],g=d.getSnapshot;d=d.value;try{if(!nr(g(),d))return!1}catch{return!1}}if(o=a.child,a.subtreeFlags&16384&&o!==null)o.return=a,a=o;else{if(a===r)break;for(;a.sibling===null;){if(a.return===null||a.return===r)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function ja(r,a,o,u){a&=~Zm,a&=~Hs,r.suspendedLanes|=a,r.pingedLanes&=~a,u&&(r.warmLanes|=a),u=r.expirationTimes;for(var d=a;0<d;){var g=31-yt(d),b=1<<g;u[g]=-1,d&=~b}o!==0&&kn(r,o,a)}function Mf(){return(bt&6)===0?(Cu(0),!1):!0}function ip(){if(rt!==null){if(St===0)var r=rt.return;else r=rt,Ki=Us=null,Tm(r),qo=null,yu=0,r=rt;for(;r!==null;)T0(r.alternate,r),r=r.return;rt=null}}function Jo(r,a){var o=r.timeoutHandle;o!==-1&&(r.timeoutHandle=-1,hI(o)),o=r.cancelPendingCommit,o!==null&&(r.cancelPendingCommit=null,o()),ip(),Nt=r,rt=o=Hi(r.current,null),ct=a,St=0,sr=null,La=!1,Yo=Tr(r,a),Wm=!1,Xo=Pr=Zm=Hs=Va=$t=0,qn=Au=null,Jm=!1,(a&8)!==0&&(a|=a&32);var u=r.entangledLanes;if(u!==0)for(r=r.entanglements,u&=a;0<u;){var d=31-yt(u),g=1<<d;a|=r[d],u&=~g}return ta=a,ef(),o}function $0(r,a){We=null,Z.H=Ef,a===lu||a===cf?(a=s_(),St=3):a===r_?(a=s_(),St=4):St=a===o0?8:a!==null&&typeof a=="object"&&typeof a.then=="function"?6:1,sr=a,rt===null&&($t=1,Af(r,Dr(a,r.current)))}function H0(){var r=Z.H;return Z.H=Ef,r===null?Ef:r}function q0(){var r=Z.A;return Z.A=GC,r}function ap(){$t=4,La||(ct&4194048)!==ct&&Mr.current!==null||(Yo=!0),(Va&134217727)===0&&(Hs&134217727)===0||Nt===null||ja(Nt,ct,Pr,!1)}function sp(r,a,o){var u=bt;bt|=2;var d=H0(),g=q0();(Nt!==r||ct!==a)&&(Nf=null,Jo(r,a)),a=!1;var b=$t;e:do try{if(St!==0&&rt!==null){var S=rt,M=sr;switch(St){case 8:ip(),b=6;break e;case 3:case 2:case 9:case 6:Mr.current===null&&(a=!0);var W=St;if(St=0,sr=null,el(r,S,M,W),o&&Yo){b=0;break e}break;default:W=St,St=0,sr=null,el(r,S,M,W)}}YC(),b=$t;break}catch(ie){$0(r,ie)}while(!0);return a&&r.shellSuspendCounter++,Ki=Us=null,bt=u,Z.H=d,Z.A=g,rt===null&&(Nt=null,ct=0,ef()),b}function YC(){for(;rt!==null;)G0(rt)}function XC(r,a){var o=bt;bt|=2;var u=H0(),d=q0();Nt!==r||ct!==a?(Nf=null,xf=vn()+500,Jo(r,a)):Yo=Tr(r,a);e:do try{if(St!==0&&rt!==null){a=rt;var g=sr;t:switch(St){case 1:St=0,sr=null,el(r,a,g,1);break;case 2:case 9:if(i_(g)){St=0,sr=null,K0(a);break}a=function(){St!==2&&St!==9||Nt!==r||(St=7),Ti(r)},g.then(a,a);break e;case 3:St=7;break e;case 4:St=5;break e;case 7:i_(g)?(St=0,sr=null,K0(a)):(St=0,sr=null,el(r,a,g,7));break;case 5:var b=null;switch(rt.tag){case 26:b=rt.memoizedState;case 5:case 27:var S=rt;if(!b||IE(b)){St=0,sr=null;var M=S.sibling;if(M!==null)rt=M;else{var W=S.return;W!==null?(rt=W,Pf(W)):rt=null}break t}}St=0,sr=null,el(r,a,g,5);break;case 6:St=0,sr=null,el(r,a,g,6);break;case 8:ip(),$t=6;break e;default:throw Error(i(462))}}WC();break}catch(ie){$0(r,ie)}while(!0);return Ki=Us=null,Z.H=u,Z.A=d,bt=o,rt!==null?0:(Nt=null,ct=0,ef(),$t)}function WC(){for(;rt!==null&&!Mi();)G0(rt)}function G0(r){var a=_0(r.alternate,r,ta);r.memoizedProps=r.pendingProps,a===null?Pf(r):rt=a}function K0(r){var a=r,o=a.alternate;switch(a.tag){case 15:case 0:a=d0(o,a,a.pendingProps,a.type,void 0,ct);break;case 11:a=d0(o,a,a.pendingProps,a.type.render,a.ref,ct);break;case 5:Tm(a);default:T0(o,a),a=rt=Qv(a,ta),a=_0(o,a,ta)}r.memoizedProps=r.pendingProps,a===null?Pf(r):rt=a}function el(r,a,o,u){Ki=Us=null,Tm(a),qo=null,yu=0;var d=a.return;try{if(zC(r,d,a,o,ct)){$t=1,Af(r,Dr(o,r.current)),rt=null;return}}catch(g){if(d!==null)throw rt=d,g;$t=1,Af(r,Dr(o,r.current)),rt=null;return}a.flags&32768?(gt||u===1?r=!0:Yo||(ct&536870912)!==0?r=!1:(La=r=!0,(u===2||u===9||u===3||u===6)&&(u=Mr.current,u!==null&&u.tag===13&&(u.flags|=16384))),Q0(a,r)):Pf(a)}function Pf(r){var a=r;do{if((a.flags&32768)!==0){Q0(a,La);return}r=a.return;var o=BC(a.alternate,a,ta);if(o!==null){rt=o;return}if(a=a.sibling,a!==null){rt=a;return}rt=a=r}while(a!==null);$t===0&&($t=5)}function Q0(r,a){do{var o=$C(r.alternate,r);if(o!==null){o.flags&=32767,rt=o;return}if(o=r.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!a&&(r=r.sibling,r!==null)){rt=r;return}rt=r=o}while(r!==null);$t=6,rt=null}function Y0(r,a,o,u,d,g,b,S,M){r.cancelPendingCommit=null;do Lf();while(Sn!==0);if((bt&6)!==0)throw Error(i(327));if(a!==null){if(a===r.current)throw Error(i(177));if(g=a.lanes|a.childLanes,g|=Xd,Ea(r,o,g,b,S,M),r===Nt&&(rt=Nt=null,ct=0),Wo=a,Ua=r,Zo=o,tp=g,np=d,j0=u,(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?(r.callbackNode=null,r.callbackPriority=0,tI(qr,function(){return eE(),null})):(r.callbackNode=null,r.callbackPriority=0),u=(a.flags&13878)!==0,(a.subtreeFlags&13878)!==0||u){u=Z.T,Z.T=null,d=me.p,me.p=2,b=bt,bt|=4;try{HC(r,a,o)}finally{bt=b,me.p=d,Z.T=u}}Sn=1,X0(),W0(),Z0()}}function X0(){if(Sn===1){Sn=0;var r=Ua,a=Wo,o=(a.flags&13878)!==0;if((a.subtreeFlags&13878)!==0||o){o=Z.T,Z.T=null;var u=me.p;me.p=2;var d=bt;bt|=4;try{N0(a,r);var g=vp,b=Uv(r.containerInfo),S=g.focusedElem,M=g.selectionRange;if(b!==S&&S&&S.ownerDocument&&kv(S.ownerDocument.documentElement,S)){if(M!==null&&qd(S)){var W=M.start,ie=M.end;if(ie===void 0&&(ie=W),"selectionStart"in S)S.selectionStart=W,S.selectionEnd=Math.min(ie,S.value.length);else{var le=S.ownerDocument||document,J=le&&le.defaultView||window;if(J.getSelection){var te=J.getSelection(),qe=S.textContent.length,ke=Math.min(M.start,qe),Ct=M.end===void 0?ke:Math.min(M.end,qe);!te.extend&&ke>Ct&&(b=Ct,Ct=ke,ke=b);var q=Vv(S,ke),F=Vv(S,Ct);if(q&&F&&(te.rangeCount!==1||te.anchorNode!==q.node||te.anchorOffset!==q.offset||te.focusNode!==F.node||te.focusOffset!==F.offset)){var Y=le.createRange();Y.setStart(q.node,q.offset),te.removeAllRanges(),ke>Ct?(te.addRange(Y),te.extend(F.node,F.offset)):(Y.setEnd(F.node,F.offset),te.addRange(Y))}}}}for(le=[],te=S;te=te.parentNode;)te.nodeType===1&&le.push({element:te,left:te.scrollLeft,top:te.scrollTop});for(typeof S.focus=="function"&&S.focus(),S=0;S<le.length;S++){var se=le[S];se.element.scrollLeft=se.left,se.element.scrollTop=se.top}}Kf=!!yp,vp=yp=null}finally{bt=d,me.p=u,Z.T=o}}r.current=a,Sn=2}}function W0(){if(Sn===2){Sn=0;var r=Ua,a=Wo,o=(a.flags&8772)!==0;if((a.subtreeFlags&8772)!==0||o){o=Z.T,Z.T=null;var u=me.p;me.p=2;var d=bt;bt|=4;try{I0(r,a.alternate,a)}finally{bt=d,me.p=u,Z.T=o}}Sn=3}}function Z0(){if(Sn===4||Sn===3){Sn=0,va();var r=Ua,a=Wo,o=Zo,u=j0;(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?Sn=5:(Sn=0,Wo=Ua=null,J0(r,r.pendingLanes));var d=r.pendingLanes;if(d===0&&(ka=null),Ta(o),a=a.stateNode,Ee&&typeof Ee.onCommitFiberRoot=="function")try{Ee.onCommitFiberRoot(_e,a,void 0,(a.current.flags&128)===128)}catch{}if(u!==null){a=Z.T,d=me.p,me.p=2,Z.T=null;try{for(var g=r.onRecoverableError,b=0;b<u.length;b++){var S=u[b];g(S.value,{componentStack:S.stack})}}finally{Z.T=a,me.p=d}}(Zo&3)!==0&&Lf(),Ti(r),d=r.pendingLanes,(o&4194090)!==0&&(d&42)!==0?r===rp?Ru++:(Ru=0,rp=r):Ru=0,Cu(0)}}function J0(r,a){(r.pooledCacheLanes&=a)===0&&(a=r.pooledCache,a!=null&&(r.pooledCache=null,su(a)))}function Lf(r){return X0(),W0(),Z0(),eE()}function eE(){if(Sn!==5)return!1;var r=Ua,a=tp;tp=0;var o=Ta(Zo),u=Z.T,d=me.p;try{me.p=32>o?32:o,Z.T=null,o=np,np=null;var g=Ua,b=Zo;if(Sn=0,Wo=Ua=null,Zo=0,(bt&6)!==0)throw Error(i(331));var S=bt;if(bt|=4,k0(g.current),P0(g,g.current,b,o),bt=S,Cu(0,!1),Ee&&typeof Ee.onPostCommitFiberRoot=="function")try{Ee.onPostCommitFiberRoot(_e,g)}catch{}return!0}finally{me.p=d,Z.T=u,J0(r,a)}}function tE(r,a,o){a=Dr(o,a),a=Lm(r.stateNode,a,2),r=Ia(r,a,2),r!==null&&(Gr(r,2),Ti(r))}function xt(r,a,o){if(r.tag===3)tE(r,r,o);else for(;a!==null;){if(a.tag===3){tE(a,r,o);break}else if(a.tag===1){var u=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(ka===null||!ka.has(u))){r=Dr(o,r),o=a0(2),u=Ia(a,o,2),u!==null&&(s0(o,u,a,r),Gr(u,2),Ti(u));break}}a=a.return}}function op(r,a,o){var u=r.pingCache;if(u===null){u=r.pingCache=new KC;var d=new Set;u.set(a,d)}else d=u.get(a),d===void 0&&(d=new Set,u.set(a,d));d.has(o)||(Wm=!0,d.add(o),r=ZC.bind(null,r,a,o),a.then(r,r))}function ZC(r,a,o){var u=r.pingCache;u!==null&&u.delete(a),r.pingedLanes|=r.suspendedLanes&o,r.warmLanes&=~o,Nt===r&&(ct&o)===o&&($t===4||$t===3&&(ct&62914560)===ct&&300>vn()-ep?(bt&2)===0&&Jo(r,0):Zm|=o,Xo===ct&&(Xo=0)),Ti(r)}function nE(r,a){a===0&&(a=_s()),r=Lo(r,a),r!==null&&(Gr(r,a),Ti(r))}function JC(r){var a=r.memoizedState,o=0;a!==null&&(o=a.retryLane),nE(r,o)}function eI(r,a){var o=0;switch(r.tag){case 13:var u=r.stateNode,d=r.memoizedState;d!==null&&(o=d.retryLane);break;case 19:u=r.stateNode;break;case 22:u=r.stateNode._retryCache;break;default:throw Error(i(314))}u!==null&&u.delete(a),nE(r,o)}function tI(r,a){return vr(r,a)}var Vf=null,tl=null,lp=!1,kf=!1,up=!1,qs=0;function Ti(r){r!==tl&&r.next===null&&(tl===null?Vf=tl=r:tl=tl.next=r),kf=!0,lp||(lp=!0,rI())}function Cu(r,a){if(!up&&kf){up=!0;do for(var o=!1,u=Vf;u!==null;){if(r!==0){var d=u.pendingLanes;if(d===0)var g=0;else{var b=u.suspendedLanes,S=u.pingedLanes;g=(1<<31-yt(42|r)+1)-1,g&=d&~(b&~S),g=g&201326741?g&201326741|1:g?g|2:0}g!==0&&(o=!0,sE(u,g))}else g=ct,g=Pi(u,u===Nt?g:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(g&3)===0||Tr(u,g)||(o=!0,sE(u,g));u=u.next}while(o);up=!1}}function nI(){rE()}function rE(){kf=lp=!1;var r=0;qs!==0&&(fI()&&(r=qs),qs=0);for(var a=vn(),o=null,u=Vf;u!==null;){var d=u.next,g=iE(u,a);g===0?(u.next=null,o===null?Vf=d:o.next=d,d===null&&(tl=o)):(o=u,(r!==0||(g&3)!==0)&&(kf=!0)),u=d}Cu(r)}function iE(r,a){for(var o=r.suspendedLanes,u=r.pingedLanes,d=r.expirationTimes,g=r.pendingLanes&-62914561;0<g;){var b=31-yt(g),S=1<<b,M=d[b];M===-1?((S&o)===0||(S&u)!==0)&&(d[b]=_a(S,a)):M<=a&&(r.expiredLanes|=S),g&=~S}if(a=Nt,o=ct,o=Pi(r,r===a?o:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),u=r.callbackNode,o===0||r===a&&(St===2||St===9)||r.cancelPendingCommit!==null)return u!==null&&u!==null&&yn(u),r.callbackNode=null,r.callbackPriority=0;if((o&3)===0||Tr(r,o)){if(a=o&-o,a===r.callbackPriority)return a;switch(u!==null&&yn(u),Ta(o)){case 2:case 8:o=ii;break;case 32:o=qr;break;case 268435456:o=ye;break;default:o=qr}return u=aE.bind(null,r),o=vr(o,u),r.callbackPriority=a,r.callbackNode=o,a}return u!==null&&u!==null&&yn(u),r.callbackPriority=2,r.callbackNode=null,2}function aE(r,a){if(Sn!==0&&Sn!==5)return r.callbackNode=null,r.callbackPriority=0,null;var o=r.callbackNode;if(Lf()&&r.callbackNode!==o)return null;var u=ct;return u=Pi(r,r===Nt?u:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),u===0?null:(F0(r,u,a),iE(r,vn()),r.callbackNode!=null&&r.callbackNode===o?aE.bind(null,r):null)}function sE(r,a){if(Lf())return null;F0(r,a,!0)}function rI(){dI(function(){(bt&6)!==0?vr(Hr,nI):rE()})}function cp(){return qs===0&&(qs=Li()),qs}function oE(r){return r==null||typeof r=="symbol"||typeof r=="boolean"?null:typeof r=="function"?r:So(""+r)}function lE(r,a){var o=a.ownerDocument.createElement("input");return o.name=a.name,o.value=a.value,r.id&&o.setAttribute("form",r.id),a.parentNode.insertBefore(o,a),r=new FormData(r),o.parentNode.removeChild(o),r}function iI(r,a,o,u,d){if(a==="submit"&&o&&o.stateNode===d){var g=oE((d[de]||null).action),b=u.submitter;b&&(a=(a=b[de]||null)?oE(a.formAction):b.getAttribute("formAction"),a!==null&&(g=a,b=null));var S=new wo("action","action",null,u,d);r.push({event:S,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(qs!==0){var M=b?lE(d,b):new FormData(d);Om(o,{pending:!0,data:M,method:d.method,action:g},null,M)}}else typeof g=="function"&&(S.preventDefault(),M=b?lE(d,b):new FormData(d),Om(o,{pending:!0,data:M,method:d.method,action:g},g,M))},currentTarget:d}]})}}for(var fp=0;fp<Yd.length;fp++){var hp=Yd[fp],aI=hp.toLowerCase(),sI=hp[0].toUpperCase()+hp.slice(1);Qr(aI,"on"+sI)}Qr(Fv,"onAnimationEnd"),Qr(Bv,"onAnimationIteration"),Qr($v,"onAnimationStart"),Qr("dblclick","onDoubleClick"),Qr("focusin","onFocus"),Qr("focusout","onBlur"),Qr(SC,"onTransitionRun"),Qr(wC,"onTransitionStart"),Qr(AC,"onTransitionCancel"),Qr(Hv,"onTransitionEnd"),Un("onMouseEnter",["mouseout","mouseover"]),Un("onMouseLeave",["mouseout","mouseover"]),Un("onPointerEnter",["pointerout","pointerover"]),Un("onPointerLeave",["pointerout","pointerover"]),tn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),tn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),tn("onBeforeInput",["compositionend","keypress","textInput","paste"]),tn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),tn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),tn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Iu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),oI=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Iu));function uE(r,a){a=(a&4)!==0;for(var o=0;o<r.length;o++){var u=r[o],d=u.event;u=u.listeners;e:{var g=void 0;if(a)for(var b=u.length-1;0<=b;b--){var S=u[b],M=S.instance,W=S.currentTarget;if(S=S.listener,M!==g&&d.isPropagationStopped())break e;g=S,d.currentTarget=W;try{g(d)}catch(ie){wf(ie)}d.currentTarget=null,g=M}else for(b=0;b<u.length;b++){if(S=u[b],M=S.instance,W=S.currentTarget,S=S.listener,M!==g&&d.isPropagationStopped())break e;g=S,d.currentTarget=W;try{g(d)}catch(ie){wf(ie)}d.currentTarget=null,g=M}}}}function it(r,a){var o=a[Le];o===void 0&&(o=a[Le]=new Set);var u=r+"__bubble";o.has(u)||(cE(a,r,2,!1),o.add(u))}function dp(r,a,o){var u=0;a&&(u|=4),cE(o,r,u,a)}var Uf="_reactListening"+Math.random().toString(36).slice(2);function mp(r){if(!r[Uf]){r[Uf]=!0,Je.forEach(function(o){o!=="selectionchange"&&(oI.has(o)||dp(o,!1,r),dp(o,!0,r))});var a=r.nodeType===9?r:r.ownerDocument;a===null||a[Uf]||(a[Uf]=!0,dp("selectionchange",!1,a))}}function cE(r,a,o,u){switch(PE(a)){case 2:var d=PI;break;case 8:d=LI;break;default:d=Ip}o=d.bind(null,a,o,r),d=void 0,!Cr||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(d=!0),u?d!==void 0?r.addEventListener(a,o,{capture:!0,passive:d}):r.addEventListener(a,o,!0):d!==void 0?r.addEventListener(a,o,{passive:d}):r.addEventListener(a,o,!1)}function pp(r,a,o,u,d){var g=u;if((a&1)===0&&(a&2)===0&&u!==null)e:for(;;){if(u===null)return;var b=u.tag;if(b===3||b===4){var S=u.stateNode.containerInfo;if(S===d)break;if(b===4)for(b=u.return;b!==null;){var M=b.tag;if((M===3||M===4)&&b.stateNode.containerInfo===d)return;b=b.return}for(;S!==null;){if(b=ze(S),b===null)return;if(M=b.tag,M===5||M===6||M===26||M===27){u=g=b;continue e}S=S.parentNode}}u=u.return}jc(function(){var W=g,ie=Rr(o),le=[];e:{var J=qv.get(r);if(J!==void 0){var te=wo,qe=r;switch(r){case"keypress":if(hi(o)===0)break e;case"keydown":case"keyup":te=Oo;break;case"focusin":qe="focus",te=Co;break;case"focusout":qe="blur",te=Co;break;case"beforeblur":case"afterblur":te=Co;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":te=Ir;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":te=Fd;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":te=Kc;break;case Fv:case Bv:case $v:te=Io;break;case Hv:te=Yc;break;case"scroll":case"scrollend":te=zc;break;case"wheel":te=xo;break;case"copy":case"cut":case"paste":te=Do;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":te=Zl;break;case"toggle":case"beforetoggle":te=Wc}var ke=(a&4)!==0,Ct=!ke&&(r==="scroll"||r==="scrollend"),q=ke?J!==null?J+"Capture":null:J;ke=[];for(var F=W,Y;F!==null;){var se=F;if(Y=se.stateNode,se=se.tag,se!==5&&se!==26&&se!==27||Y===null||q===null||(se=ws(F,q),se!=null&&ke.push(Du(F,se,Y))),Ct)break;F=F.return}0<ke.length&&(J=new te(J,qe,null,o,ie),le.push({event:J,listeners:ke}))}}if((a&7)===0){e:{if(J=r==="mouseover"||r==="pointerover",te=r==="mouseout"||r==="pointerout",J&&o!==Ui&&(qe=o.relatedTarget||o.fromElement)&&(ze(qe)||qe[be]))break e;if((te||J)&&(J=ie.window===ie?ie:(J=ie.ownerDocument)?J.defaultView||J.parentWindow:window,te?(qe=o.relatedTarget||o.toElement,te=W,qe=qe?ze(qe):null,qe!==null&&(Ct=l(qe),ke=qe.tag,qe!==Ct||ke!==5&&ke!==27&&ke!==6)&&(qe=null)):(te=null,qe=W),te!==qe)){if(ke=Ir,se="onMouseLeave",q="onMouseEnter",F="mouse",(r==="pointerout"||r==="pointerover")&&(ke=Zl,se="onPointerLeave",q="onPointerEnter",F="pointer"),Ct=te==null?J:vt(te),Y=qe==null?J:vt(qe),J=new ke(se,F+"leave",te,o,ie),J.target=Ct,J.relatedTarget=Y,se=null,ze(ie)===W&&(ke=new ke(q,F+"enter",qe,o,ie),ke.target=Y,ke.relatedTarget=Ct,se=ke),Ct=se,te&&qe)t:{for(ke=te,q=qe,F=0,Y=ke;Y;Y=nl(Y))F++;for(Y=0,se=q;se;se=nl(se))Y++;for(;0<F-Y;)ke=nl(ke),F--;for(;0<Y-F;)q=nl(q),Y--;for(;F--;){if(ke===q||q!==null&&ke===q.alternate)break t;ke=nl(ke),q=nl(q)}ke=null}else ke=null;te!==null&&fE(le,J,te,ke,!1),qe!==null&&Ct!==null&&fE(le,Ct,qe,ke,!0)}}e:{if(J=W?vt(W):window,te=J.nodeName&&J.nodeName.toLowerCase(),te==="select"||te==="input"&&J.type==="file")var Re=Ov;else if(rn(J))if(xv)Re=EC;else{Re=vC;var et=yC}else te=J.nodeName,!te||te.toLowerCase()!=="input"||J.type!=="checkbox"&&J.type!=="radio"?W&&ql(W.elementType)&&(Re=Ov):Re=_C;if(Re&&(Re=Re(r,W))){$i(le,Re,o,ie);break e}et&&et(r,J,W),r==="focusout"&&W&&J.type==="number"&&W.memoizedProps.value!=null&&Sa(J,"number",J.value)}switch(et=W?vt(W):window,r){case"focusin":(rn(et)||et.contentEditable==="true")&&(No=et,Gd=W,tu=null);break;case"focusout":tu=Gd=No=null;break;case"mousedown":Kd=!0;break;case"contextmenu":case"mouseup":case"dragend":Kd=!1,jv(le,o,ie);break;case"selectionchange":if(bC)break;case"keydown":case"keyup":jv(le,o,ie)}var Ne;if(pi)e:{switch(r){case"compositionstart":var Fe="onCompositionStart";break e;case"compositionend":Fe="onCompositionEnd";break e;case"compositionupdate":Fe="onCompositionUpdate";break e}Fe=void 0}else lt?re(r,o)&&(Fe="onCompositionEnd"):r==="keydown"&&o.keyCode===229&&(Fe="onCompositionStart");Fe&&(T&&o.locale!=="ko"&&(lt||Fe!=="onCompositionStart"?Fe==="onCompositionEnd"&&lt&&(Ne=Kl()):(fi=ie,wa="value"in fi?fi.value:fi.textContent,lt=!0)),et=jf(W,Fe),0<et.length&&(Fe=new Xl(Fe,r,null,o,ie),le.push({event:Fe,listeners:et}),Ne?Fe.data=Ne:(Ne=ge(o),Ne!==null&&(Fe.data=Ne)))),(Ne=v?nn(r,o):ut(r,o))&&(Fe=jf(W,"onBeforeInput"),0<Fe.length&&(et=new Xl("onBeforeInput","beforeinput",null,o,ie),le.push({event:et,listeners:Fe}),et.data=Ne)),iI(le,r,W,o,ie)}uE(le,a)})}function Du(r,a,o){return{instance:r,listener:a,currentTarget:o}}function jf(r,a){for(var o=a+"Capture",u=[];r!==null;){var d=r,g=d.stateNode;if(d=d.tag,d!==5&&d!==26&&d!==27||g===null||(d=ws(r,o),d!=null&&u.unshift(Du(r,d,g)),d=ws(r,a),d!=null&&u.push(Du(r,d,g))),r.tag===3)return u;r=r.return}return[]}function nl(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5&&r.tag!==27);return r||null}function fE(r,a,o,u,d){for(var g=a._reactName,b=[];o!==null&&o!==u;){var S=o,M=S.alternate,W=S.stateNode;if(S=S.tag,M!==null&&M===u)break;S!==5&&S!==26&&S!==27||W===null||(M=W,d?(W=ws(o,g),W!=null&&b.unshift(Du(o,W,M))):d||(W=ws(o,g),W!=null&&b.push(Du(o,W,M)))),o=o.return}b.length!==0&&r.push({event:a,listeners:b})}var lI=/\r\n?/g,uI=/\u0000|\uFFFD/g;function hE(r){return(typeof r=="string"?r:""+r).replace(lI,`
`).replace(uI,"")}function dE(r,a){return a=hE(a),hE(r)===a}function zf(){}function Rt(r,a,o,u,d,g){switch(o){case"children":typeof u=="string"?a==="body"||a==="textarea"&&u===""||Ar(r,u):(typeof u=="number"||typeof u=="bigint")&&a!=="body"&&Ar(r,""+u);break;case"className":jn(r,"class",u);break;case"tabIndex":jn(r,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":jn(r,o,u);break;case"style":Hl(r,u,g);break;case"data":if(a!=="object"){jn(r,"data",u);break}case"src":case"href":if(u===""&&(a!=="a"||o!=="href")){r.removeAttribute(o);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){r.removeAttribute(o);break}u=So(""+u),r.setAttribute(o,u);break;case"action":case"formAction":if(typeof u=="function"){r.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof g=="function"&&(o==="formAction"?(a!=="input"&&Rt(r,a,"name",d.name,d,null),Rt(r,a,"formEncType",d.formEncType,d,null),Rt(r,a,"formMethod",d.formMethod,d,null),Rt(r,a,"formTarget",d.formTarget,d,null)):(Rt(r,a,"encType",d.encType,d,null),Rt(r,a,"method",d.method,d,null),Rt(r,a,"target",d.target,d,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){r.removeAttribute(o);break}u=So(""+u),r.setAttribute(o,u);break;case"onClick":u!=null&&(r.onclick=zf);break;case"onScroll":u!=null&&it("scroll",r);break;case"onScrollEnd":u!=null&&it("scrollend",r);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(i(61));if(o=u.__html,o!=null){if(d.children!=null)throw Error(i(60));r.innerHTML=o}}break;case"multiple":r.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":r.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){r.removeAttribute("xlink:href");break}o=So(""+u),r.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?r.setAttribute(o,""+u):r.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?r.setAttribute(o,""):r.removeAttribute(o);break;case"capture":case"download":u===!0?r.setAttribute(o,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?r.setAttribute(o,u):r.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?r.setAttribute(o,u):r.removeAttribute(o);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?r.removeAttribute(o):r.setAttribute(o,u);break;case"popover":it("beforetoggle",r),it("toggle",r),On(r,"popover",u);break;case"xlinkActuate":Ge(r,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":Ge(r,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":Ge(r,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":Ge(r,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":Ge(r,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":Ge(r,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":Ge(r,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":Ge(r,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":Ge(r,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":On(r,"is",u);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=jd.get(o)||o,On(r,o,u))}}function gp(r,a,o,u,d,g){switch(o){case"style":Hl(r,u,g);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(i(61));if(o=u.__html,o!=null){if(d.children!=null)throw Error(i(60));r.innerHTML=o}}break;case"children":typeof u=="string"?Ar(r,u):(typeof u=="number"||typeof u=="bigint")&&Ar(r,""+u);break;case"onScroll":u!=null&&it("scroll",r);break;case"onScrollEnd":u!=null&&it("scrollend",r);break;case"onClick":u!=null&&(r.onclick=zf);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Sr.hasOwnProperty(o))e:{if(o[0]==="o"&&o[1]==="n"&&(d=o.endsWith("Capture"),a=o.slice(2,d?o.length-7:void 0),g=r[de]||null,g=g!=null?g[o]:null,typeof g=="function"&&r.removeEventListener(a,g,d),typeof u=="function")){typeof g!="function"&&g!==null&&(o in r?r[o]=null:r.hasAttribute(o)&&r.removeAttribute(o)),r.addEventListener(a,u,d);break e}o in r?r[o]=u:u===!0?r.setAttribute(o,""):On(r,o,u)}}}function wn(r,a,o){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":it("error",r),it("load",r);var u=!1,d=!1,g;for(g in o)if(o.hasOwnProperty(g)){var b=o[g];if(b!=null)switch(g){case"src":u=!0;break;case"srcSet":d=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,a));default:Rt(r,a,g,b,o,null)}}d&&Rt(r,a,"srcSet",o.srcSet,o,null),u&&Rt(r,a,"src",o.src,o,null);return;case"input":it("invalid",r);var S=g=b=d=null,M=null,W=null;for(u in o)if(o.hasOwnProperty(u)){var ie=o[u];if(ie!=null)switch(u){case"name":d=ie;break;case"type":b=ie;break;case"checked":M=ie;break;case"defaultChecked":W=ie;break;case"value":g=ie;break;case"defaultValue":S=ie;break;case"children":case"dangerouslySetInnerHTML":if(ie!=null)throw Error(i(137,a));break;default:Rt(r,a,u,ie,o,null)}}Ts(r,g,S,M,W,b,d,!1),bo(r);return;case"select":it("invalid",r),u=b=g=null;for(d in o)if(o.hasOwnProperty(d)&&(S=o[d],S!=null))switch(d){case"value":g=S;break;case"defaultValue":b=S;break;case"multiple":u=S;default:Rt(r,a,d,S,o,null)}a=g,o=b,r.multiple=!!u,a!=null?ki(r,!!u,a,!1):o!=null&&ki(r,!!u,o,!0);return;case"textarea":it("invalid",r),g=d=u=null;for(b in o)if(o.hasOwnProperty(b)&&(S=o[b],S!=null))switch(b){case"value":u=S;break;case"defaultValue":d=S;break;case"children":g=S;break;case"dangerouslySetInnerHTML":if(S!=null)throw Error(i(91));break;default:Rt(r,a,b,S,o,null)}bs(r,u,d,g),bo(r);return;case"option":for(M in o)if(o.hasOwnProperty(M)&&(u=o[M],u!=null))switch(M){case"selected":r.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:Rt(r,a,M,u,o,null)}return;case"dialog":it("beforetoggle",r),it("toggle",r),it("cancel",r),it("close",r);break;case"iframe":case"object":it("load",r);break;case"video":case"audio":for(u=0;u<Iu.length;u++)it(Iu[u],r);break;case"image":it("error",r),it("load",r);break;case"details":it("toggle",r);break;case"embed":case"source":case"link":it("error",r),it("load",r);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(W in o)if(o.hasOwnProperty(W)&&(u=o[W],u!=null))switch(W){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,a));default:Rt(r,a,W,u,o,null)}return;default:if(ql(a)){for(ie in o)o.hasOwnProperty(ie)&&(u=o[ie],u!==void 0&&gp(r,a,ie,u,o,void 0));return}}for(S in o)o.hasOwnProperty(S)&&(u=o[S],u!=null&&Rt(r,a,S,u,o,null))}function cI(r,a,o,u){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var d=null,g=null,b=null,S=null,M=null,W=null,ie=null;for(te in o){var le=o[te];if(o.hasOwnProperty(te)&&le!=null)switch(te){case"checked":break;case"value":break;case"defaultValue":M=le;default:u.hasOwnProperty(te)||Rt(r,a,te,null,u,le)}}for(var J in u){var te=u[J];if(le=o[J],u.hasOwnProperty(J)&&(te!=null||le!=null))switch(J){case"type":g=te;break;case"name":d=te;break;case"checked":W=te;break;case"defaultChecked":ie=te;break;case"value":b=te;break;case"defaultValue":S=te;break;case"children":case"dangerouslySetInnerHTML":if(te!=null)throw Error(i(137,a));break;default:te!==le&&Rt(r,a,J,te,u,le)}}tr(r,b,S,M,W,ie,g,d);return;case"select":te=b=S=J=null;for(g in o)if(M=o[g],o.hasOwnProperty(g)&&M!=null)switch(g){case"value":break;case"multiple":te=M;default:u.hasOwnProperty(g)||Rt(r,a,g,null,u,M)}for(d in u)if(g=u[d],M=o[d],u.hasOwnProperty(d)&&(g!=null||M!=null))switch(d){case"value":J=g;break;case"defaultValue":S=g;break;case"multiple":b=g;default:g!==M&&Rt(r,a,d,g,u,M)}a=S,o=b,u=te,J!=null?ki(r,!!o,J,!1):!!u!=!!o&&(a!=null?ki(r,!!o,a,!0):ki(r,!!o,o?[]:"",!1));return;case"textarea":te=J=null;for(S in o)if(d=o[S],o.hasOwnProperty(S)&&d!=null&&!u.hasOwnProperty(S))switch(S){case"value":break;case"children":break;default:Rt(r,a,S,null,u,d)}for(b in u)if(d=u[b],g=o[b],u.hasOwnProperty(b)&&(d!=null||g!=null))switch(b){case"value":J=d;break;case"defaultValue":te=d;break;case"children":break;case"dangerouslySetInnerHTML":if(d!=null)throw Error(i(91));break;default:d!==g&&Rt(r,a,b,d,u,g)}wt(r,J,te);return;case"option":for(var qe in o)if(J=o[qe],o.hasOwnProperty(qe)&&J!=null&&!u.hasOwnProperty(qe))switch(qe){case"selected":r.selected=!1;break;default:Rt(r,a,qe,null,u,J)}for(M in u)if(J=u[M],te=o[M],u.hasOwnProperty(M)&&J!==te&&(J!=null||te!=null))switch(M){case"selected":r.selected=J&&typeof J!="function"&&typeof J!="symbol";break;default:Rt(r,a,M,J,u,te)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ke in o)J=o[ke],o.hasOwnProperty(ke)&&J!=null&&!u.hasOwnProperty(ke)&&Rt(r,a,ke,null,u,J);for(W in u)if(J=u[W],te=o[W],u.hasOwnProperty(W)&&J!==te&&(J!=null||te!=null))switch(W){case"children":case"dangerouslySetInnerHTML":if(J!=null)throw Error(i(137,a));break;default:Rt(r,a,W,J,u,te)}return;default:if(ql(a)){for(var Ct in o)J=o[Ct],o.hasOwnProperty(Ct)&&J!==void 0&&!u.hasOwnProperty(Ct)&&gp(r,a,Ct,void 0,u,J);for(ie in u)J=u[ie],te=o[ie],!u.hasOwnProperty(ie)||J===te||J===void 0&&te===void 0||gp(r,a,ie,J,u,te);return}}for(var q in o)J=o[q],o.hasOwnProperty(q)&&J!=null&&!u.hasOwnProperty(q)&&Rt(r,a,q,null,u,J);for(le in u)J=u[le],te=o[le],!u.hasOwnProperty(le)||J===te||J==null&&te==null||Rt(r,a,le,J,u,te)}var yp=null,vp=null;function Ff(r){return r.nodeType===9?r:r.ownerDocument}function mE(r){switch(r){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function pE(r,a){if(r===0)switch(a){case"svg":return 1;case"math":return 2;default:return 0}return r===1&&a==="foreignObject"?0:r}function _p(r,a){return r==="textarea"||r==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.children=="bigint"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var Ep=null;function fI(){var r=window.event;return r&&r.type==="popstate"?r===Ep?!1:(Ep=r,!0):(Ep=null,!1)}var gE=typeof setTimeout=="function"?setTimeout:void 0,hI=typeof clearTimeout=="function"?clearTimeout:void 0,yE=typeof Promise=="function"?Promise:void 0,dI=typeof queueMicrotask=="function"?queueMicrotask:typeof yE<"u"?function(r){return yE.resolve(null).then(r).catch(mI)}:gE;function mI(r){setTimeout(function(){throw r})}function za(r){return r==="head"}function vE(r,a){var o=a,u=0,d=0;do{var g=o.nextSibling;if(r.removeChild(o),g&&g.nodeType===8)if(o=g.data,o==="/$"){if(0<u&&8>u){o=u;var b=r.ownerDocument;if(o&1&&Ou(b.documentElement),o&2&&Ou(b.body),o&4)for(o=b.head,Ou(o),b=o.firstChild;b;){var S=b.nextSibling,M=b.nodeName;b[je]||M==="SCRIPT"||M==="STYLE"||M==="LINK"&&b.rel.toLowerCase()==="stylesheet"||o.removeChild(b),b=S}}if(d===0){r.removeChild(g),Uu(a);return}d--}else o==="$"||o==="$?"||o==="$!"?d++:u=o.charCodeAt(0)-48;else u=0;o=g}while(o);Uu(a)}function Tp(r){var a=r.firstChild;for(a&&a.nodeType===10&&(a=a.nextSibling);a;){var o=a;switch(a=a.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":Tp(o),Ie(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}r.removeChild(o)}}function pI(r,a,o,u){for(;r.nodeType===1;){var d=o;if(r.nodeName.toLowerCase()!==a.toLowerCase()){if(!u&&(r.nodeName!=="INPUT"||r.type!=="hidden"))break}else if(u){if(!r[je])switch(a){case"meta":if(!r.hasAttribute("itemprop"))break;return r;case"link":if(g=r.getAttribute("rel"),g==="stylesheet"&&r.hasAttribute("data-precedence"))break;if(g!==d.rel||r.getAttribute("href")!==(d.href==null||d.href===""?null:d.href)||r.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin)||r.getAttribute("title")!==(d.title==null?null:d.title))break;return r;case"style":if(r.hasAttribute("data-precedence"))break;return r;case"script":if(g=r.getAttribute("src"),(g!==(d.src==null?null:d.src)||r.getAttribute("type")!==(d.type==null?null:d.type)||r.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin))&&g&&r.hasAttribute("async")&&!r.hasAttribute("itemprop"))break;return r;default:return r}}else if(a==="input"&&r.type==="hidden"){var g=d.name==null?null:""+d.name;if(d.type==="hidden"&&r.getAttribute("name")===g)return r}else return r;if(r=Xr(r.nextSibling),r===null)break}return null}function gI(r,a,o){if(a==="")return null;for(;r.nodeType!==3;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!o||(r=Xr(r.nextSibling),r===null))return null;return r}function bp(r){return r.data==="$!"||r.data==="$?"&&r.ownerDocument.readyState==="complete"}function yI(r,a){var o=r.ownerDocument;if(r.data!=="$?"||o.readyState==="complete")a();else{var u=function(){a(),o.removeEventListener("DOMContentLoaded",u)};o.addEventListener("DOMContentLoaded",u),r._reactRetry=u}}function Xr(r){for(;r!=null;r=r.nextSibling){var a=r.nodeType;if(a===1||a===3)break;if(a===8){if(a=r.data,a==="$"||a==="$!"||a==="$?"||a==="F!"||a==="F")break;if(a==="/$")return null}}return r}var Sp=null;function _E(r){r=r.previousSibling;for(var a=0;r;){if(r.nodeType===8){var o=r.data;if(o==="$"||o==="$!"||o==="$?"){if(a===0)return r;a--}else o==="/$"&&a++}r=r.previousSibling}return null}function EE(r,a,o){switch(a=Ff(o),r){case"html":if(r=a.documentElement,!r)throw Error(i(452));return r;case"head":if(r=a.head,!r)throw Error(i(453));return r;case"body":if(r=a.body,!r)throw Error(i(454));return r;default:throw Error(i(451))}}function Ou(r){for(var a=r.attributes;a.length;)r.removeAttributeNode(a[0]);Ie(r)}var Lr=new Map,TE=new Set;function Bf(r){return typeof r.getRootNode=="function"?r.getRootNode():r.nodeType===9?r:r.ownerDocument}var na=me.d;me.d={f:vI,r:_I,D:EI,C:TI,L:bI,m:SI,X:AI,S:wI,M:RI};function vI(){var r=na.f(),a=Mf();return r||a}function _I(r){var a=nt(r);a!==null&&a.tag===5&&a.type==="form"?F_(a):na.r(r)}var rl=typeof document>"u"?null:document;function bE(r,a,o){var u=rl;if(u&&typeof a=="string"&&a){var d=Wt(a);d='link[rel="'+r+'"][href="'+d+'"]',typeof o=="string"&&(d+='[crossorigin="'+o+'"]'),TE.has(d)||(TE.add(d),r={rel:r,crossOrigin:o,href:a},u.querySelector(d)===null&&(a=u.createElement("link"),wn(a,"link",r),ot(a),u.head.appendChild(a)))}}function EI(r){na.D(r),bE("dns-prefetch",r,null)}function TI(r,a){na.C(r,a),bE("preconnect",r,a)}function bI(r,a,o){na.L(r,a,o);var u=rl;if(u&&r&&a){var d='link[rel="preload"][as="'+Wt(a)+'"]';a==="image"&&o&&o.imageSrcSet?(d+='[imagesrcset="'+Wt(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(d+='[imagesizes="'+Wt(o.imageSizes)+'"]')):d+='[href="'+Wt(r)+'"]';var g=d;switch(a){case"style":g=il(r);break;case"script":g=al(r)}Lr.has(g)||(r=y({rel:"preload",href:a==="image"&&o&&o.imageSrcSet?void 0:r,as:a},o),Lr.set(g,r),u.querySelector(d)!==null||a==="style"&&u.querySelector(xu(g))||a==="script"&&u.querySelector(Nu(g))||(a=u.createElement("link"),wn(a,"link",r),ot(a),u.head.appendChild(a)))}}function SI(r,a){na.m(r,a);var o=rl;if(o&&r){var u=a&&typeof a.as=="string"?a.as:"script",d='link[rel="modulepreload"][as="'+Wt(u)+'"][href="'+Wt(r)+'"]',g=d;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":g=al(r)}if(!Lr.has(g)&&(r=y({rel:"modulepreload",href:r},a),Lr.set(g,r),o.querySelector(d)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(Nu(g)))return}u=o.createElement("link"),wn(u,"link",r),ot(u),o.head.appendChild(u)}}}function wI(r,a,o){na.S(r,a,o);var u=rl;if(u&&r){var d=dt(u).hoistableStyles,g=il(r);a=a||"default";var b=d.get(g);if(!b){var S={loading:0,preload:null};if(b=u.querySelector(xu(g)))S.loading=5;else{r=y({rel:"stylesheet",href:r,"data-precedence":a},o),(o=Lr.get(g))&&wp(r,o);var M=b=u.createElement("link");ot(M),wn(M,"link",r),M._p=new Promise(function(W,ie){M.onload=W,M.onerror=ie}),M.addEventListener("load",function(){S.loading|=1}),M.addEventListener("error",function(){S.loading|=2}),S.loading|=4,$f(b,a,u)}b={type:"stylesheet",instance:b,count:1,state:S},d.set(g,b)}}}function AI(r,a){na.X(r,a);var o=rl;if(o&&r){var u=dt(o).hoistableScripts,d=al(r),g=u.get(d);g||(g=o.querySelector(Nu(d)),g||(r=y({src:r,async:!0},a),(a=Lr.get(d))&&Ap(r,a),g=o.createElement("script"),ot(g),wn(g,"link",r),o.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},u.set(d,g))}}function RI(r,a){na.M(r,a);var o=rl;if(o&&r){var u=dt(o).hoistableScripts,d=al(r),g=u.get(d);g||(g=o.querySelector(Nu(d)),g||(r=y({src:r,async:!0,type:"module"},a),(a=Lr.get(d))&&Ap(r,a),g=o.createElement("script"),ot(g),wn(g,"link",r),o.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},u.set(d,g))}}function SE(r,a,o,u){var d=(d=Oe.current)?Bf(d):null;if(!d)throw Error(i(446));switch(r){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(a=il(o.href),o=dt(d).hoistableStyles,u=o.get(a),u||(u={type:"style",instance:null,count:0,state:null},o.set(a,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){r=il(o.href);var g=dt(d).hoistableStyles,b=g.get(r);if(b||(d=d.ownerDocument||d,b={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},g.set(r,b),(g=d.querySelector(xu(r)))&&!g._p&&(b.instance=g,b.state.loading=5),Lr.has(r)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},Lr.set(r,o),g||CI(d,r,o,b.state))),a&&u===null)throw Error(i(528,""));return b}if(a&&u!==null)throw Error(i(529,""));return null;case"script":return a=o.async,o=o.src,typeof o=="string"&&a&&typeof a!="function"&&typeof a!="symbol"?(a=al(o),o=dt(d).hoistableScripts,u=o.get(a),u||(u={type:"script",instance:null,count:0,state:null},o.set(a,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,r))}}function il(r){return'href="'+Wt(r)+'"'}function xu(r){return'link[rel="stylesheet"]['+r+"]"}function wE(r){return y({},r,{"data-precedence":r.precedence,precedence:null})}function CI(r,a,o,u){r.querySelector('link[rel="preload"][as="style"]['+a+"]")?u.loading=1:(a=r.createElement("link"),u.preload=a,a.addEventListener("load",function(){return u.loading|=1}),a.addEventListener("error",function(){return u.loading|=2}),wn(a,"link",o),ot(a),r.head.appendChild(a))}function al(r){return'[src="'+Wt(r)+'"]'}function Nu(r){return"script[async]"+r}function AE(r,a,o){if(a.count++,a.instance===null)switch(a.type){case"style":var u=r.querySelector('style[data-href~="'+Wt(o.href)+'"]');if(u)return a.instance=u,ot(u),u;var d=y({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return u=(r.ownerDocument||r).createElement("style"),ot(u),wn(u,"style",d),$f(u,o.precedence,r),a.instance=u;case"stylesheet":d=il(o.href);var g=r.querySelector(xu(d));if(g)return a.state.loading|=4,a.instance=g,ot(g),g;u=wE(o),(d=Lr.get(d))&&wp(u,d),g=(r.ownerDocument||r).createElement("link"),ot(g);var b=g;return b._p=new Promise(function(S,M){b.onload=S,b.onerror=M}),wn(g,"link",u),a.state.loading|=4,$f(g,o.precedence,r),a.instance=g;case"script":return g=al(o.src),(d=r.querySelector(Nu(g)))?(a.instance=d,ot(d),d):(u=o,(d=Lr.get(g))&&(u=y({},o),Ap(u,d)),r=r.ownerDocument||r,d=r.createElement("script"),ot(d),wn(d,"link",u),r.head.appendChild(d),a.instance=d);case"void":return null;default:throw Error(i(443,a.type))}else a.type==="stylesheet"&&(a.state.loading&4)===0&&(u=a.instance,a.state.loading|=4,$f(u,o.precedence,r));return a.instance}function $f(r,a,o){for(var u=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),d=u.length?u[u.length-1]:null,g=d,b=0;b<u.length;b++){var S=u[b];if(S.dataset.precedence===a)g=S;else if(g!==d)break}g?g.parentNode.insertBefore(r,g.nextSibling):(a=o.nodeType===9?o.head:o,a.insertBefore(r,a.firstChild))}function wp(r,a){r.crossOrigin==null&&(r.crossOrigin=a.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=a.referrerPolicy),r.title==null&&(r.title=a.title)}function Ap(r,a){r.crossOrigin==null&&(r.crossOrigin=a.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=a.referrerPolicy),r.integrity==null&&(r.integrity=a.integrity)}var Hf=null;function RE(r,a,o){if(Hf===null){var u=new Map,d=Hf=new Map;d.set(o,u)}else d=Hf,u=d.get(o),u||(u=new Map,d.set(o,u));if(u.has(r))return u;for(u.set(r,null),o=o.getElementsByTagName(r),d=0;d<o.length;d++){var g=o[d];if(!(g[je]||g[oe]||r==="link"&&g.getAttribute("rel")==="stylesheet")&&g.namespaceURI!=="http://www.w3.org/2000/svg"){var b=g.getAttribute(a)||"";b=r+b;var S=u.get(b);S?S.push(g):u.set(b,[g])}}return u}function CE(r,a,o){r=r.ownerDocument||r,r.head.insertBefore(o,a==="title"?r.querySelector("head > title"):null)}function II(r,a,o){if(o===1||a.itemProp!=null)return!1;switch(r){case"meta":case"title":return!0;case"style":if(typeof a.precedence!="string"||typeof a.href!="string"||a.href==="")break;return!0;case"link":if(typeof a.rel!="string"||typeof a.href!="string"||a.href===""||a.onLoad||a.onError)break;switch(a.rel){case"stylesheet":return r=a.disabled,typeof a.precedence=="string"&&r==null;default:return!0}case"script":if(a.async&&typeof a.async!="function"&&typeof a.async!="symbol"&&!a.onLoad&&!a.onError&&a.src&&typeof a.src=="string")return!0}return!1}function IE(r){return!(r.type==="stylesheet"&&(r.state.loading&3)===0)}var Mu=null;function DI(){}function OI(r,a,o){if(Mu===null)throw Error(i(475));var u=Mu;if(a.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var d=il(o.href),g=r.querySelector(xu(d));if(g){r=g._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(u.count++,u=qf.bind(u),r.then(u,u)),a.state.loading|=4,a.instance=g,ot(g);return}g=r.ownerDocument||r,o=wE(o),(d=Lr.get(d))&&wp(o,d),g=g.createElement("link"),ot(g);var b=g;b._p=new Promise(function(S,M){b.onload=S,b.onerror=M}),wn(g,"link",o),a.instance=g}u.stylesheets===null&&(u.stylesheets=new Map),u.stylesheets.set(a,r),(r=a.state.preload)&&(a.state.loading&3)===0&&(u.count++,a=qf.bind(u),r.addEventListener("load",a),r.addEventListener("error",a))}}function xI(){if(Mu===null)throw Error(i(475));var r=Mu;return r.stylesheets&&r.count===0&&Rp(r,r.stylesheets),0<r.count?function(a){var o=setTimeout(function(){if(r.stylesheets&&Rp(r,r.stylesheets),r.unsuspend){var u=r.unsuspend;r.unsuspend=null,u()}},6e4);return r.unsuspend=a,function(){r.unsuspend=null,clearTimeout(o)}}:null}function qf(){if(this.count--,this.count===0){if(this.stylesheets)Rp(this,this.stylesheets);else if(this.unsuspend){var r=this.unsuspend;this.unsuspend=null,r()}}}var Gf=null;function Rp(r,a){r.stylesheets=null,r.unsuspend!==null&&(r.count++,Gf=new Map,a.forEach(NI,r),Gf=null,qf.call(r))}function NI(r,a){if(!(a.state.loading&4)){var o=Gf.get(r);if(o)var u=o.get(null);else{o=new Map,Gf.set(r,o);for(var d=r.querySelectorAll("link[data-precedence],style[data-precedence]"),g=0;g<d.length;g++){var b=d[g];(b.nodeName==="LINK"||b.getAttribute("media")!=="not all")&&(o.set(b.dataset.precedence,b),u=b)}u&&o.set(null,u)}d=a.instance,b=d.getAttribute("data-precedence"),g=o.get(b)||u,g===u&&o.set(null,d),o.set(b,d),this.count++,u=qf.bind(this),d.addEventListener("load",u),d.addEventListener("error",u),g?g.parentNode.insertBefore(d,g.nextSibling):(r=r.nodeType===9?r.head:r,r.insertBefore(d,r.firstChild)),a.state.loading|=4}}var Pu={$$typeof:ne,Provider:null,Consumer:null,_currentValue:ve,_currentValue2:ve,_threadCount:0};function MI(r,a,o,u,d,g,b,S){this.tag=1,this.containerInfo=r,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=br(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=br(0),this.hiddenUpdates=br(null),this.identifierPrefix=u,this.onUncaughtError=d,this.onCaughtError=g,this.onRecoverableError=b,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=S,this.incompleteTransitions=new Map}function DE(r,a,o,u,d,g,b,S,M,W,ie,le){return r=new MI(r,a,o,b,S,M,W,le),a=1,g===!0&&(a|=24),g=rr(3,null,null,a),r.current=g,g.stateNode=r,a=om(),a.refCount++,r.pooledCache=a,a.refCount++,g.memoizedState={element:u,isDehydrated:o,cache:a},fm(g),r}function OE(r){return r?(r=Vo,r):Vo}function xE(r,a,o,u,d,g){d=OE(d),u.context===null?u.context=d:u.pendingContext=d,u=Ca(a),u.payload={element:o},g=g===void 0?null:g,g!==null&&(u.callback=g),o=Ia(r,u,a),o!==null&&(lr(o,r,a),cu(o,r,a))}function NE(r,a){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var o=r.retryLane;r.retryLane=o!==0&&o<a?o:a}}function Cp(r,a){NE(r,a),(r=r.alternate)&&NE(r,a)}function ME(r){if(r.tag===13){var a=Lo(r,67108864);a!==null&&lr(a,r,67108864),Cp(r,67108864)}}var Kf=!0;function PI(r,a,o,u){var d=Z.T;Z.T=null;var g=me.p;try{me.p=2,Ip(r,a,o,u)}finally{me.p=g,Z.T=d}}function LI(r,a,o,u){var d=Z.T;Z.T=null;var g=me.p;try{me.p=8,Ip(r,a,o,u)}finally{me.p=g,Z.T=d}}function Ip(r,a,o,u){if(Kf){var d=Dp(u);if(d===null)pp(r,a,u,Qf,o),LE(r,u);else if(kI(d,r,a,o,u))u.stopPropagation();else if(LE(r,u),a&4&&-1<VI.indexOf(r)){for(;d!==null;){var g=nt(d);if(g!==null)switch(g.tag){case 3:if(g=g.stateNode,g.current.memoizedState.isDehydrated){var b=Zn(g.pendingLanes);if(b!==0){var S=g;for(S.pendingLanes|=2,S.entangledLanes|=2;b;){var M=1<<31-yt(b);S.entanglements[1]|=M,b&=~M}Ti(g),(bt&6)===0&&(xf=vn()+500,Cu(0))}}break;case 13:S=Lo(g,2),S!==null&&lr(S,g,2),Mf(),Cp(g,2)}if(g=Dp(u),g===null&&pp(r,a,u,Qf,o),g===d)break;d=g}d!==null&&u.stopPropagation()}else pp(r,a,u,null,o)}}function Dp(r){return r=Rr(r),Op(r)}var Qf=null;function Op(r){if(Qf=null,r=ze(r),r!==null){var a=l(r);if(a===null)r=null;else{var o=a.tag;if(o===13){if(r=c(a),r!==null)return r;r=null}else if(o===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;r=null}else a!==r&&(r=null)}}return Qf=r,null}function PE(r){switch(r){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(vs()){case Hr:return 2;case ii:return 8;case qr:case ee:return 32;case ye:return 268435456;default:return 32}default:return 32}}var xp=!1,Fa=null,Ba=null,$a=null,Lu=new Map,Vu=new Map,Ha=[],VI="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function LE(r,a){switch(r){case"focusin":case"focusout":Fa=null;break;case"dragenter":case"dragleave":Ba=null;break;case"mouseover":case"mouseout":$a=null;break;case"pointerover":case"pointerout":Lu.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":Vu.delete(a.pointerId)}}function ku(r,a,o,u,d,g){return r===null||r.nativeEvent!==g?(r={blockedOn:a,domEventName:o,eventSystemFlags:u,nativeEvent:g,targetContainers:[d]},a!==null&&(a=nt(a),a!==null&&ME(a)),r):(r.eventSystemFlags|=u,a=r.targetContainers,d!==null&&a.indexOf(d)===-1&&a.push(d),r)}function kI(r,a,o,u,d){switch(a){case"focusin":return Fa=ku(Fa,r,a,o,u,d),!0;case"dragenter":return Ba=ku(Ba,r,a,o,u,d),!0;case"mouseover":return $a=ku($a,r,a,o,u,d),!0;case"pointerover":var g=d.pointerId;return Lu.set(g,ku(Lu.get(g)||null,r,a,o,u,d)),!0;case"gotpointercapture":return g=d.pointerId,Vu.set(g,ku(Vu.get(g)||null,r,a,o,u,d)),!0}return!1}function VE(r){var a=ze(r.target);if(a!==null){var o=l(a);if(o!==null){if(a=o.tag,a===13){if(a=c(o),a!==null){r.blockedOn=a,K(r.priority,function(){if(o.tag===13){var u=or();u=oi(u);var d=Lo(o,u);d!==null&&lr(d,o,u),Cp(o,u)}});return}}else if(a===3&&o.stateNode.current.memoizedState.isDehydrated){r.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}r.blockedOn=null}function Yf(r){if(r.blockedOn!==null)return!1;for(var a=r.targetContainers;0<a.length;){var o=Dp(r.nativeEvent);if(o===null){o=r.nativeEvent;var u=new o.constructor(o.type,o);Ui=u,o.target.dispatchEvent(u),Ui=null}else return a=nt(o),a!==null&&ME(a),r.blockedOn=o,!1;a.shift()}return!0}function kE(r,a,o){Yf(r)&&o.delete(a)}function UI(){xp=!1,Fa!==null&&Yf(Fa)&&(Fa=null),Ba!==null&&Yf(Ba)&&(Ba=null),$a!==null&&Yf($a)&&($a=null),Lu.forEach(kE),Vu.forEach(kE)}function Xf(r,a){r.blockedOn===a&&(r.blockedOn=null,xp||(xp=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,UI)))}var Wf=null;function UE(r){Wf!==r&&(Wf=r,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){Wf===r&&(Wf=null);for(var a=0;a<r.length;a+=3){var o=r[a],u=r[a+1],d=r[a+2];if(typeof u!="function"){if(Op(u||o)===null)continue;break}var g=nt(o);g!==null&&(r.splice(a,3),a-=3,Om(g,{pending:!0,data:d,method:o.method,action:u},u,d))}}))}function Uu(r){function a(M){return Xf(M,r)}Fa!==null&&Xf(Fa,r),Ba!==null&&Xf(Ba,r),$a!==null&&Xf($a,r),Lu.forEach(a),Vu.forEach(a);for(var o=0;o<Ha.length;o++){var u=Ha[o];u.blockedOn===r&&(u.blockedOn=null)}for(;0<Ha.length&&(o=Ha[0],o.blockedOn===null);)VE(o),o.blockedOn===null&&Ha.shift();if(o=(r.ownerDocument||r).$$reactFormReplay,o!=null)for(u=0;u<o.length;u+=3){var d=o[u],g=o[u+1],b=d[de]||null;if(typeof g=="function")b||UE(o);else if(b){var S=null;if(g&&g.hasAttribute("formAction")){if(d=g,b=g[de]||null)S=b.formAction;else if(Op(d)!==null)continue}else S=b.action;typeof S=="function"?o[u+1]=S:(o.splice(u,3),u-=3),UE(o)}}}function Np(r){this._internalRoot=r}Zf.prototype.render=Np.prototype.render=function(r){var a=this._internalRoot;if(a===null)throw Error(i(409));var o=a.current,u=or();xE(o,u,r,a,null,null)},Zf.prototype.unmount=Np.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var a=r.containerInfo;xE(r.current,2,null,r,null,null),Mf(),a[be]=null}};function Zf(r){this._internalRoot=r}Zf.prototype.unstable_scheduleHydration=function(r){if(r){var a=z();r={blockedOn:null,target:r,priority:a};for(var o=0;o<Ha.length&&a!==0&&a<Ha[o].priority;o++);Ha.splice(o,0,r),o===0&&VE(r)}};var jE=e.version;if(jE!=="19.1.0")throw Error(i(527,jE,"19.1.0"));me.findDOMNode=function(r){var a=r._reactInternals;if(a===void 0)throw typeof r.render=="function"?Error(i(188)):(r=Object.keys(r).join(","),Error(i(268,r)));return r=m(a),r=r!==null?p(r):null,r=r===null?null:r.stateNode,r};var jI={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:Z,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Jf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Jf.isDisabled&&Jf.supportsFiber)try{_e=Jf.inject(jI),Ee=Jf}catch{}}return zu.createRoot=function(r,a){if(!s(r))throw Error(i(299));var o=!1,u="",d=t0,g=n0,b=r0,S=null;return a!=null&&(a.unstable_strictMode===!0&&(o=!0),a.identifierPrefix!==void 0&&(u=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(g=a.onCaughtError),a.onRecoverableError!==void 0&&(b=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(S=a.unstable_transitionCallbacks)),a=DE(r,1,!1,null,null,o,u,d,g,b,S,null),r[be]=a.current,mp(r),new Np(a)},zu.hydrateRoot=function(r,a,o){if(!s(r))throw Error(i(299));var u=!1,d="",g=t0,b=n0,S=r0,M=null,W=null;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(d=o.identifierPrefix),o.onUncaughtError!==void 0&&(g=o.onUncaughtError),o.onCaughtError!==void 0&&(b=o.onCaughtError),o.onRecoverableError!==void 0&&(S=o.onRecoverableError),o.unstable_transitionCallbacks!==void 0&&(M=o.unstable_transitionCallbacks),o.formState!==void 0&&(W=o.formState)),a=DE(r,1,!0,a,o??null,u,d,g,b,S,M,W),a.context=OE(null),o=a.current,u=or(),u=oi(u),d=Ca(u),d.callback=null,Ia(o,d,u),o=u,a.current.lanes=o,Gr(a,o),Ti(a),r[be]=a.current,mp(r),new Zf(a)},zu.version="19.1.0",zu}var YE;function YI(){if(YE)return Lp.exports;YE=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Lp.exports=QI(),Lp.exports}var XI=YI(),Fu={},XE;function WI(){if(XE)return Fu;XE=1,Object.defineProperty(Fu,"__esModule",{value:!0}),Fu.parse=c,Fu.serialize=p;const n=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,i=/^[\u0020-\u003A\u003D-\u007E]*$/,s=Object.prototype.toString,l=(()=>{const E=function(){};return E.prototype=Object.create(null),E})();function c(E,w){const R=new l,P=E.length;if(P<2)return R;const L=(w==null?void 0:w.decode)||y;let x=0;do{const $=E.indexOf("=",x);if($===-1)break;const ne=E.indexOf(";",x),fe=ne===-1?P:ne;if($>fe){x=E.lastIndexOf(";",$-1)+1;continue}const H=h(E,x,$),V=m(E,$,H),O=E.slice(H,V);if(R[O]===void 0){let C=h(E,$+1,fe),I=m(E,fe,C);const j=L(E.slice(C,I));R[O]=j}x=fe+1}while(x<P);return R}function h(E,w,R){do{const P=E.charCodeAt(w);if(P!==32&&P!==9)return w}while(++w<R);return R}function m(E,w,R){for(;w>R;){const P=E.charCodeAt(--w);if(P!==32&&P!==9)return w+1}return R}function p(E,w,R){const P=(R==null?void 0:R.encode)||encodeURIComponent;if(!n.test(E))throw new TypeError(`argument name is invalid: ${E}`);const L=P(w);if(!e.test(L))throw new TypeError(`argument val is invalid: ${w}`);let x=E+"="+L;if(!R)return x;if(R.maxAge!==void 0){if(!Number.isInteger(R.maxAge))throw new TypeError(`option maxAge is invalid: ${R.maxAge}`);x+="; Max-Age="+R.maxAge}if(R.domain){if(!t.test(R.domain))throw new TypeError(`option domain is invalid: ${R.domain}`);x+="; Domain="+R.domain}if(R.path){if(!i.test(R.path))throw new TypeError(`option path is invalid: ${R.path}`);x+="; Path="+R.path}if(R.expires){if(!_(R.expires)||!Number.isFinite(R.expires.valueOf()))throw new TypeError(`option expires is invalid: ${R.expires}`);x+="; Expires="+R.expires.toUTCString()}if(R.httpOnly&&(x+="; HttpOnly"),R.secure&&(x+="; Secure"),R.partitioned&&(x+="; Partitioned"),R.priority)switch(typeof R.priority=="string"?R.priority.toLowerCase():void 0){case"low":x+="; Priority=Low";break;case"medium":x+="; Priority=Medium";break;case"high":x+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${R.priority}`)}if(R.sameSite)switch(typeof R.sameSite=="string"?R.sameSite.toLowerCase():R.sameSite){case!0:case"strict":x+="; SameSite=Strict";break;case"lax":x+="; SameSite=Lax";break;case"none":x+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${R.sameSite}`)}return x}function y(E){if(E.indexOf("%")===-1)return E;try{return decodeURIComponent(E)}catch{return E}}function _(E){return s.call(E)==="[object Date]"}return Fu}WI();/**
 * react-router v7.5.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var JS=n=>{throw TypeError(n)},ZI=(n,e,t)=>e.has(n)||JS("Cannot "+t),jp=(n,e,t)=>(ZI(n,e,"read from private field"),t?t.call(n):e.get(n)),JI=(n,e,t)=>e.has(n)?JS("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(n):e.set(n,t),WE="popstate";function e2(n={}){function e(s,l){let{pathname:c="/",search:h="",hash:m=""}=ma(s.location.hash.substring(1));return!c.startsWith("/")&&!c.startsWith(".")&&(c="/"+c),lc("",{pathname:c,search:h,hash:m},l.state&&l.state.usr||null,l.state&&l.state.key||"default")}function t(s,l){let c=s.document.querySelector("base"),h="";if(c&&c.getAttribute("href")){let m=s.location.href,p=m.indexOf("#");h=p===-1?m:m.slice(0,p)}return h+"#"+(typeof l=="string"?l:ls(l))}function i(s,l){qt(s.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(l)})`)}return n2(e,t,i,n)}function tt(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function qt(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function t2(){return Math.random().toString(36).substring(2,10)}function ZE(n,e){return{usr:n.state,key:n.key,idx:e}}function lc(n,e,t=null,i){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?ma(e):e,state:t,key:e&&e.key||i||t2()}}function ls({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function ma(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let i=n.indexOf("?");i>=0&&(e.search=n.substring(i),n=n.substring(0,i)),n&&(e.pathname=n)}return e}function n2(n,e,t,i={}){let{window:s=document.defaultView,v5Compat:l=!1}=i,c=s.history,h="POP",m=null,p=y();p==null&&(p=0,c.replaceState({...c.state,idx:p},""));function y(){return(c.state||{idx:null}).idx}function _(){h="POP";let L=y(),x=L==null?null:L-p;p=L,m&&m({action:h,location:P.location,delta:x})}function E(L,x){h="PUSH";let $=lc(P.location,L,x);t&&t($,L),p=y()+1;let ne=ZE($,p),fe=P.createHref($);try{c.pushState(ne,"",fe)}catch(H){if(H instanceof DOMException&&H.name==="DataCloneError")throw H;s.location.assign(fe)}l&&m&&m({action:h,location:P.location,delta:1})}function w(L,x){h="REPLACE";let $=lc(P.location,L,x);t&&t($,L),p=y();let ne=ZE($,p),fe=P.createHref($);c.replaceState(ne,"",fe),l&&m&&m({action:h,location:P.location,delta:0})}function R(L){let x=s.location.origin!=="null"?s.location.origin:s.location.href,$=typeof L=="string"?L:ls(L);return $=$.replace(/ $/,"%20"),tt(x,`No window.location.(origin|href) available to create URL for href: ${$}`),new URL($,x)}let P={get action(){return h},get location(){return n(s,c)},listen(L){if(m)throw new Error("A history only accepts one active listener");return s.addEventListener(WE,_),m=L,()=>{s.removeEventListener(WE,_),m=null}},createHref(L){return e(s,L)},createURL:R,encodeLocation(L){let x=R(L);return{pathname:x.pathname,search:x.search,hash:x.hash}},push:E,replace:w,go(L){return c.go(L)}};return P}var Qu,JE=class{constructor(n){if(JI(this,Qu,new Map),n)for(let[e,t]of n)this.set(e,t)}get(n){if(jp(this,Qu).has(n))return jp(this,Qu).get(n);if(n.defaultValue!==void 0)return n.defaultValue;throw new Error("No value found for context")}set(n,e){jp(this,Qu).set(n,e)}};Qu=new WeakMap;var r2=new Set(["lazy","caseSensitive","path","id","index","children"]);function i2(n){return r2.has(n)}var a2=new Set(["lazy","caseSensitive","path","id","index","unstable_middleware","children"]);function s2(n){return a2.has(n)}function o2(n){return n.index===!0}function xh(n,e,t=[],i={}){return n.map((s,l)=>{let c=[...t,String(l)],h=typeof s.id=="string"?s.id:c.join("-");if(tt(s.index!==!0||!s.children,"Cannot specify children on an index route"),tt(!i[h],`Found a route id collision on id "${h}".  Route id's must be globally unique within Data Router usages`),o2(s)){let m={...s,...e(s),id:h};return i[h]=m,m}else{let m={...s,...e(s),id:h,children:void 0};return i[h]=m,s.children&&(m.children=xh(s.children,e,c,i)),m}})}function Qa(n,e,t="/"){return gh(n,e,t,!1)}function gh(n,e,t,i){let s=typeof e=="string"?ma(e):e,l=Fr(s.pathname||"/",t);if(l==null)return null;let c=ew(n);u2(c);let h=null;for(let m=0;h==null&&m<c.length;++m){let p=E2(l);h=v2(c[m],p,i)}return h}function l2(n,e){let{route:t,pathname:i,params:s}=n;return{id:t.id,pathname:i,params:s,data:e[t.id],handle:t.handle}}function ew(n,e=[],t=[],i=""){let s=(l,c,h)=>{let m={relativePath:h===void 0?l.path||"":h,caseSensitive:l.caseSensitive===!0,childrenIndex:c,route:l};m.relativePath.startsWith("/")&&(tt(m.relativePath.startsWith(i),`Absolute route path "${m.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),m.relativePath=m.relativePath.slice(i.length));let p=Ai([i,m.relativePath]),y=t.concat(m);l.children&&l.children.length>0&&(tt(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${p}".`),ew(l.children,e,y,p)),!(l.path==null&&!l.index)&&e.push({path:p,score:g2(p,l.index),routesMeta:y})};return n.forEach((l,c)=>{var h;if(l.path===""||!((h=l.path)!=null&&h.includes("?")))s(l,c);else for(let m of tw(l.path))s(l,c,m)}),e}function tw(n){let e=n.split("/");if(e.length===0)return[];let[t,...i]=e,s=t.endsWith("?"),l=t.replace(/\?$/,"");if(i.length===0)return s?[l,""]:[l];let c=tw(i.join("/")),h=[];return h.push(...c.map(m=>m===""?l:[l,m].join("/"))),s&&h.push(...c),h.map(m=>n.startsWith("/")&&m===""?"/":m)}function u2(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:y2(e.routesMeta.map(i=>i.childrenIndex),t.routesMeta.map(i=>i.childrenIndex)))}var c2=/^:[\w-]+$/,f2=3,h2=2,d2=1,m2=10,p2=-2,eT=n=>n==="*";function g2(n,e){let t=n.split("/"),i=t.length;return t.some(eT)&&(i+=p2),e&&(i+=h2),t.filter(s=>!eT(s)).reduce((s,l)=>s+(c2.test(l)?f2:l===""?d2:m2),i)}function y2(n,e){return n.length===e.length&&n.slice(0,-1).every((i,s)=>i===e[s])?n[n.length-1]-e[e.length-1]:0}function v2(n,e,t=!1){let{routesMeta:i}=n,s={},l="/",c=[];for(let h=0;h<i.length;++h){let m=i[h],p=h===i.length-1,y=l==="/"?e:e.slice(l.length)||"/",_=Nh({path:m.relativePath,caseSensitive:m.caseSensitive,end:p},y),E=m.route;if(!_&&p&&t&&!i[i.length-1].route.index&&(_=Nh({path:m.relativePath,caseSensitive:m.caseSensitive,end:!1},y)),!_)return null;Object.assign(s,_.params),c.push({params:s,pathname:Ai([l,_.pathname]),pathnameBase:S2(Ai([l,_.pathnameBase])),route:E}),_.pathnameBase!=="/"&&(l=Ai([l,_.pathnameBase]))}return c}function Nh(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,i]=_2(n.path,n.caseSensitive,n.end),s=e.match(t);if(!s)return null;let l=s[0],c=l.replace(/(.)\/+$/,"$1"),h=s.slice(1);return{params:i.reduce((p,{paramName:y,isOptional:_},E)=>{if(y==="*"){let R=h[E]||"";c=l.slice(0,l.length-R.length).replace(/(.)\/+$/,"$1")}const w=h[E];return _&&!w?p[y]=void 0:p[y]=(w||"").replace(/%2F/g,"/"),p},{}),pathname:l,pathnameBase:c,pattern:n}}function _2(n,e=!1,t=!0){qt(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let i=[],s="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,h,m)=>(i.push({paramName:h,isOptional:m!=null}),m?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(i.push({paramName:"*"}),s+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?s+="\\/*$":n!==""&&n!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),i]}function E2(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return qt(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function Fr(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,i=n.charAt(t);return i&&i!=="/"?null:n.slice(t)||"/"}function T2(n,e="/"){let{pathname:t,search:i="",hash:s=""}=typeof n=="string"?ma(n):n;return{pathname:t?t.startsWith("/")?t:b2(t,e):e,search:w2(i),hash:A2(s)}}function b2(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(s=>{s===".."?t.length>1&&t.pop():s!=="."&&t.push(s)}),t.length>1?t.join("/"):"/"}function zp(n,e,t,i){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function nw(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function od(n){let e=nw(n);return e.map((t,i)=>i===e.length-1?t.pathname:t.pathnameBase)}function ld(n,e,t,i=!1){let s;typeof n=="string"?s=ma(n):(s={...n},tt(!s.pathname||!s.pathname.includes("?"),zp("?","pathname","search",s)),tt(!s.pathname||!s.pathname.includes("#"),zp("#","pathname","hash",s)),tt(!s.search||!s.search.includes("#"),zp("#","search","hash",s)));let l=n===""||s.pathname==="",c=l?"/":s.pathname,h;if(c==null)h=t;else{let _=e.length-1;if(!i&&c.startsWith("..")){let E=c.split("/");for(;E[0]==="..";)E.shift(),_-=1;s.pathname=E.join("/")}h=_>=0?e[_]:"/"}let m=T2(s,h),p=c&&c!=="/"&&c.endsWith("/"),y=(l||c===".")&&t.endsWith("/");return!m.pathname.endsWith("/")&&(p||y)&&(m.pathname+="/"),m}var Ai=n=>n.join("/").replace(/\/\/+/g,"/"),S2=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),w2=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,A2=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n,Mh=class{constructor(n,e,t,i=!1){this.status=n,this.statusText=e||"",this.internal=i,t instanceof Error?(this.data=t.toString(),this.error=t):this.data=t}};function uc(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var rw=["POST","PUT","PATCH","DELETE"],R2=new Set(rw),C2=["GET",...rw],I2=new Set(C2),D2=new Set([301,302,303,307,308]),O2=new Set([307,308]),Fp={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},x2={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Bu={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},my=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,N2=n=>({hasErrorBoundary:!!n.hasErrorBoundary}),iw="remix-router-transitions",aw=Symbol("ResetLoaderData");function M2(n){const e=n.window?n.window:typeof window<"u"?window:void 0,t=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u";tt(n.routes.length>0,"You must provide a non-empty routes array to createRouter");let i=n.hydrationRouteProperties||[],s=n.mapRouteProperties||N2,l={},c=xh(n.routes,s,void 0,l),h,m=n.basename||"/",p=n.dataStrategy||U2,y={unstable_middleware:!1,...n.future},_=null,E=new Set,w=null,R=null,P=null,L=n.hydrationData!=null,x=Qa(c,n.history.location,m),$=!1,ne=null;if(x==null&&!n.patchRoutesOnNavigation){let z=Ur(404,{pathname:n.history.location.pathname}),{matches:K,route:X}=hT(c);x=K,ne={[X.id]:z}}x&&!n.hydrationData&&kn(x,c,n.history.location.pathname).active&&(x=null);let fe;if(x)if(x.some(z=>z.route.lazy))fe=!1;else if(!x.some(z=>z.route.loader))fe=!0;else{let z=n.hydrationData?n.hydrationData.loaderData:null,K=n.hydrationData?n.hydrationData.errors:null;if(K){let X=x.findIndex(oe=>K[oe.route.id]!==void 0);fe=x.slice(0,X+1).every(oe=>!Cg(oe.route,z,K))}else fe=x.every(X=>!Cg(X.route,z,K))}else{fe=!1,x=[];let z=kn(null,c,n.history.location.pathname);z.active&&z.matches&&($=!0,x=z.matches)}let H,V={historyAction:n.history.action,location:n.history.location,matches:x,initialized:fe,navigation:Fp,restoreScrollPosition:n.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:n.hydrationData&&n.hydrationData.loaderData||{},actionData:n.hydrationData&&n.hydrationData.actionData||null,errors:n.hydrationData&&n.hydrationData.errors||ne,fetchers:new Map,blockers:new Map},O="POP",C=!1,I,j=!1,k=new Map,B=null,D=!1,Pe=!1,Qe=new Set,Z=new Map,me=0,ve=-1,He=new Map,U=new Set,ae=new Map,pe=new Map,ce=new Set,we=new Map,Ue,Oe=null;function Vt(){if(_=n.history.listen(({action:z,location:K,delta:X})=>{if(Ue){Ue(),Ue=void 0;return}qt(we.size===0||X!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let oe=_a({currentLocation:V.location,nextLocation:K,historyAction:z});if(oe&&X!=null){let de=new Promise(be=>{Ue=be});n.history.go(X*-1),Tr(oe,{state:"blocked",location:K,proceed(){Tr(oe,{state:"proceeding",proceed:void 0,reset:void 0,location:K}),de.then(()=>n.history.go(X))},reset(){let be=new Map(V.blockers);be.set(oe,Bu),Dt({blockers:be})}});return}return yn(z,K)}),t){Y2(e,k);let z=()=>X2(e,k);e.addEventListener("pagehide",z),B=()=>e.removeEventListener("pagehide",z)}return V.initialized||yn("POP",V.location,{initialHydration:!0}),H}function pt(){_&&_(),B&&B(),E.clear(),I&&I.abort(),V.fetchers.forEach((z,K)=>yt(K)),V.blockers.forEach((z,K)=>Pi(K))}function Vn(z){return E.add(z),()=>E.delete(z)}function Dt(z,K={}){V={...V,...z};let X=[],oe=[];V.fetchers.forEach((de,be)=>{de.state==="idle"&&(ce.has(be)?X.push(be):oe.push(be))}),ce.forEach(de=>{!V.fetchers.has(de)&&!Z.has(de)&&X.push(de)}),[...E].forEach(de=>de(V,{deletedFetchers:X,viewTransitionOpts:K.viewTransitionOpts,flushSync:K.flushSync===!0})),X.forEach(de=>yt(de)),oe.forEach(de=>V.fetchers.delete(de))}function Yt(z,K,{flushSync:X}={}){var xe,je;let oe=V.actionData!=null&&V.navigation.formMethod!=null&&dr(V.navigation.formMethod)&&V.navigation.state==="loading"&&((xe=z.state)==null?void 0:xe._isRedirect)!==!0,de;K.actionData?Object.keys(K.actionData).length>0?de=K.actionData:de=null:oe?de=V.actionData:de=null;let be=K.loaderData?cT(V.loaderData,K.loaderData,K.matches||[],K.errors):V.loaderData,Le=V.blockers;Le.size>0&&(Le=new Map(Le),Le.forEach((Ie,ze)=>Le.set(ze,Bu)));let Se=C===!0||V.navigation.formMethod!=null&&dr(V.navigation.formMethod)&&((je=z.state)==null?void 0:je._isRedirect)!==!0;h&&(c=h,h=void 0),D||O==="POP"||(O==="PUSH"?n.history.push(z,z.state):O==="REPLACE"&&n.history.replace(z,z.state));let Ce;if(O==="POP"){let Ie=k.get(V.location.pathname);Ie&&Ie.has(z.pathname)?Ce={currentLocation:V.location,nextLocation:z}:k.has(z.pathname)&&(Ce={currentLocation:z,nextLocation:V.location})}else if(j){let Ie=k.get(V.location.pathname);Ie?Ie.add(z.pathname):(Ie=new Set([z.pathname]),k.set(V.location.pathname,Ie)),Ce={currentLocation:V.location,nextLocation:z}}Dt({...K,actionData:de,loaderData:be,historyAction:O,location:z,initialized:!0,navigation:Fp,revalidation:"idle",restoreScrollPosition:Ea(z,K.matches||V.matches),preventScrollReset:Se,blockers:Le},{viewTransitionOpts:Ce,flushSync:X===!0}),O="POP",C=!1,j=!1,D=!1,Pe=!1,Oe==null||Oe.resolve(),Oe=null}async function yr(z,K){if(typeof z=="number"){n.history.go(z);return}let X=Rg(V.location,V.matches,m,z,K==null?void 0:K.fromRouteId,K==null?void 0:K.relative),{path:oe,submission:de,error:be}=tT(!1,X,K),Le=V.location,Se=lc(V.location,oe,K&&K.state);Se={...Se,...n.history.encodeLocation(Se)};let Ce=K&&K.replace!=null?K.replace:void 0,xe="PUSH";Ce===!0?xe="REPLACE":Ce===!1||de!=null&&dr(de.formMethod)&&de.formAction===V.location.pathname+V.location.search&&(xe="REPLACE");let je=K&&"preventScrollReset"in K?K.preventScrollReset===!0:void 0,Ie=(K&&K.flushSync)===!0,ze=_a({currentLocation:Le,nextLocation:Se,historyAction:xe});if(ze){Tr(ze,{state:"blocked",location:Se,proceed(){Tr(ze,{state:"proceeding",proceed:void 0,reset:void 0,location:Se}),yr(z,K)},reset(){let nt=new Map(V.blockers);nt.set(ze,Bu),Dt({blockers:nt})}});return}await yn(xe,Se,{submission:de,pendingError:be,preventScrollReset:je,replace:K&&K.replace,enableViewTransition:K&&K.viewTransition,flushSync:Ie})}function vr(){Oe||(Oe=W2()),De(),Dt({revalidation:"loading"});let z=Oe.promise;return V.navigation.state==="submitting"?z:V.navigation.state==="idle"?(yn(V.historyAction,V.location,{startUninterruptedRevalidation:!0}),z):(yn(O||V.historyAction,V.navigation.location,{overrideNavigation:V.navigation,enableViewTransition:j===!0}),z)}async function yn(z,K,X){I&&I.abort(),I=null,O=z,D=(X&&X.startUninterruptedRevalidation)===!0,Gr(V.location,V.matches),C=(X&&X.preventScrollReset)===!0,j=(X&&X.enableViewTransition)===!0;let oe=h||c,de=X&&X.overrideNavigation,be=X!=null&&X.initialHydration&&V.matches&&V.matches.length>0&&!$?V.matches:Qa(oe,K,m),Le=(X&&X.flushSync)===!0;if(be&&V.initialized&&!Pe&&H2(V.location,K)&&!(X&&X.submission&&dr(X.submission.formMethod))){Yt(K,{matches:be},{flushSync:Le});return}let Se=kn(be,oe,K.pathname);if(Se.active&&Se.matches&&(be=Se.matches),!be){let{error:dt,notFoundMatches:ot,route:Je}=Li(K.pathname);Yt(K,{matches:ot,loaderData:{},errors:{[Je.id]:dt}},{flushSync:Le});return}I=new AbortController;let Ce=cl(n.history,K,I.signal,X&&X.submission),xe=new JE(n.unstable_getContext?await n.unstable_getContext():void 0),je;if(X&&X.pendingError)je=[Xs(be).route.id,{type:"error",error:X.pendingError}];else if(X&&X.submission&&dr(X.submission.formMethod)){let dt=await Mi(Ce,K,X.submission,be,xe,Se.active,X&&X.initialHydration===!0,{replace:X.replace,flushSync:Le});if(dt.shortCircuited)return;if(dt.pendingActionResult){let[ot,Je]=dt.pendingActionResult;if(hr(Je)&&uc(Je.error)&&Je.error.status===404){I=null,Yt(K,{matches:dt.matches,loaderData:{},errors:{[ot]:Je.error}});return}}be=dt.matches||be,je=dt.pendingActionResult,de=Bp(K,X.submission),Le=!1,Se.active=!1,Ce=cl(n.history,Ce.url,Ce.signal)}let{shortCircuited:Ie,matches:ze,loaderData:nt,errors:vt}=await va(Ce,K,be,xe,Se.active,de,X&&X.submission,X&&X.fetcherSubmission,X&&X.replace,X&&X.initialHydration===!0,Le,je);Ie||(I=null,Yt(K,{matches:ze||be,...fT(je),loaderData:nt,errors:vt}))}async function Mi(z,K,X,oe,de,be,Le,Se={}){De();let Ce=K2(K,X);if(Dt({navigation:Ce},{flushSync:Se.flushSync===!0}),be){let Ie=await si(oe,K.pathname,z.signal);if(Ie.type==="aborted")return{shortCircuited:!0};if(Ie.type==="error"){let ze=Xs(Ie.partialMatches).route.id;return{matches:Ie.partialMatches,pendingActionResult:[ze,{type:"error",error:Ie.error}]}}else if(Ie.matches)oe=Ie.matches;else{let{notFoundMatches:ze,error:nt,route:vt}=Li(K.pathname);return{matches:ze,pendingActionResult:[vt.id,{type:"error",error:nt}]}}}let xe,je=Yu(oe,K);if(!je.route.action&&!je.route.lazy)xe={type:"error",error:Ur(405,{method:z.method,pathname:K.pathname,routeId:je.route.id})};else{let Ie=yl(s,l,z,oe,je,Le?[]:i,de),ze=await ye(z,Ie,de,null);if(xe=ze[je.route.id],!xe){for(let nt of oe)if(ze[nt.route.id]){xe=ze[nt.route.id];break}}if(z.signal.aborted)return{shortCircuited:!0}}if(Ws(xe)){let Ie;return Se&&Se.replace!=null?Ie=Se.replace:Ie=oT(xe.response.headers.get("Location"),new URL(z.url),m)===V.location.pathname+V.location.search,await ee(z,xe,!0,{submission:X,replace:Ie}),{shortCircuited:!0}}if(hr(xe)){let Ie=Xs(oe,je.route.id);return(Se&&Se.replace)!==!0&&(O="PUSH"),{matches:oe,pendingActionResult:[Ie.route.id,xe]}}return{matches:oe,pendingActionResult:[je.route.id,xe]}}async function va(z,K,X,oe,de,be,Le,Se,Ce,xe,je,Ie){let ze=be||Bp(K,Le),nt=Le||Se||mT(ze),vt=!D&&!xe;if(de){if(vt){let Xt=vn(Ie);Dt({navigation:ze,...Xt!==void 0?{actionData:Xt}:{}},{flushSync:je})}let Ge=await si(X,K.pathname,z.signal);if(Ge.type==="aborted")return{shortCircuited:!0};if(Ge.type==="error"){let Xt=Xs(Ge.partialMatches).route.id;return{matches:Ge.partialMatches,loaderData:{},errors:{[Xt]:Ge.error}}}else if(Ge.matches)X=Ge.matches;else{let{error:Xt,notFoundMatches:er,route:Bn}=Li(K.pathname);return{matches:er,loaderData:{},errors:{[Bn.id]:Xt}}}}let dt=h||c,{dsMatches:ot,revalidatingFetchers:Je}=nT(z,oe,s,l,n.history,V,X,nt,K,xe?[]:i,xe===!0,Pe,Qe,ce,ae,U,dt,m,Ie);if(ve=++me,!n.dataStrategy&&!ot.some(Ge=>Ge.shouldLoad)&&Je.length===0){let Ge=Wn();return Yt(K,{matches:X,loaderData:{},errors:Ie&&hr(Ie[1])?{[Ie[0]]:Ie[1].error}:null,...fT(Ie),...Ge?{fetchers:new Map(V.fetchers)}:{}},{flushSync:je}),{shortCircuited:!0}}if(vt){let Ge={};if(!de){Ge.navigation=ze;let Xt=vn(Ie);Xt!==void 0&&(Ge.actionData=Xt)}Je.length>0&&(Ge.fetchers=vs(Je)),Dt(Ge,{flushSync:je})}Je.forEach(Ge=>{Dn(Ge.key),Ge.controller&&Z.set(Ge.key,Ge.controller)});let Sr=()=>Je.forEach(Ge=>Dn(Ge.key));I&&I.signal.addEventListener("abort",Sr);let{loaderResults:tn,fetcherResults:Un}=await Ae(ot,Je,z,oe);if(z.signal.aborted)return{shortCircuited:!0};I&&I.signal.removeEventListener("abort",Sr),Je.forEach(Ge=>Z.delete(Ge.key));let _n=eh(tn);if(_n)return await ee(z,_n.result,!0,{replace:Ce}),{shortCircuited:!0};if(_n=eh(Un),_n)return U.add(_n.key),await ee(z,_n.result,!0,{replace:Ce}),{shortCircuited:!0};let{loaderData:li,errors:Jn}=uT(V,X,tn,Ie,Je,Un);xe&&V.errors&&(Jn={...V.errors,...Jn});let ba=Wn(),On=Er(ve),jn=ba||On||Je.length>0;return{matches:X,loaderData:li,errors:Jn,...jn?{fetchers:new Map(V.fetchers)}:{}}}function vn(z){if(z&&!hr(z[1]))return{[z[0]]:z[1].data};if(V.actionData)return Object.keys(V.actionData).length===0?null:V.actionData}function vs(z){return z.forEach(K=>{let X=V.fetchers.get(K.key),oe=$u(void 0,X?X.data:void 0);V.fetchers.set(K.key,oe)}),new Map(V.fetchers)}async function Hr(z,K,X,oe){Dn(z);let de=(oe&&oe.flushSync)===!0,be=h||c,Le=Rg(V.location,V.matches,m,X,K,oe==null?void 0:oe.relative),Se=Qa(be,Le,m),Ce=kn(Se,be,Le);if(Ce.active&&Ce.matches&&(Se=Ce.matches),!Se){Ee(z,K,Ur(404,{pathname:Le}),{flushSync:de});return}let{path:xe,submission:je,error:Ie}=tT(!0,Le,oe);if(Ie){Ee(z,K,Ie,{flushSync:de});return}let ze=Yu(Se,xe),nt=new JE(n.unstable_getContext?await n.unstable_getContext():void 0),vt=(oe&&oe.preventScrollReset)===!0;if(je&&dr(je.formMethod)){await ii(z,K,xe,ze,Se,nt,Ce.active,de,vt,je);return}ae.set(z,{routeId:K,path:xe}),await qr(z,K,xe,ze,Se,nt,Ce.active,de,vt,je)}async function ii(z,K,X,oe,de,be,Le,Se,Ce,xe){De(),ae.delete(z);function je(Ot){if(!Ot.route.action&&!Ot.route.lazy){let wr=Ur(405,{method:xe.formMethod,pathname:X,routeId:K});return Ee(z,K,wr,{flushSync:Se}),!0}return!1}if(!Le&&je(oe))return;let Ie=V.fetchers.get(z);_e(z,Q2(xe,Ie),{flushSync:Se});let ze=new AbortController,nt=cl(n.history,X,ze.signal,xe);if(Le){let Ot=await si(de,X,nt.signal,z);if(Ot.type==="aborted")return;if(Ot.type==="error"){Ee(z,K,Ot.error,{flushSync:Se});return}else if(Ot.matches){if(de=Ot.matches,oe=Yu(de,X),je(oe))return}else{Ee(z,K,Ur(404,{pathname:X}),{flushSync:Se});return}}Z.set(z,ze);let vt=me,dt=yl(s,l,nt,de,oe,i,be),Je=(await ye(nt,dt,be,z))[oe.route.id];if(nt.signal.aborted){Z.get(z)===ze&&Z.delete(z);return}if(ce.has(z)){if(Ws(Je)||hr(Je)){_e(z,Ka(void 0));return}}else{if(Ws(Je))if(Z.delete(z),ve>vt){_e(z,Ka(void 0));return}else return U.add(z),_e(z,$u(xe)),ee(nt,Je,!1,{fetcherSubmission:xe,preventScrollReset:Ce});if(hr(Je)){Ee(z,K,Je.error);return}}let Sr=V.navigation.location||V.location,tn=cl(n.history,Sr,ze.signal),Un=h||c,_n=V.navigation.state!=="idle"?Qa(Un,V.navigation.location,m):V.matches;tt(_n,"Didn't find any matches after fetcher action");let li=++me;He.set(z,li);let Jn=$u(xe,Je.data);V.fetchers.set(z,Jn);let{dsMatches:ba,revalidatingFetchers:On}=nT(tn,be,s,l,n.history,V,_n,xe,Sr,i,!1,Pe,Qe,ce,ae,U,Un,m,[oe.route.id,Je]);On.filter(Ot=>Ot.key!==z).forEach(Ot=>{let wr=Ot.key,Vi=V.fetchers.get(wr),En=$u(void 0,Vi?Vi.data:void 0);V.fetchers.set(wr,En),Dn(wr),Ot.controller&&Z.set(wr,Ot.controller)}),Dt({fetchers:new Map(V.fetchers)});let jn=()=>On.forEach(Ot=>Dn(Ot.key));ze.signal.addEventListener("abort",jn);let{loaderResults:Ge,fetcherResults:Xt}=await Ae(ba,On,tn,be);if(ze.signal.aborted)return;ze.signal.removeEventListener("abort",jn),He.delete(z),Z.delete(z),On.forEach(Ot=>Z.delete(Ot.key));let er=eh(Ge);if(er)return ee(tn,er.result,!1,{preventScrollReset:Ce});if(er=eh(Xt),er)return U.add(er.key),ee(tn,er.result,!1,{preventScrollReset:Ce});let{loaderData:Bn,errors:ui}=uT(V,_n,Ge,void 0,On,Xt);if(V.fetchers.has(z)){let Ot=Ka(Je.data);V.fetchers.set(z,Ot)}Er(li),V.navigation.state==="loading"&&li>ve?(tt(O,"Expected pending action"),I&&I.abort(),Yt(V.navigation.location,{matches:_n,loaderData:Bn,errors:ui,fetchers:new Map(V.fetchers)})):(Dt({errors:ui,loaderData:cT(V.loaderData,Bn,_n,ui),fetchers:new Map(V.fetchers)}),Pe=!1)}async function qr(z,K,X,oe,de,be,Le,Se,Ce,xe){let je=V.fetchers.get(z);_e(z,$u(xe,je?je.data:void 0),{flushSync:Se});let Ie=new AbortController,ze=cl(n.history,X,Ie.signal);if(Le){let Je=await si(de,X,ze.signal,z);if(Je.type==="aborted")return;if(Je.type==="error"){Ee(z,K,Je.error,{flushSync:Se});return}else if(Je.matches)de=Je.matches,oe=Yu(de,X);else{Ee(z,K,Ur(404,{pathname:X}),{flushSync:Se});return}}Z.set(z,Ie);let nt=me,vt=yl(s,l,ze,de,oe,i,be),ot=(await ye(ze,vt,be,z))[oe.route.id];if(Z.get(z)===Ie&&Z.delete(z),!ze.signal.aborted){if(ce.has(z)){_e(z,Ka(void 0));return}if(Ws(ot))if(ve>nt){_e(z,Ka(void 0));return}else{U.add(z),await ee(ze,ot,!1,{preventScrollReset:Ce});return}if(hr(ot)){Ee(z,K,ot.error);return}_e(z,Ka(ot.data))}}async function ee(z,K,X,{submission:oe,fetcherSubmission:de,preventScrollReset:be,replace:Le}={}){K.response.headers.has("X-Remix-Revalidate")&&(Pe=!0);let Se=K.response.headers.get("Location");tt(Se,"Expected a Location header on the redirect Response"),Se=oT(Se,new URL(z.url),m);let Ce=lc(V.location,Se,{_isRedirect:!0});if(t){let vt=!1;if(K.response.headers.has("X-Remix-Reload-Document"))vt=!0;else if(my.test(Se)){const dt=n.history.createURL(Se);vt=dt.origin!==e.location.origin||Fr(dt.pathname,m)==null}if(vt){Le?e.location.replace(Se):e.location.assign(Se);return}}I=null;let xe=Le===!0||K.response.headers.has("X-Remix-Replace")?"REPLACE":"PUSH",{formMethod:je,formAction:Ie,formEncType:ze}=V.navigation;!oe&&!de&&je&&Ie&&ze&&(oe=mT(V.navigation));let nt=oe||de;if(O2.has(K.response.status)&&nt&&dr(nt.formMethod))await yn(xe,Ce,{submission:{...nt,formAction:Se},preventScrollReset:be||C,enableViewTransition:X?j:void 0});else{let vt=Bp(Ce,oe);await yn(xe,Ce,{overrideNavigation:vt,fetcherSubmission:de,preventScrollReset:be||C,enableViewTransition:X?j:void 0})}}async function ye(z,K,X,oe){let de,be={};try{de=await j2(p,z,K,oe,X,!1)}catch(Le){return K.filter(Se=>Se.shouldLoad).forEach(Se=>{be[Se.route.id]={type:"error",error:Le}}),be}for(let[Le,Se]of Object.entries(de))if(q2(Se)){let Ce=Se.result;be[Le]={type:"redirect",response:B2(Ce,z,Le,K,m)}}else be[Le]=await F2(Se);return be}async function Ae(z,K,X,oe){let de=ye(X,z,oe,null),be=Promise.all(K.map(async Ce=>{if(Ce.matches&&Ce.match&&Ce.request&&Ce.controller){let je=(await ye(Ce.request,Ce.matches,oe,Ce.key))[Ce.match.route.id];return{[Ce.key]:je}}else return Promise.resolve({[Ce.key]:{type:"error",error:Ur(404,{pathname:Ce.path})}})})),Le=await de,Se=(await be).reduce((Ce,xe)=>Object.assign(Ce,xe),{});return{loaderResults:Le,fetcherResults:Se}}function De(){Pe=!0,ae.forEach((z,K)=>{Z.has(K)&&Qe.add(K),Dn(K)})}function _e(z,K,X={}){V.fetchers.set(z,K),Dt({fetchers:new Map(V.fetchers)},{flushSync:(X&&X.flushSync)===!0})}function Ee(z,K,X,oe={}){let de=Xs(V.matches,K);yt(z),Dt({errors:{[de.route.id]:X},fetchers:new Map(V.fetchers)},{flushSync:(oe&&oe.flushSync)===!0})}function ht(z){return pe.set(z,(pe.get(z)||0)+1),ce.has(z)&&ce.delete(z),V.fetchers.get(z)||x2}function yt(z){let K=V.fetchers.get(z);Z.has(z)&&!(K&&K.state==="loading"&&He.has(z))&&Dn(z),ae.delete(z),He.delete(z),U.delete(z),ce.delete(z),Qe.delete(z),V.fetchers.delete(z)}function ai(z){let K=(pe.get(z)||0)-1;K<=0?(pe.delete(z),ce.add(z)):pe.set(z,K),Dt({fetchers:new Map(V.fetchers)})}function Dn(z){let K=Z.get(z);K&&(K.abort(),Z.delete(z))}function _r(z){for(let K of z){let X=ht(K),oe=Ka(X.data);V.fetchers.set(K,oe)}}function Wn(){let z=[],K=!1;for(let X of U){let oe=V.fetchers.get(X);tt(oe,`Expected fetcher: ${X}`),oe.state==="loading"&&(U.delete(X),z.push(X),K=!0)}return _r(z),K}function Er(z){let K=[];for(let[X,oe]of He)if(oe<z){let de=V.fetchers.get(X);tt(de,`Expected fetcher: ${X}`),de.state==="loading"&&(Dn(X),He.delete(X),K.push(X))}return _r(K),K.length>0}function Zn(z,K){let X=V.blockers.get(z)||Bu;return we.get(z)!==K&&we.set(z,K),X}function Pi(z){V.blockers.delete(z),we.delete(z)}function Tr(z,K){let X=V.blockers.get(z)||Bu;tt(X.state==="unblocked"&&K.state==="blocked"||X.state==="blocked"&&K.state==="blocked"||X.state==="blocked"&&K.state==="proceeding"||X.state==="blocked"&&K.state==="unblocked"||X.state==="proceeding"&&K.state==="unblocked",`Invalid blocker state transition: ${X.state} -> ${K.state}`);let oe=new Map(V.blockers);oe.set(z,K),Dt({blockers:oe})}function _a({currentLocation:z,nextLocation:K,historyAction:X}){if(we.size===0)return;we.size>1&&qt(!1,"A router only supports one blocker at a time");let oe=Array.from(we.entries()),[de,be]=oe[oe.length-1],Le=V.blockers.get(de);if(!(Le&&Le.state==="proceeding")&&be({currentLocation:z,nextLocation:K,historyAction:X}))return de}function Li(z){let K=Ur(404,{pathname:z}),X=h||c,{matches:oe,route:de}=hT(X);return{notFoundMatches:oe,route:de,error:K}}function _s(z,K,X){if(w=z,P=K,R=X||null,!L&&V.navigation===Fp){L=!0;let oe=Ea(V.location,V.matches);oe!=null&&Dt({restoreScrollPosition:oe})}return()=>{w=null,P=null,R=null}}function br(z,K){return R&&R(z,K.map(oe=>l2(oe,V.loaderData)))||z.key}function Gr(z,K){if(w&&P){let X=br(z,K);w[X]=P()}}function Ea(z,K){if(w){let X=br(z,K),oe=w[X];if(typeof oe=="number")return oe}return null}function kn(z,K,X){if(n.patchRoutesOnNavigation)if(z){if(Object.keys(z[0].params).length>0)return{active:!0,matches:gh(K,X,m,!0)}}else return{active:!0,matches:gh(K,X,m,!0)||[]};return{active:!1,matches:null}}async function si(z,K,X,oe){if(!n.patchRoutesOnNavigation)return{type:"success",matches:z};let de=z;for(;;){let be=h==null,Le=h||c,Se=l;try{await n.patchRoutesOnNavigation({signal:X,path:K,matches:de,fetcherKey:oe,patch:(je,Ie)=>{X.aborted||rT(je,Ie,Le,Se,s)}})}catch(je){return{type:"error",error:je,partialMatches:de}}finally{be&&!X.aborted&&(c=[...c])}if(X.aborted)return{type:"aborted"};let Ce=Qa(Le,K,m);if(Ce)return{type:"success",matches:Ce};let xe=gh(Le,K,m,!0);if(!xe||de.length===xe.length&&de.every((je,Ie)=>je.route.id===xe[Ie].route.id))return{type:"success",matches:null};de=xe}}function oi(z){l={},h=xh(z,s,void 0,l)}function Ta(z,K){let X=h==null;rT(z,K,h||c,l,s),X&&(c=[...c],Dt({}))}return H={get basename(){return m},get future(){return y},get state(){return V},get routes(){return c},get window(){return e},initialize:Vt,subscribe:Vn,enableScrollRestoration:_s,navigate:yr,fetch:Hr,revalidate:vr,createHref:z=>n.history.createHref(z),encodeLocation:z=>n.history.encodeLocation(z),getFetcher:ht,deleteFetcher:ai,dispose:pt,getBlocker:Zn,deleteBlocker:Pi,patchRoutes:Ta,_internalFetchControllers:Z,_internalSetRoutes:oi},H}function P2(n){return n!=null&&("formData"in n&&n.formData!=null||"body"in n&&n.body!==void 0)}function Rg(n,e,t,i,s,l){let c,h;if(s){c=[];for(let p of e)if(c.push(p),p.route.id===s){h=p;break}}else c=e,h=e[e.length-1];let m=ld(i||".",od(c),Fr(n.pathname,t)||n.pathname,l==="path");if(i==null&&(m.search=n.search,m.hash=n.hash),(i==null||i===""||i===".")&&h){let p=py(m.search);if(h.route.index&&!p)m.search=m.search?m.search.replace(/^\?/,"?index&"):"?index";else if(!h.route.index&&p){let y=new URLSearchParams(m.search),_=y.getAll("index");y.delete("index"),_.filter(w=>w).forEach(w=>y.append("index",w));let E=y.toString();m.search=E?`?${E}`:""}}return t!=="/"&&(m.pathname=m.pathname==="/"?t:Ai([t,m.pathname])),ls(m)}function tT(n,e,t){if(!t||!P2(t))return{path:e};if(t.formMethod&&!G2(t.formMethod))return{path:e,error:Ur(405,{method:t.formMethod})};let i=()=>({path:e,error:Ur(400,{type:"invalid-body"})}),l=(t.formMethod||"get").toUpperCase(),c=fw(e);if(t.body!==void 0){if(t.formEncType==="text/plain"){if(!dr(l))return i();let _=typeof t.body=="string"?t.body:t.body instanceof FormData||t.body instanceof URLSearchParams?Array.from(t.body.entries()).reduce((E,[w,R])=>`${E}${w}=${R}
`,""):String(t.body);return{path:e,submission:{formMethod:l,formAction:c,formEncType:t.formEncType,formData:void 0,json:void 0,text:_}}}else if(t.formEncType==="application/json"){if(!dr(l))return i();try{let _=typeof t.body=="string"?JSON.parse(t.body):t.body;return{path:e,submission:{formMethod:l,formAction:c,formEncType:t.formEncType,formData:void 0,json:_,text:void 0}}}catch{return i()}}}tt(typeof FormData=="function","FormData is not available in this environment");let h,m;if(t.formData)h=Dg(t.formData),m=t.formData;else if(t.body instanceof FormData)h=Dg(t.body),m=t.body;else if(t.body instanceof URLSearchParams)h=t.body,m=lT(h);else if(t.body==null)h=new URLSearchParams,m=new FormData;else try{h=new URLSearchParams(t.body),m=lT(h)}catch{return i()}let p={formMethod:l,formAction:c,formEncType:t&&t.formEncType||"application/x-www-form-urlencoded",formData:m,json:void 0,text:void 0};if(dr(p.formMethod))return{path:e,submission:p};let y=ma(e);return n&&y.search&&py(y.search)&&h.append("index",""),y.search=`?${h}`,{path:ls(y),submission:p}}function nT(n,e,t,i,s,l,c,h,m,p,y,_,E,w,R,P,L,x,$){var B;let ne=$?hr($[1])?$[1].error:$[1].data:void 0,fe=s.createURL(l.location),H=s.createURL(m),V;if(y&&l.errors){let D=Object.keys(l.errors)[0];V=c.findIndex(Pe=>Pe.route.id===D)}else if($&&hr($[1])){let D=$[0];V=c.findIndex(Pe=>Pe.route.id===D)-1}let O=$?$[1].statusCode:void 0,C=O&&O>=400,I={currentUrl:fe,currentParams:((B=l.matches[0])==null?void 0:B.params)||{},nextUrl:H,nextParams:c[0].params,...h,actionResult:ne,actionStatus:O},j=c.map((D,Pe)=>{let{route:Qe}=D,Z=null;if(V!=null&&Pe>V?Z=!1:Qe.lazy?Z=!0:Qe.loader==null?Z=!1:y?Z=Cg(Qe,l.loaderData,l.errors):L2(l.loaderData,l.matches[Pe],D)&&(Z=!0),Z!==null)return Ig(t,i,n,D,p,e,Z);let me=C?!1:_||fe.pathname+fe.search===H.pathname+H.search||fe.search!==H.search||V2(l.matches[Pe],D),ve={...I,defaultShouldRevalidate:me},He=Ph(D,ve);return Ig(t,i,n,D,p,e,He,ve)}),k=[];return R.forEach((D,Pe)=>{if(y||!c.some(ae=>ae.route.id===D.routeId)||w.has(Pe))return;let Qe=Qa(L,D.path,x);if(!Qe){k.push({key:Pe,routeId:D.routeId,path:D.path,matches:null,match:null,request:null,controller:null});return}if(P.has(Pe))return;let Z=l.fetchers.get(Pe),me=Yu(Qe,D.path),ve=new AbortController,He=cl(s,D.path,ve.signal),U=null;if(E.has(Pe))E.delete(Pe),U=yl(t,i,He,Qe,me,p,e);else if(Z&&Z.state!=="idle"&&Z.data===void 0)_&&(U=yl(t,i,He,Qe,me,p,e));else{let ae={...I,defaultShouldRevalidate:C?!1:_};Ph(me,ae)&&(U=yl(t,i,He,Qe,me,p,e,ae))}U&&k.push({key:Pe,routeId:D.routeId,path:D.path,matches:U,match:me,request:He,controller:ve})}),{dsMatches:j,revalidatingFetchers:k}}function Cg(n,e,t){if(n.lazy)return!0;if(!n.loader)return!1;let i=e!=null&&e[n.id]!==void 0,s=t!=null&&t[n.id]!==void 0;return!i&&s?!1:typeof n.loader=="function"&&n.loader.hydrate===!0?!0:!i&&!s}function L2(n,e,t){let i=!e||t.route.id!==e.route.id,s=!n.hasOwnProperty(t.route.id);return i||s}function V2(n,e){let t=n.route.path;return n.pathname!==e.pathname||t!=null&&t.endsWith("*")&&n.params["*"]!==e.params["*"]}function Ph(n,e){if(n.route.shouldRevalidate){let t=n.route.shouldRevalidate(e);if(typeof t=="boolean")return t}return e.defaultShouldRevalidate}function rT(n,e,t,i,s){let l;if(n){let m=i[n];tt(m,`No route found to patch children into: routeId = ${n}`),m.children||(m.children=[]),l=m.children}else l=t;let c=e.filter(m=>!l.some(p=>sw(m,p))),h=xh(c,s,[n||"_","patch",String((l==null?void 0:l.length)||"0")],i);l.push(...h)}function sw(n,e){return"id"in n&&"id"in e&&n.id===e.id?!0:n.index===e.index&&n.path===e.path&&n.caseSensitive===e.caseSensitive?(!n.children||n.children.length===0)&&(!e.children||e.children.length===0)?!0:n.children.every((t,i)=>{var s;return(s=e.children)==null?void 0:s.some(l=>sw(t,l))}):!1}var iT=new WeakMap,ow=({key:n,route:e,manifest:t,mapRouteProperties:i})=>{let s=t[e.id];if(tt(s,"No route found in manifest"),!s.lazy||typeof s.lazy!="object")return;let l=s.lazy[n];if(!l)return;let c=iT.get(s);c||(c={},iT.set(s,c));let h=c[n];if(h)return h;let m=(async()=>{let p=i2(n),_=s[n]!==void 0&&n!=="hasErrorBoundary";if(p)qt(!p,"Route property "+n+" is not a supported lazy route property. This property will be ignored."),c[n]=Promise.resolve();else if(_)qt(!1,`Route "${s.id}" has a static property "${n}" defined. The lazy property will be ignored.`);else{let E=await l();E!=null&&(Object.assign(s,{[n]:E}),Object.assign(s,i(s)))}typeof s.lazy=="object"&&(s.lazy[n]=void 0,Object.values(s.lazy).every(E=>E===void 0)&&(s.lazy=void 0))})();return c[n]=m,m},aT=new WeakMap;function k2(n,e,t,i,s){let l=t[n.id];if(tt(l,"No route found in manifest"),!n.lazy)return{lazyRoutePromise:void 0,lazyHandlerPromise:void 0};if(typeof n.lazy=="function"){let y=aT.get(l);if(y)return{lazyRoutePromise:y,lazyHandlerPromise:y};let _=(async()=>{tt(typeof n.lazy=="function","No lazy route function found");let E=await n.lazy(),w={};for(let R in E){let P=E[R];if(P===void 0)continue;let L=s2(R),$=l[R]!==void 0&&R!=="hasErrorBoundary";L?qt(!L,"Route property "+R+" is not a supported property to be returned from a lazy route function. This property will be ignored."):$?qt(!$,`Route "${l.id}" has a static property "${R}" defined but its lazy function is also returning a value for this property. The lazy route property "${R}" will be ignored.`):w[R]=P}Object.assign(l,w),Object.assign(l,{...i(l),lazy:void 0})})();return aT.set(l,_),_.catch(()=>{}),{lazyRoutePromise:_,lazyHandlerPromise:_}}let c=Object.keys(n.lazy),h=[],m;for(let y of c){if(s&&s.includes(y))continue;let _=ow({key:y,route:n,manifest:t,mapRouteProperties:i});_&&(h.push(_),y===e&&(m=_))}let p=h.length>0?Promise.all(h).then(()=>{}):void 0;return p==null||p.catch(()=>{}),m==null||m.catch(()=>{}),{lazyRoutePromise:p,lazyHandlerPromise:m}}async function sT(n){let e=n.matches.filter(s=>s.shouldLoad),t={};return(await Promise.all(e.map(s=>s.resolve()))).forEach((s,l)=>{t[e[l].route.id]=s}),t}async function U2(n){return n.matches.some(e=>e.route.unstable_middleware)?lw(n,!1,()=>sT(n),(e,t)=>({[t]:{type:"error",result:e}})):sT(n)}async function lw(n,e,t,i){let{matches:s,request:l,params:c,context:h}=n,m={handlerResult:void 0};try{let p=s.flatMap(_=>_.route.unstable_middleware?_.route.unstable_middleware.map(E=>[_.route.id,E]):[]),y=await uw({request:l,params:c,context:h},p,e,m,t);return e?y:m.handlerResult}catch(p){if(!m.middlewareError)throw p;let y=await i(m.middlewareError.error,m.middlewareError.routeId);return m.handlerResult?Object.assign(m.handlerResult,y):y}}async function uw(n,e,t,i,s,l=0){let{request:c}=n;if(c.signal.aborted)throw c.signal.reason?c.signal.reason:new Error(`Request aborted without an \`AbortSignal.reason\`: ${c.method} ${c.url}`);let h=e[l];if(!h)return i.handlerResult=await s(),i.handlerResult;let[m,p]=h,y=!1,_,E=async()=>{if(y)throw new Error("You may only call `next()` once per middleware");y=!0,await uw(n,e,t,i,s,l+1)};try{let w=await p({request:n.request,params:n.params,context:n.context},E);return y?w===void 0?_:w:E()}catch(w){throw i.middlewareError?i.middlewareError.error!==w&&(i.middlewareError={routeId:m,error:w}):i.middlewareError={routeId:m,error:w},w}}function cw(n,e,t,i,s){let l=ow({key:"unstable_middleware",route:i.route,manifest:e,mapRouteProperties:n}),c=k2(i.route,dr(t.method)?"action":"loader",e,n,s);return{middleware:l,route:c.lazyRoutePromise,handler:c.lazyHandlerPromise}}function Ig(n,e,t,i,s,l,c,h=null){let m=!1,p=cw(n,e,t,i,s);return{...i,_lazyPromises:p,shouldLoad:c,unstable_shouldRevalidateArgs:h,unstable_shouldCallHandler(y){return m=!0,h?typeof y=="boolean"?Ph(i,{...h,defaultShouldRevalidate:y}):Ph(i,h):c},resolve(y){return m||c||y&&t.method==="GET"&&(i.route.lazy||i.route.loader)?z2({request:t,match:i,lazyHandlerPromise:p==null?void 0:p.handler,lazyRoutePromise:p==null?void 0:p.route,handlerOverride:y,scopedContext:l}):Promise.resolve({type:"data",result:void 0})}}}function yl(n,e,t,i,s,l,c,h=null){return i.map(m=>m.route.id!==s.route.id?{...m,shouldLoad:!1,unstable_shouldRevalidateArgs:h,unstable_shouldCallHandler:()=>!1,_lazyPromises:cw(n,e,t,m,l),resolve:()=>Promise.resolve({type:"data",result:void 0})}:Ig(n,e,t,m,l,c,!0,h))}async function j2(n,e,t,i,s,l){t.some(p=>{var y;return(y=p._lazyPromises)==null?void 0:y.middleware})&&await Promise.all(t.map(p=>{var y;return(y=p._lazyPromises)==null?void 0:y.middleware}));let c={request:e,params:t[0].params,context:s,matches:t},m=await n({...c,fetcherKey:i,unstable_runClientMiddleware:p=>{let y=c;return lw(y,!1,()=>p({...y,fetcherKey:i,unstable_runClientMiddleware:()=>{throw new Error("Cannot call `unstable_runClientMiddleware()` from within an `unstable_runClientMiddleware` handler")}}),(_,E)=>({[E]:{type:"error",result:_}}))}});try{await Promise.all(t.flatMap(p=>{var y,_;return[(y=p._lazyPromises)==null?void 0:y.handler,(_=p._lazyPromises)==null?void 0:_.route]}))}catch{}return m}async function z2({request:n,match:e,lazyHandlerPromise:t,lazyRoutePromise:i,handlerOverride:s,scopedContext:l}){let c,h,m=dr(n.method),p=m?"action":"loader",y=_=>{let E,w=new Promise((L,x)=>E=x);h=()=>E(),n.signal.addEventListener("abort",h);let R=L=>typeof _!="function"?Promise.reject(new Error(`You cannot call the handler for a route which defines a boolean "${p}" [routeId: ${e.route.id}]`)):_({request:n,params:e.params,context:l},...L!==void 0?[L]:[]),P=(async()=>{try{return{type:"data",result:await(s?s(x=>R(x)):R())}}catch(L){return{type:"error",result:L}}})();return Promise.race([P,w])};try{let _=m?e.route.action:e.route.loader;if(t||i)if(_){let E,[w]=await Promise.all([y(_).catch(R=>{E=R}),t,i]);if(E!==void 0)throw E;c=w}else{await t;let E=m?e.route.action:e.route.loader;if(E)[c]=await Promise.all([y(E),i]);else if(p==="action"){let w=new URL(n.url),R=w.pathname+w.search;throw Ur(405,{method:n.method,pathname:R,routeId:e.route.id})}else return{type:"data",result:void 0}}else if(_)c=await y(_);else{let E=new URL(n.url),w=E.pathname+E.search;throw Ur(404,{pathname:w})}}catch(_){return{type:"error",result:_}}finally{h&&n.signal.removeEventListener("abort",h)}return c}async function F2(n){var i,s,l,c,h,m;let{result:e,type:t}=n;if(hw(e)){let p;try{let y=e.headers.get("Content-Type");y&&/\bapplication\/json\b/.test(y)?e.body==null?p=null:p=await e.json():p=await e.text()}catch(y){return{type:"error",error:y}}return t==="error"?{type:"error",error:new Mh(e.status,e.statusText,p),statusCode:e.status,headers:e.headers}:{type:"data",data:p,statusCode:e.status,headers:e.headers}}return t==="error"?dT(e)?e.data instanceof Error?{type:"error",error:e.data,statusCode:(i=e.init)==null?void 0:i.status,headers:(s=e.init)!=null&&s.headers?new Headers(e.init.headers):void 0}:{type:"error",error:new Mh(((l=e.init)==null?void 0:l.status)||500,void 0,e.data),statusCode:uc(e)?e.status:void 0,headers:(c=e.init)!=null&&c.headers?new Headers(e.init.headers):void 0}:{type:"error",error:e,statusCode:uc(e)?e.status:void 0}:dT(e)?{type:"data",data:e.data,statusCode:(h=e.init)==null?void 0:h.status,headers:(m=e.init)!=null&&m.headers?new Headers(e.init.headers):void 0}:{type:"data",data:e}}function B2(n,e,t,i,s){let l=n.headers.get("Location");if(tt(l,"Redirects returned/thrown from loaders/actions must have a Location header"),!my.test(l)){let c=i.slice(0,i.findIndex(h=>h.route.id===t)+1);l=Rg(new URL(e.url),c,s,l),n.headers.set("Location",l)}return n}function oT(n,e,t){if(my.test(n)){let i=n,s=i.startsWith("//")?new URL(e.protocol+i):new URL(i),l=Fr(s.pathname,t)!=null;if(s.origin===e.origin&&l)return s.pathname+s.search+s.hash}return n}function cl(n,e,t,i){let s=n.createURL(fw(e)).toString(),l={signal:t};if(i&&dr(i.formMethod)){let{formMethod:c,formEncType:h}=i;l.method=c.toUpperCase(),h==="application/json"?(l.headers=new Headers({"Content-Type":h}),l.body=JSON.stringify(i.json)):h==="text/plain"?l.body=i.text:h==="application/x-www-form-urlencoded"&&i.formData?l.body=Dg(i.formData):l.body=i.formData}return new Request(s,l)}function Dg(n){let e=new URLSearchParams;for(let[t,i]of n.entries())e.append(t,typeof i=="string"?i:i.name);return e}function lT(n){let e=new FormData;for(let[t,i]of n.entries())e.append(t,i);return e}function $2(n,e,t,i=!1,s=!1){let l={},c=null,h,m=!1,p={},y=t&&hr(t[1])?t[1].error:void 0;return n.forEach(_=>{if(!(_.route.id in e))return;let E=_.route.id,w=e[E];if(tt(!Ws(w),"Cannot handle redirect results in processLoaderData"),hr(w)){let R=w.error;if(y!==void 0&&(R=y,y=void 0),c=c||{},s)c[E]=R;else{let P=Xs(n,E);c[P.route.id]==null&&(c[P.route.id]=R)}i||(l[E]=aw),m||(m=!0,h=uc(w.error)?w.error.status:500),w.headers&&(p[E]=w.headers)}else l[E]=w.data,w.statusCode&&w.statusCode!==200&&!m&&(h=w.statusCode),w.headers&&(p[E]=w.headers)}),y!==void 0&&t&&(c={[t[0]]:y},l[t[0]]=void 0),{loaderData:l,errors:c,statusCode:h||200,loaderHeaders:p}}function uT(n,e,t,i,s,l){let{loaderData:c,errors:h}=$2(e,t,i);return s.filter(m=>!m.matches||m.matches.some(p=>p.shouldLoad)).forEach(m=>{let{key:p,match:y,controller:_}=m,E=l[p];if(tt(E,"Did not find corresponding fetcher result"),!(_&&_.signal.aborted))if(hr(E)){let w=Xs(n.matches,y==null?void 0:y.route.id);h&&h[w.route.id]||(h={...h,[w.route.id]:E.error}),n.fetchers.delete(p)}else if(Ws(E))tt(!1,"Unhandled fetcher revalidation redirect");else{let w=Ka(E.data);n.fetchers.set(p,w)}}),{loaderData:c,errors:h}}function cT(n,e,t,i){let s=Object.entries(e).filter(([,l])=>l!==aw).reduce((l,[c,h])=>(l[c]=h,l),{});for(let l of t){let c=l.route.id;if(!e.hasOwnProperty(c)&&n.hasOwnProperty(c)&&l.route.loader&&(s[c]=n[c]),i&&i.hasOwnProperty(c))break}return s}function fT(n){return n?hr(n[1])?{actionData:{}}:{actionData:{[n[0]]:n[1].data}}:{}}function Xs(n,e){return(e?n.slice(0,n.findIndex(i=>i.route.id===e)+1):[...n]).reverse().find(i=>i.route.hasErrorBoundary===!0)||n[0]}function hT(n){let e=n.length===1?n[0]:n.find(t=>t.index||!t.path||t.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function Ur(n,{pathname:e,routeId:t,method:i,type:s,message:l}={}){let c="Unknown Server Error",h="Unknown @remix-run/router error";return n===400?(c="Bad Request",i&&e&&t?h=`You made a ${i} request to "${e}" but did not provide a \`loader\` for route "${t}", so there is no way to handle the request.`:s==="invalid-body"&&(h="Unable to encode submission body")):n===403?(c="Forbidden",h=`Route "${t}" does not match URL "${e}"`):n===404?(c="Not Found",h=`No route matches URL "${e}"`):n===405&&(c="Method Not Allowed",i&&e&&t?h=`You made a ${i.toUpperCase()} request to "${e}" but did not provide an \`action\` for route "${t}", so there is no way to handle the request.`:i&&(h=`Invalid request method "${i.toUpperCase()}"`)),new Mh(n||500,c,new Error(h),!0)}function eh(n){let e=Object.entries(n);for(let t=e.length-1;t>=0;t--){let[i,s]=e[t];if(Ws(s))return{key:i,result:s}}}function fw(n){let e=typeof n=="string"?ma(n):n;return ls({...e,hash:""})}function H2(n,e){return n.pathname!==e.pathname||n.search!==e.search?!1:n.hash===""?e.hash!=="":n.hash===e.hash?!0:e.hash!==""}function q2(n){return hw(n.result)&&D2.has(n.result.status)}function hr(n){return n.type==="error"}function Ws(n){return(n&&n.type)==="redirect"}function dT(n){return typeof n=="object"&&n!=null&&"type"in n&&"data"in n&&"init"in n&&n.type==="DataWithResponseInit"}function hw(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.headers=="object"&&typeof n.body<"u"}function G2(n){return I2.has(n.toUpperCase())}function dr(n){return R2.has(n.toUpperCase())}function py(n){return new URLSearchParams(n).getAll("index").some(e=>e==="")}function Yu(n,e){let t=typeof e=="string"?ma(e).search:e.search;if(n[n.length-1].route.index&&py(t||""))return n[n.length-1];let i=nw(n);return i[i.length-1]}function mT(n){let{formMethod:e,formAction:t,formEncType:i,text:s,formData:l,json:c}=n;if(!(!e||!t||!i)){if(s!=null)return{formMethod:e,formAction:t,formEncType:i,formData:void 0,json:void 0,text:s};if(l!=null)return{formMethod:e,formAction:t,formEncType:i,formData:l,json:void 0,text:void 0};if(c!==void 0)return{formMethod:e,formAction:t,formEncType:i,formData:void 0,json:c,text:void 0}}}function Bp(n,e){return e?{state:"loading",location:n,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:n,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function K2(n,e){return{state:"submitting",location:n,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function $u(n,e){return n?{state:"loading",formMethod:n.formMethod,formAction:n.formAction,formEncType:n.formEncType,formData:n.formData,json:n.json,text:n.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function Q2(n,e){return{state:"submitting",formMethod:n.formMethod,formAction:n.formAction,formEncType:n.formEncType,formData:n.formData,json:n.json,text:n.text,data:e?e.data:void 0}}function Ka(n){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:n}}function Y2(n,e){try{let t=n.sessionStorage.getItem(iw);if(t){let i=JSON.parse(t);for(let[s,l]of Object.entries(i||{}))l&&Array.isArray(l)&&e.set(s,new Set(l||[]))}}catch{}}function X2(n,e){if(e.size>0){let t={};for(let[i,s]of e)t[i]=[...s];try{n.sessionStorage.setItem(iw,JSON.stringify(t))}catch(i){qt(!1,`Failed to save applied view transitions in sessionStorage (${i}).`)}}}function W2(){let n,e,t=new Promise((i,s)=>{n=async l=>{i(l);try{await t}catch{}},e=async l=>{s(l);try{await t}catch{}}});return{promise:t,resolve:n,reject:e}}var co=N.createContext(null);co.displayName="DataRouter";var Sc=N.createContext(null);Sc.displayName="DataRouterState";var gy=N.createContext({isTransitioning:!1});gy.displayName="ViewTransition";var dw=N.createContext(new Map);dw.displayName="Fetchers";var Z2=N.createContext(null);Z2.displayName="Await";var ri=N.createContext(null);ri.displayName="Navigation";var ud=N.createContext(null);ud.displayName="Location";var Br=N.createContext({outlet:null,matches:[],isDataRoute:!1});Br.displayName="Route";var yy=N.createContext(null);yy.displayName="RouteError";function J2(n,{relative:e}={}){tt(Ml(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:i}=N.useContext(ri),{hash:s,pathname:l,search:c}=wc(n,{relative:e}),h=l;return t!=="/"&&(h=l==="/"?t:Ai([t,l])),i.createHref({pathname:h,search:c,hash:s})}function Ml(){return N.useContext(ud)!=null}function $r(){return tt(Ml(),"useLocation() may be used only in the context of a <Router> component."),N.useContext(ud).location}var mw="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function pw(n){N.useContext(ri).static||N.useLayoutEffect(n)}function Pl(){let{isDataRoute:n}=N.useContext(Br);return n?pD():eD()}function eD(){tt(Ml(),"useNavigate() may be used only in the context of a <Router> component.");let n=N.useContext(co),{basename:e,navigator:t}=N.useContext(ri),{matches:i}=N.useContext(Br),{pathname:s}=$r(),l=JSON.stringify(od(i)),c=N.useRef(!1);return pw(()=>{c.current=!0}),N.useCallback((m,p={})=>{if(qt(c.current,mw),!c.current)return;if(typeof m=="number"){t.go(m);return}let y=ld(m,JSON.parse(l),s,p.relative==="path");n==null&&e!=="/"&&(y.pathname=y.pathname==="/"?e:Ai([e,y.pathname])),(p.replace?t.replace:t.push)(y,p.state,p)},[e,t,l,s,n])}var tD=N.createContext(null);function nD(n){let e=N.useContext(Br).outlet;return e&&N.createElement(tD.Provider,{value:n},e)}function rD(){let{matches:n}=N.useContext(Br),e=n[n.length-1];return e?e.params:{}}function wc(n,{relative:e}={}){let{matches:t}=N.useContext(Br),{pathname:i}=$r(),s=JSON.stringify(od(t));return N.useMemo(()=>ld(n,JSON.parse(s),i,e==="path"),[n,s,i,e])}function iD(n,e,t,i){tt(Ml(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s,static:l}=N.useContext(ri),{matches:c}=N.useContext(Br),h=c[c.length-1],m=h?h.params:{},p=h?h.pathname:"/",y=h?h.pathnameBase:"/",_=h&&h.route;{let $=_&&_.path||"";gw(p,!_||$.endsWith("*")||$.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${$}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${$}"> to <Route path="${$==="/"?"*":`${$}/*`}">.`)}let E=$r(),w;w=E;let R=w.pathname||"/",P=R;if(y!=="/"){let $=y.replace(/^\//,"").split("/");P="/"+R.replace(/^\//,"").split("/").slice($.length).join("/")}let L=!l&&t&&t.matches&&t.matches.length>0?t.matches:Qa(n,{pathname:P});return qt(_||L!=null,`No routes matched location "${w.pathname}${w.search}${w.hash}" `),qt(L==null||L[L.length-1].route.element!==void 0||L[L.length-1].route.Component!==void 0||L[L.length-1].route.lazy!==void 0,`Matched leaf route at location "${w.pathname}${w.search}${w.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`),uD(L&&L.map($=>Object.assign({},$,{params:Object.assign({},m,$.params),pathname:Ai([y,s.encodeLocation?s.encodeLocation($.pathname).pathname:$.pathname]),pathnameBase:$.pathnameBase==="/"?y:Ai([y,s.encodeLocation?s.encodeLocation($.pathnameBase).pathname:$.pathnameBase])})),c,t,i)}function aD(){let n=mD(),e=uc(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,i="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:i},l={padding:"2px 4px",backgroundColor:i},c=null;return console.error("Error handled by React Router default ErrorBoundary:",n),c=N.createElement(N.Fragment,null,N.createElement("p",null,"💿 Hey developer 👋"),N.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",N.createElement("code",{style:l},"ErrorBoundary")," or"," ",N.createElement("code",{style:l},"errorElement")," prop on your route.")),N.createElement(N.Fragment,null,N.createElement("h2",null,"Unexpected Application Error!"),N.createElement("h3",{style:{fontStyle:"italic"}},e),t?N.createElement("pre",{style:s},t):null,c)}var sD=N.createElement(aD,null),oD=class extends N.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){console.error("React Router caught the following error during render",n,e)}render(){return this.state.error!==void 0?N.createElement(Br.Provider,{value:this.props.routeContext},N.createElement(yy.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function lD({routeContext:n,match:e,children:t}){let i=N.useContext(co);return i&&i.static&&i.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=e.route.id),N.createElement(Br.Provider,{value:n},t)}function uD(n,e=[],t=null,i=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let s=n,l=t==null?void 0:t.errors;if(l!=null){let m=s.findIndex(p=>p.route.id&&(l==null?void 0:l[p.route.id])!==void 0);tt(m>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),s=s.slice(0,Math.min(s.length,m+1))}let c=!1,h=-1;if(t)for(let m=0;m<s.length;m++){let p=s[m];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(h=m),p.route.id){let{loaderData:y,errors:_}=t,E=p.route.loader&&!y.hasOwnProperty(p.route.id)&&(!_||_[p.route.id]===void 0);if(p.route.lazy||E){c=!0,h>=0?s=s.slice(0,h+1):s=[s[0]];break}}}return s.reduceRight((m,p,y)=>{let _,E=!1,w=null,R=null;t&&(_=l&&p.route.id?l[p.route.id]:void 0,w=p.route.errorElement||sD,c&&(h<0&&y===0?(gw("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),E=!0,R=null):h===y&&(E=!0,R=p.route.hydrateFallbackElement||null)));let P=e.concat(s.slice(0,y+1)),L=()=>{let x;return _?x=w:E?x=R:p.route.Component?x=N.createElement(p.route.Component,null):p.route.element?x=p.route.element:x=m,N.createElement(lD,{match:p,routeContext:{outlet:m,matches:P,isDataRoute:t!=null},children:x})};return t&&(p.route.ErrorBoundary||p.route.errorElement||y===0)?N.createElement(oD,{location:t.location,revalidation:t.revalidation,component:w,error:_,children:L(),routeContext:{outlet:null,matches:P,isDataRoute:!0}}):L()},null)}function vy(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function cD(n){let e=N.useContext(co);return tt(e,vy(n)),e}function fD(n){let e=N.useContext(Sc);return tt(e,vy(n)),e}function hD(n){let e=N.useContext(Br);return tt(e,vy(n)),e}function _y(n){let e=hD(n),t=e.matches[e.matches.length-1];return tt(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function dD(){return _y("useRouteId")}function mD(){var i;let n=N.useContext(yy),e=fD("useRouteError"),t=_y("useRouteError");return n!==void 0?n:(i=e.errors)==null?void 0:i[t]}function pD(){let{router:n}=cD("useNavigate"),e=_y("useNavigate"),t=N.useRef(!1);return pw(()=>{t.current=!0}),N.useCallback(async(s,l={})=>{qt(t.current,mw),t.current&&(typeof s=="number"?n.navigate(s):await n.navigate(s,{fromRouteId:e,...l}))},[n,e])}var pT={};function gw(n,e,t){!e&&!pT[n]&&(pT[n]=!0,qt(!1,t))}var gT={};function yT(n,e){!n&&!gT[e]&&(gT[e]=!0,console.warn(e))}function gD(n){let e={hasErrorBoundary:n.hasErrorBoundary||n.ErrorBoundary!=null||n.errorElement!=null};return n.Component&&(n.element&&qt(!1,"You should not include both `Component` and `element` on your route - `Component` will be used."),Object.assign(e,{element:N.createElement(n.Component),Component:void 0})),n.HydrateFallback&&(n.hydrateFallbackElement&&qt(!1,"You should not include both `HydrateFallback` and `hydrateFallbackElement` on your route - `HydrateFallback` will be used."),Object.assign(e,{hydrateFallbackElement:N.createElement(n.HydrateFallback),HydrateFallback:void 0})),n.ErrorBoundary&&(n.errorElement&&qt(!1,"You should not include both `ErrorBoundary` and `errorElement` on your route - `ErrorBoundary` will be used."),Object.assign(e,{errorElement:N.createElement(n.ErrorBoundary),ErrorBoundary:void 0})),e}var yD=["HydrateFallback","hydrateFallbackElement"],vD=class{constructor(){this.status="pending",this.promise=new Promise((e,t)=>{this.resolve=i=>{this.status==="pending"&&(this.status="resolved",e(i))},this.reject=i=>{this.status==="pending"&&(this.status="rejected",t(i))}})}};function _D({router:n,flushSync:e}){let[t,i]=N.useState(n.state),[s,l]=N.useState(),[c,h]=N.useState({isTransitioning:!1}),[m,p]=N.useState(),[y,_]=N.useState(),[E,w]=N.useState(),R=N.useRef(new Map),P=N.useCallback((ne,{deletedFetchers:fe,flushSync:H,viewTransitionOpts:V})=>{ne.fetchers.forEach((C,I)=>{C.data!==void 0&&R.current.set(I,C.data)}),fe.forEach(C=>R.current.delete(C)),yT(H===!1||e!=null,'You provided the `flushSync` option to a router update, but you are not using the `<RouterProvider>` from `react-router/dom` so `ReactDOM.flushSync()` is unavailable.  Please update your app to `import { RouterProvider } from "react-router/dom"` and ensure you have `react-dom` installed as a dependency to use the `flushSync` option.');let O=n.window!=null&&n.window.document!=null&&typeof n.window.document.startViewTransition=="function";if(yT(V==null||O,"You provided the `viewTransition` option to a router update, but you do not appear to be running in a DOM environment as `window.startViewTransition` is not available."),!V||!O){e&&H?e(()=>i(ne)):N.startTransition(()=>i(ne));return}if(e&&H){e(()=>{y&&(m&&m.resolve(),y.skipTransition()),h({isTransitioning:!0,flushSync:!0,currentLocation:V.currentLocation,nextLocation:V.nextLocation})});let C=n.window.document.startViewTransition(()=>{e(()=>i(ne))});C.finished.finally(()=>{e(()=>{p(void 0),_(void 0),l(void 0),h({isTransitioning:!1})})}),e(()=>_(C));return}y?(m&&m.resolve(),y.skipTransition(),w({state:ne,currentLocation:V.currentLocation,nextLocation:V.nextLocation})):(l(ne),h({isTransitioning:!0,flushSync:!1,currentLocation:V.currentLocation,nextLocation:V.nextLocation}))},[n.window,e,y,m]);N.useLayoutEffect(()=>n.subscribe(P),[n,P]),N.useEffect(()=>{c.isTransitioning&&!c.flushSync&&p(new vD)},[c]),N.useEffect(()=>{if(m&&s&&n.window){let ne=s,fe=m.promise,H=n.window.document.startViewTransition(async()=>{N.startTransition(()=>i(ne)),await fe});H.finished.finally(()=>{p(void 0),_(void 0),l(void 0),h({isTransitioning:!1})}),_(H)}},[s,m,n.window]),N.useEffect(()=>{m&&s&&t.location.key===s.location.key&&m.resolve()},[m,y,t.location,s]),N.useEffect(()=>{!c.isTransitioning&&E&&(l(E.state),h({isTransitioning:!0,flushSync:!1,currentLocation:E.currentLocation,nextLocation:E.nextLocation}),w(void 0))},[c.isTransitioning,E]);let L=N.useMemo(()=>({createHref:n.createHref,encodeLocation:n.encodeLocation,go:ne=>n.navigate(ne),push:(ne,fe,H)=>n.navigate(ne,{state:fe,preventScrollReset:H==null?void 0:H.preventScrollReset}),replace:(ne,fe,H)=>n.navigate(ne,{replace:!0,state:fe,preventScrollReset:H==null?void 0:H.preventScrollReset})}),[n]),x=n.basename||"/",$=N.useMemo(()=>({router:n,navigator:L,static:!1,basename:x}),[n,L,x]);return N.createElement(N.Fragment,null,N.createElement(co.Provider,{value:$},N.createElement(Sc.Provider,{value:t},N.createElement(dw.Provider,{value:R.current},N.createElement(gy.Provider,{value:c},N.createElement(wD,{basename:x,location:t.location,navigationType:t.historyAction,navigator:L},N.createElement(ED,{routes:n.routes,future:n.future,state:t})))))),null)}var ED=N.memo(TD);function TD({routes:n,future:e,state:t}){return iD(n,void 0,t,e)}function bD({to:n,replace:e,state:t,relative:i}){tt(Ml(),"<Navigate> may be used only in the context of a <Router> component.");let{static:s}=N.useContext(ri);qt(!s,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:l}=N.useContext(Br),{pathname:c}=$r(),h=Pl(),m=ld(n,od(l),c,i==="path"),p=JSON.stringify(m);return N.useEffect(()=>{h(JSON.parse(p),{replace:e,state:t,relative:i})},[h,p,i,e,t]),null}function SD(n){return nD(n.context)}function wD({basename:n="/",children:e=null,location:t,navigationType:i="POP",navigator:s,static:l=!1}){tt(!Ml(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=n.replace(/^\/*/,"/"),h=N.useMemo(()=>({basename:c,navigator:s,static:l,future:{}}),[c,s,l]);typeof t=="string"&&(t=ma(t));let{pathname:m="/",search:p="",hash:y="",state:_=null,key:E="default"}=t,w=N.useMemo(()=>{let R=Fr(m,c);return R==null?null:{location:{pathname:R,search:p,hash:y,state:_,key:E},navigationType:i}},[c,m,p,y,_,E,i]);return qt(w!=null,`<Router basename="${c}"> is not able to match the URL "${m}${p}${y}" because it does not start with the basename, so the <Router> won't render anything.`),w==null?null:N.createElement(ri.Provider,{value:h},N.createElement(ud.Provider,{children:e,value:w}))}var yh="get",vh="application/x-www-form-urlencoded";function cd(n){return n!=null&&typeof n.tagName=="string"}function AD(n){return cd(n)&&n.tagName.toLowerCase()==="button"}function RD(n){return cd(n)&&n.tagName.toLowerCase()==="form"}function CD(n){return cd(n)&&n.tagName.toLowerCase()==="input"}function ID(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function DD(n,e){return n.button===0&&(!e||e==="_self")&&!ID(n)}var th=null;function OD(){if(th===null)try{new FormData(document.createElement("form"),0),th=!1}catch{th=!0}return th}var xD=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function $p(n){return n!=null&&!xD.has(n)?(qt(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${vh}"`),null):n}function ND(n,e){let t,i,s,l,c;if(RD(n)){let h=n.getAttribute("action");i=h?Fr(h,e):null,t=n.getAttribute("method")||yh,s=$p(n.getAttribute("enctype"))||vh,l=new FormData(n)}else if(AD(n)||CD(n)&&(n.type==="submit"||n.type==="image")){let h=n.form;if(h==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let m=n.getAttribute("formaction")||h.getAttribute("action");if(i=m?Fr(m,e):null,t=n.getAttribute("formmethod")||h.getAttribute("method")||yh,s=$p(n.getAttribute("formenctype"))||$p(h.getAttribute("enctype"))||vh,l=new FormData(h,n),!OD()){let{name:p,type:y,value:_}=n;if(y==="image"){let E=p?`${p}.`:"";l.append(`${E}x`,"0"),l.append(`${E}y`,"0")}else p&&l.append(p,_)}}else{if(cd(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=yh,i=null,s=vh,c=n}return l&&s==="text/plain"&&(c=l,l=void 0),{action:i,method:t.toLowerCase(),encType:s,formData:l,body:c}}function Ey(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}async function MD(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function PD(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function LD(n,e,t){let i=await Promise.all(n.map(async s=>{let l=e.routes[s.route.id];if(l){let c=await MD(l,t);return c.links?c.links():[]}return[]}));return jD(i.flat(1).filter(PD).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function vT(n,e,t,i,s,l){let c=(m,p)=>t[p]?m.route.id!==t[p].route.id:!0,h=(m,p)=>{var y;return t[p].pathname!==m.pathname||((y=t[p].route.path)==null?void 0:y.endsWith("*"))&&t[p].params["*"]!==m.params["*"]};return l==="assets"?e.filter((m,p)=>c(m,p)||h(m,p)):l==="data"?e.filter((m,p)=>{var _;let y=i.routes[m.route.id];if(!y||!y.hasLoader)return!1;if(c(m,p)||h(m,p))return!0;if(m.route.shouldRevalidate){let E=m.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:((_=t[0])==null?void 0:_.params)||{},nextUrl:new URL(n,window.origin),nextParams:m.params,defaultShouldRevalidate:!0});if(typeof E=="boolean")return E}return!0}):[]}function VD(n,e,{includeHydrateFallback:t}={}){return kD(n.map(i=>{let s=e.routes[i.route.id];if(!s)return[];let l=[s.module];return s.clientActionModule&&(l=l.concat(s.clientActionModule)),s.clientLoaderModule&&(l=l.concat(s.clientLoaderModule)),t&&s.hydrateFallbackModule&&(l=l.concat(s.hydrateFallbackModule)),s.imports&&(l=l.concat(s.imports)),l}).flat(1))}function kD(n){return[...new Set(n)]}function UD(n){let e={},t=Object.keys(n).sort();for(let i of t)e[i]=n[i];return e}function jD(n,e){let t=new Set;return new Set(e),n.reduce((i,s)=>{let l=JSON.stringify(UD(s));return t.has(l)||(t.add(l),i.push({key:l,link:s})),i},[])}var zD=new Set([100,101,204,205]);function FD(n,e){let t=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return t.pathname==="/"?t.pathname="_root.data":e&&Fr(t.pathname,e)==="/"?t.pathname=`${e.replace(/\/$/,"")}/_root.data`:t.pathname=`${t.pathname.replace(/\/$/,"")}.data`,t}function yw(){let n=N.useContext(co);return Ey(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function BD(){let n=N.useContext(Sc);return Ey(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var Ty=N.createContext(void 0);Ty.displayName="FrameworkContext";function vw(){let n=N.useContext(Ty);return Ey(n,"You must render this element inside a <HydratedRouter> element"),n}function $D(n,e){let t=N.useContext(Ty),[i,s]=N.useState(!1),[l,c]=N.useState(!1),{onFocus:h,onBlur:m,onMouseEnter:p,onMouseLeave:y,onTouchStart:_}=e,E=N.useRef(null);N.useEffect(()=>{if(n==="render"&&c(!0),n==="viewport"){let P=x=>{x.forEach($=>{c($.isIntersecting)})},L=new IntersectionObserver(P,{threshold:.5});return E.current&&L.observe(E.current),()=>{L.disconnect()}}},[n]),N.useEffect(()=>{if(i){let P=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(P)}}},[i]);let w=()=>{s(!0)},R=()=>{s(!1),c(!1)};return t?n!=="intent"?[l,E,{}]:[l,E,{onFocus:Hu(h,w),onBlur:Hu(m,R),onMouseEnter:Hu(p,w),onMouseLeave:Hu(y,R),onTouchStart:Hu(_,w)}]:[!1,E,{}]}function Hu(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function HD({page:n,...e}){let{router:t}=yw(),i=N.useMemo(()=>Qa(t.routes,n,t.basename),[t.routes,n,t.basename]);return i?N.createElement(GD,{page:n,matches:i,...e}):null}function qD(n){let{manifest:e,routeModules:t}=vw(),[i,s]=N.useState([]);return N.useEffect(()=>{let l=!1;return LD(n,e,t).then(c=>{l||s(c)}),()=>{l=!0}},[n,e,t]),i}function GD({page:n,matches:e,...t}){let i=$r(),{manifest:s,routeModules:l}=vw(),{basename:c}=yw(),{loaderData:h,matches:m}=BD(),p=N.useMemo(()=>vT(n,e,m,s,i,"data"),[n,e,m,s,i]),y=N.useMemo(()=>vT(n,e,m,s,i,"assets"),[n,e,m,s,i]),_=N.useMemo(()=>{if(n===i.pathname+i.search+i.hash)return[];let R=new Set,P=!1;if(e.forEach(x=>{var ne;let $=s.routes[x.route.id];!$||!$.hasLoader||(!p.some(fe=>fe.route.id===x.route.id)&&x.route.id in h&&((ne=l[x.route.id])!=null&&ne.shouldRevalidate)||$.hasClientLoader?P=!0:R.add(x.route.id))}),R.size===0)return[];let L=FD(n,c);return P&&R.size>0&&L.searchParams.set("_routes",e.filter(x=>R.has(x.route.id)).map(x=>x.route.id).join(",")),[L.pathname+L.search]},[c,h,i,s,p,e,n,l]),E=N.useMemo(()=>VD(y,s),[y,s]),w=qD(y);return N.createElement(N.Fragment,null,_.map(R=>N.createElement("link",{key:R,rel:"prefetch",as:"fetch",href:R,...t})),E.map(R=>N.createElement("link",{key:R,rel:"modulepreload",href:R,...t})),w.map(({key:R,link:P})=>N.createElement("link",{key:R,...P})))}function KD(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var _w=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{_w&&(window.__reactRouterVersion="7.5.1")}catch{}function QD(n,e){return M2({basename:e==null?void 0:e.basename,unstable_getContext:e==null?void 0:e.unstable_getContext,future:e==null?void 0:e.future,history:e2({window:e==null?void 0:e.window}),hydrationData:YD(),routes:n,mapRouteProperties:gD,hydrationRouteProperties:yD,dataStrategy:e==null?void 0:e.dataStrategy,patchRoutesOnNavigation:e==null?void 0:e.patchRoutesOnNavigation,window:e==null?void 0:e.window}).initialize()}function YD(){let n=window==null?void 0:window.__staticRouterHydrationData;return n&&n.errors&&(n={...n,errors:XD(n.errors)}),n}function XD(n){if(!n)return null;let e=Object.entries(n),t={};for(let[i,s]of e)if(s&&s.__type==="RouteErrorResponse")t[i]=new Mh(s.status,s.statusText,s.data,s.internal===!0);else if(s&&s.__type==="Error"){if(s.__subType){let l=window[s.__subType];if(typeof l=="function")try{let c=new l(s.message);c.stack="",t[i]=c}catch{}}if(t[i]==null){let l=new Error(s.message);l.stack="",t[i]=l}}else t[i]=s;return t}var Ew=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,vl=N.forwardRef(function({onClick:e,discover:t="render",prefetch:i="none",relative:s,reloadDocument:l,replace:c,state:h,target:m,to:p,preventScrollReset:y,viewTransition:_,...E},w){let{basename:R}=N.useContext(ri),P=typeof p=="string"&&Ew.test(p),L,x=!1;if(typeof p=="string"&&P&&(L=p,_w))try{let I=new URL(window.location.href),j=p.startsWith("//")?new URL(I.protocol+p):new URL(p),k=Fr(j.pathname,R);j.origin===I.origin&&k!=null?p=k+j.search+j.hash:x=!0}catch{qt(!1,`<Link to="${p}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let $=J2(p,{relative:s}),[ne,fe,H]=$D(i,E),V=eO(p,{replace:c,state:h,target:m,preventScrollReset:y,relative:s,viewTransition:_});function O(I){e&&e(I),I.defaultPrevented||V(I)}let C=N.createElement("a",{...E,...H,href:L||$,onClick:x||l?e:O,ref:KD(w,fe),target:m,"data-discover":!P&&t==="render"?"true":void 0});return ne&&!P?N.createElement(N.Fragment,null,C,N.createElement(HD,{page:$})):C});vl.displayName="Link";var WD=N.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:i="",end:s=!1,style:l,to:c,viewTransition:h,children:m,...p},y){let _=wc(c,{relative:p.relative}),E=$r(),w=N.useContext(Sc),{navigator:R,basename:P}=N.useContext(ri),L=w!=null&&aO(_)&&h===!0,x=R.encodeLocation?R.encodeLocation(_).pathname:_.pathname,$=E.pathname,ne=w&&w.navigation&&w.navigation.location?w.navigation.location.pathname:null;t||($=$.toLowerCase(),ne=ne?ne.toLowerCase():null,x=x.toLowerCase()),ne&&P&&(ne=Fr(ne,P)||ne);const fe=x!=="/"&&x.endsWith("/")?x.length-1:x.length;let H=$===x||!s&&$.startsWith(x)&&$.charAt(fe)==="/",V=ne!=null&&(ne===x||!s&&ne.startsWith(x)&&ne.charAt(x.length)==="/"),O={isActive:H,isPending:V,isTransitioning:L},C=H?e:void 0,I;typeof i=="function"?I=i(O):I=[i,H?"active":null,V?"pending":null,L?"transitioning":null].filter(Boolean).join(" ");let j=typeof l=="function"?l(O):l;return N.createElement(vl,{...p,"aria-current":C,className:I,ref:y,style:j,to:c,viewTransition:h},typeof m=="function"?m(O):m)});WD.displayName="NavLink";var ZD=N.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:i,replace:s,state:l,method:c=yh,action:h,onSubmit:m,relative:p,preventScrollReset:y,viewTransition:_,...E},w)=>{let R=rO(),P=iO(h,{relative:p}),L=c.toLowerCase()==="get"?"get":"post",x=typeof h=="string"&&Ew.test(h),$=ne=>{if(m&&m(ne),ne.defaultPrevented)return;ne.preventDefault();let fe=ne.nativeEvent.submitter,H=(fe==null?void 0:fe.getAttribute("formmethod"))||c;R(fe||ne.currentTarget,{fetcherKey:e,method:H,navigate:t,replace:s,state:l,relative:p,preventScrollReset:y,viewTransition:_})};return N.createElement("form",{ref:w,method:L,action:P,onSubmit:i?m:$,...E,"data-discover":!x&&n==="render"?"true":void 0})});ZD.displayName="Form";function JD(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Tw(n){let e=N.useContext(co);return tt(e,JD(n)),e}function eO(n,{target:e,replace:t,state:i,preventScrollReset:s,relative:l,viewTransition:c}={}){let h=Pl(),m=$r(),p=wc(n,{relative:l});return N.useCallback(y=>{if(DD(y,e)){y.preventDefault();let _=t!==void 0?t:ls(m)===ls(p);h(n,{replace:_,state:i,preventScrollReset:s,relative:l,viewTransition:c})}},[m,h,p,t,i,e,n,s,l,c])}var tO=0,nO=()=>`__${String(++tO)}__`;function rO(){let{router:n}=Tw("useSubmit"),{basename:e}=N.useContext(ri),t=dD();return N.useCallback(async(i,s={})=>{let{action:l,method:c,encType:h,formData:m,body:p}=ND(i,e);if(s.navigate===!1){let y=s.fetcherKey||nO();await n.fetch(y,t,s.action||l,{preventScrollReset:s.preventScrollReset,formData:m,body:p,formMethod:s.method||c,formEncType:s.encType||h,flushSync:s.flushSync})}else await n.navigate(s.action||l,{preventScrollReset:s.preventScrollReset,formData:m,body:p,formMethod:s.method||c,formEncType:s.encType||h,replace:s.replace,state:s.state,fromRouteId:t,flushSync:s.flushSync,viewTransition:s.viewTransition})},[n,e,t])}function iO(n,{relative:e}={}){let{basename:t}=N.useContext(ri),i=N.useContext(Br);tt(i,"useFormAction must be used inside a RouteContext");let[s]=i.matches.slice(-1),l={...wc(n||".",{relative:e})},c=$r();if(n==null){l.search=c.search;let h=new URLSearchParams(l.search),m=h.getAll("index");if(m.some(y=>y==="")){h.delete("index"),m.filter(_=>_).forEach(_=>h.append("index",_));let y=h.toString();l.search=y?`?${y}`:""}}return(!n||n===".")&&s.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(l.pathname=l.pathname==="/"?t:Ai([t,l.pathname])),ls(l)}function aO(n,e={}){let t=N.useContext(gy);tt(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=Tw("useViewTransitionState"),s=wc(n,{relative:e.relative});if(!t.isTransitioning)return!1;let l=Fr(t.currentLocation.pathname,i)||t.currentLocation.pathname,c=Fr(t.nextLocation.pathname,i)||t.nextLocation.pathname;return Nh(s.pathname,c)!=null||Nh(s.pathname,l)!=null}new TextEncoder;[...zD];var sO=ZS();/**
 * react-router v7.5.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function oO(n){return N.createElement(_D,{flushSync:sO.flushSync,...n})}var Hp={exports:{}},qp,_T;function lO(){if(_T)return qp;_T=1;var n="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return qp=n,qp}var Gp,ET;function uO(){if(ET)return Gp;ET=1;var n=lO();function e(){}function t(){}return t.resetWarningCache=e,Gp=function(){function i(c,h,m,p,y,_){if(_!==n){var E=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw E.name="Invariant Violation",E}}i.isRequired=i;function s(){return i}var l={array:i,bigint:i,bool:i,func:i,number:i,object:i,string:i,symbol:i,any:i,arrayOf:s,element:i,elementType:i,instanceOf:s,node:i,objectOf:s,oneOf:s,oneOfType:s,shape:s,exact:s,checkPropTypes:t,resetWarningCache:e};return l.PropTypes=l,l},Gp}var TT;function by(){return TT||(TT=1,Hp.exports=uO()()),Hp.exports}var cO=by();const Ut=Nl(cO);var fO=["color","size","title","className"];function Og(){return Og=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)({}).hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},Og.apply(null,arguments)}function hO(n,e){if(n==null)return{};var t,i,s=dO(n,e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(n);for(i=0;i<l.length;i++)t=l[i],e.includes(t)||{}.propertyIsEnumerable.call(n,t)&&(s[t]=n[t])}return s}function dO(n,e){if(n==null)return{};var t={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(e.includes(i))continue;t[i]=n[i]}return t}var bw=N.forwardRef(function(n,e){var t=n.color,i=t===void 0?"currentColor":t,s=n.size,l=s===void 0?"1em":s,c=n.title,h=c===void 0?null:c,m=n.className,p=m===void 0?"":m,y=hO(n,fO);return wi.createElement("svg",Og({ref:e,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",width:l,height:l,fill:i,className:["bi","bi-justify",p].filter(Boolean).join(" ")},y),h?wi.createElement("title",null,h):null,wi.createElement("path",{fillRule:"evenodd",d:"M2 12.5a.5.5 0 0 1 .5-.5h11a.5.5 0 0 1 0 1h-11a.5.5 0 0 1-.5-.5m0-3a.5.5 0 0 1 .5-.5h11a.5.5 0 0 1 0 1h-11a.5.5 0 0 1-.5-.5m0-3a.5.5 0 0 1 .5-.5h11a.5.5 0 0 1 0 1h-11a.5.5 0 0 1-.5-.5m0-3a.5.5 0 0 1 .5-.5h11a.5.5 0 0 1 0 1h-11a.5.5 0 0 1-.5-.5"}))});bw.propTypes={color:Ut.string,size:Ut.oneOfType([Ut.string,Ut.number]),title:Ut.string,className:Ut.string};var mO=["color","size","title","className"];function xg(){return xg=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)({}).hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},xg.apply(null,arguments)}function pO(n,e){if(n==null)return{};var t,i,s=gO(n,e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(n);for(i=0;i<l.length;i++)t=l[i],e.includes(t)||{}.propertyIsEnumerable.call(n,t)&&(s[t]=n[t])}return s}function gO(n,e){if(n==null)return{};var t={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(e.includes(i))continue;t[i]=n[i]}return t}var Sw=N.forwardRef(function(n,e){var t=n.color,i=t===void 0?"currentColor":t,s=n.size,l=s===void 0?"1em":s,c=n.title,h=c===void 0?null:c,m=n.className,p=m===void 0?"":m,y=pO(n,mO);return wi.createElement("svg",xg({ref:e,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",width:l,height:l,fill:i,className:["bi","bi-x-circle",p].filter(Boolean).join(" ")},y),h?wi.createElement("title",null,h):null,wi.createElement("path",{d:"M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14m0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16"}),wi.createElement("path",{d:"M4.646 4.646a.5.5 0 0 1 .708 0L8 7.293l2.646-2.647a.5.5 0 0 1 .708.708L8.707 8l2.647 2.646a.5.5 0 0 1-.708.708L8 8.707l-2.646 2.647a.5.5 0 0 1-.708-.708L7.293 8 4.646 5.354a.5.5 0 0 1 0-.708"}))});Sw.propTypes={color:Ut.string,size:Ut.oneOfType([Ut.string,Ut.number]),title:Ut.string,className:Ut.string};var yO=["color","size","title","className"];function Ng(){return Ng=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)({}).hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},Ng.apply(null,arguments)}function vO(n,e){if(n==null)return{};var t,i,s=_O(n,e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(n);for(i=0;i<l.length;i++)t=l[i],e.includes(t)||{}.propertyIsEnumerable.call(n,t)&&(s[t]=n[t])}return s}function _O(n,e){if(n==null)return{};var t={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(e.includes(i))continue;t[i]=n[i]}return t}var ww=N.forwardRef(function(n,e){var t=n.color,i=t===void 0?"currentColor":t,s=n.size,l=s===void 0?"1em":s,c=n.title,h=c===void 0?null:c,m=n.className,p=m===void 0?"":m,y=vO(n,yO);return wi.createElement("svg",Ng({ref:e,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",width:l,height:l,fill:i,className:["bi","bi-x-lg",p].filter(Boolean).join(" ")},y),h?wi.createElement("title",null,h):null,wi.createElement("path",{d:"M2.146 2.854a.5.5 0 1 1 .708-.708L8 7.293l5.146-5.147a.5.5 0 0 1 .708.708L8.707 8l5.147 5.146a.5.5 0 0 1-.708.708L8 8.707l-5.146 5.147a.5.5 0 0 1-.708-.708L7.293 8z"}))});ww.propTypes={color:Ut.string,size:Ut.oneOfType([Ut.string,Ut.number]),title:Ut.string,className:Ut.string};const EO="_header_1wp8g_1",TO="_leftPart_1wp8g_8",bO="_logo_1wp8g_13",SO="_rigthPart_1wp8g_17",wO="_userContainer_1wp8g_17",AO="_user_1wp8g_17",RO="_hamburger_1wp8g_27",CO="_mobileMenu_1wp8g_36",IO="_closeMenu_1wp8g_48",ur={header:EO,leftPart:TO,logo:bO,rigthPart:SO,userContainer:wO,user:AO,hamburger:RO,mobileMenu:CO,closeMenu:IO},Rn={nameList:"/nuova_lista",newList:"/nuova_lista/aggiungi_oggetto",qrList:"/lista/:qrCode",list:"/lista",dashboard:"/dashboard"},DO=()=>{const n=$r(),[e,t]=N.useState(null),[i,s]=N.useState(!1),l=localStorage.getItem("user");return N.useEffect(()=>{console.log("localUser",l),t(l?JSON.parse(l):null),s(!1)},[n]),G.jsxs("div",{className:ur.header,children:[G.jsxs("div",{className:ur.leftPart,children:[G.jsx("div",{className:ur.logo,children:G.jsx("img",{className:ur.logo,src:"/organizer/organizer.png",alt:"Logo"})}),G.jsx("div",{className:ur.title,children:"Organizer"})]}),G.jsx("div",{className:ur.rigthPart,children:e?G.jsxs("div",{className:ur.userContainer,children:[G.jsx("div",{className:ur.user,children:e.displayName}),G.jsx(Sw,{className:ur.logout,onClick:()=>{localStorage.removeItem("user"),window.location.reload()}}),G.jsx(bw,{className:ur.hamburger,onClick:()=>s(!0)}),G.jsxs("div",{className:ur.mobileMenu,style:{top:i?0:"-100%"},children:[G.jsx(ww,{className:ur.closeMenu,onClick:()=>s(!1)}),G.jsxs("ul",{children:[G.jsx("li",{children:G.jsx(vl,{to:"/",children:"Home"})}),G.jsx("li",{children:G.jsx(vl,{to:Rn.dashboard,children:"Dashboard"})}),G.jsx("li",{children:G.jsx(vl,{to:Rn.list,children:"Lista"})})]})]})]}):G.jsx("div",{className:ur.login,children:"Login"})})]})},Kp=({children:n})=>{const e=$r(),[t,i]=N.useState(!0);return N.useEffect(()=>{const s=window.localStorage.getItem("user");console.log("user in protected route",s),i(!!s)},[e]),t?n:G.jsx(bD,{to:"/",replace:!0})};var Qp={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/var bT;function OO(){return bT||(bT=1,function(n){(function(){var e={}.hasOwnProperty;function t(){for(var l="",c=0;c<arguments.length;c++){var h=arguments[c];h&&(l=s(l,i(h)))}return l}function i(l){if(typeof l=="string"||typeof l=="number")return l;if(typeof l!="object")return"";if(Array.isArray(l))return t.apply(null,l);if(l.toString!==Object.prototype.toString&&!l.toString.toString().includes("[native code]"))return l.toString();var c="";for(var h in l)e.call(l,h)&&l[h]&&(c=s(c,h));return c}function s(l,c){return c?l?l+" "+c:l+c:l}n.exports?(t.default=t,n.exports=t):window.classNames=t})()}(Qp)),Qp.exports}var xO=OO();const It=Nl(xO),NO=["xxl","xl","lg","md","sm","xs"],MO="xs",fd=N.createContext({prefixes:{},breakpoints:NO,minBreakpoint:MO}),{Consumer:q9,Provider:G9}=fd;function Lt(n,e){const{prefixes:t}=N.useContext(fd);return n||t[e]||e}function PO(){const{breakpoints:n}=N.useContext(fd);return n}function LO(){const{minBreakpoint:n}=N.useContext(fd);return n}const Aw=n=>N.forwardRef((e,t)=>G.jsx("div",{...e,ref:t,className:It(e.className,n)})),VO=["as","disabled"];function kO(n,e){if(n==null)return{};var t={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(e.indexOf(i)>=0)continue;t[i]=n[i]}return t}function UO(n){return!n||n.trim()==="#"}function Rw({tagName:n,disabled:e,href:t,target:i,rel:s,role:l,onClick:c,tabIndex:h=0,type:m}){n||(t!=null||i!=null||s!=null?n="a":n="button");const p={tagName:n};if(n==="button")return[{type:m||"button",disabled:e},p];const y=E=>{if((e||n==="a"&&UO(t))&&E.preventDefault(),e){E.stopPropagation();return}c==null||c(E)},_=E=>{E.key===" "&&(E.preventDefault(),y(E))};return n==="a"&&(t||(t="#"),e&&(t=void 0)),[{role:l??"button",disabled:void 0,tabIndex:e?void 0:h,href:t,target:n==="a"?i:void 0,"aria-disabled":e||void 0,rel:n==="a"?s:void 0,onClick:y,onKeyDown:_},p]}const jO=N.forwardRef((n,e)=>{let{as:t,disabled:i}=n,s=kO(n,VO);const[l,{tagName:c}]=Rw(Object.assign({tagName:t,disabled:i},s));return G.jsx(c,Object.assign({},s,l,{ref:e}))});jO.displayName="Button";const Jr=N.forwardRef(({as:n,bsPrefix:e,variant:t="primary",size:i,active:s=!1,disabled:l=!1,className:c,...h},m)=>{const p=Lt(e,"btn"),[y,{tagName:_}]=Rw({tagName:n,disabled:l,...h}),E=_;return G.jsx(E,{...y,...h,ref:m,disabled:l,className:It(c,p,s&&"active",t&&`${p}-${t}`,i&&`${p}-${i}`,h.href&&l&&"disabled")})});Jr.displayName="Button";const Sy=N.forwardRef(({className:n,bsPrefix:e,as:t="div",...i},s)=>(e=Lt(e,"card-body"),G.jsx(t,{ref:s,className:It(n,e),...i})));Sy.displayName="CardBody";const Cw=N.forwardRef(({className:n,bsPrefix:e,as:t="div",...i},s)=>(e=Lt(e,"card-footer"),G.jsx(t,{ref:s,className:It(n,e),...i})));Cw.displayName="CardFooter";const Iw=N.createContext(null);Iw.displayName="CardHeaderContext";const Dw=N.forwardRef(({bsPrefix:n,className:e,as:t="div",...i},s)=>{const l=Lt(n,"card-header"),c=N.useMemo(()=>({cardHeaderBsPrefix:l}),[l]);return G.jsx(Iw.Provider,{value:c,children:G.jsx(t,{ref:s,...i,className:It(e,l)})})});Dw.displayName="CardHeader";const Ow=N.forwardRef(({bsPrefix:n,className:e,variant:t,as:i="img",...s},l)=>{const c=Lt(n,"card-img");return G.jsx(i,{ref:l,className:It(t?`${c}-${t}`:c,e),...s})});Ow.displayName="CardImg";const xw=N.forwardRef(({className:n,bsPrefix:e,as:t="div",...i},s)=>(e=Lt(e,"card-img-overlay"),G.jsx(t,{ref:s,className:It(n,e),...i})));xw.displayName="CardImgOverlay";const Nw=N.forwardRef(({className:n,bsPrefix:e,as:t="a",...i},s)=>(e=Lt(e,"card-link"),G.jsx(t,{ref:s,className:It(n,e),...i})));Nw.displayName="CardLink";const zO=Aw("h6"),Mw=N.forwardRef(({className:n,bsPrefix:e,as:t=zO,...i},s)=>(e=Lt(e,"card-subtitle"),G.jsx(t,{ref:s,className:It(n,e),...i})));Mw.displayName="CardSubtitle";const Pw=N.forwardRef(({className:n,bsPrefix:e,as:t="p",...i},s)=>(e=Lt(e,"card-text"),G.jsx(t,{ref:s,className:It(n,e),...i})));Pw.displayName="CardText";const FO=Aw("h5"),Lw=N.forwardRef(({className:n,bsPrefix:e,as:t=FO,...i},s)=>(e=Lt(e,"card-title"),G.jsx(t,{ref:s,className:It(n,e),...i})));Lw.displayName="CardTitle";const Vw=N.forwardRef(({bsPrefix:n,className:e,bg:t,text:i,border:s,body:l=!1,children:c,as:h="div",...m},p)=>{const y=Lt(n,"card");return G.jsx(h,{ref:p,...m,className:It(e,y,t&&`bg-${t}`,i&&`text-${i}`,s&&`border-${s}`),children:l?G.jsx(Sy,{children:c}):c})});Vw.displayName="Card";const qu=Object.assign(Vw,{Img:Ow,Title:Lw,Subtitle:Mw,Body:Sy,Link:Nw,Text:Pw,Header:Dw,Footer:Cw,ImgOverlay:xw});function BO(n,e){return N.Children.toArray(n).some(t=>N.isValidElement(t)&&t.type===e)}function $O({as:n,bsPrefix:e,className:t,...i}){e=Lt(e,"col");const s=PO(),l=LO(),c=[],h=[];return s.forEach(m=>{const p=i[m];delete i[m];let y,_,E;typeof p=="object"&&p!=null?{span:y,offset:_,order:E}=p:y=p;const w=m!==l?`-${m}`:"";y&&c.push(y===!0?`${e}${w}`:`${e}${w}-${y}`),E!=null&&h.push(`order${w}-${E}`),_!=null&&h.push(`offset${w}-${_}`)}),[{...i,className:It(t,...c,...h)},{as:n,bsPrefix:e,spans:c}]}const kw=N.forwardRef((n,e)=>{const[{className:t,...i},{as:s="div",bsPrefix:l,spans:c}]=$O(n);return G.jsx(s,{...i,ref:e,className:It(t,!c.length&&l)})});kw.displayName="Col";const Uw=N.createContext(null);Uw.displayName="InputGroupContext";const HO={type:Ut.string,tooltip:Ut.bool,as:Ut.elementType},hd=N.forwardRef(({as:n="div",className:e,type:t="valid",tooltip:i=!1,...s},l)=>G.jsx(n,{...s,ref:l,className:It(e,`${t}-${i?"tooltip":"feedback"}`)}));hd.displayName="Feedback";hd.propTypes=HO;const ua=N.createContext({}),Ac=N.forwardRef(({id:n,bsPrefix:e,className:t,type:i="checkbox",isValid:s=!1,isInvalid:l=!1,as:c="input",...h},m)=>{const{controlId:p}=N.useContext(ua);return e=Lt(e,"form-check-input"),G.jsx(c,{...h,ref:m,type:i,id:n||p,className:It(t,e,s&&"is-valid",l&&"is-invalid")})});Ac.displayName="FormCheckInput";const Lh=N.forwardRef(({bsPrefix:n,className:e,htmlFor:t,...i},s)=>{const{controlId:l}=N.useContext(ua);return n=Lt(n,"form-check-label"),G.jsx("label",{...i,ref:s,htmlFor:t||l,className:It(e,n)})});Lh.displayName="FormCheckLabel";const jw=N.forwardRef(({id:n,bsPrefix:e,bsSwitchPrefix:t,inline:i=!1,reverse:s=!1,disabled:l=!1,isValid:c=!1,isInvalid:h=!1,feedbackTooltip:m=!1,feedback:p,feedbackType:y,className:_,style:E,title:w="",type:R="checkbox",label:P,children:L,as:x="input",...$},ne)=>{e=Lt(e,"form-check"),t=Lt(t,"form-switch");const{controlId:fe}=N.useContext(ua),H=N.useMemo(()=>({controlId:n||fe}),[fe,n]),V=!L&&P!=null&&P!==!1||BO(L,Lh),O=G.jsx(Ac,{...$,type:R==="switch"?"checkbox":R,ref:ne,isValid:c,isInvalid:h,disabled:l,as:x});return G.jsx(ua.Provider,{value:H,children:G.jsx("div",{style:E,className:It(_,V&&e,i&&`${e}-inline`,s&&`${e}-reverse`,R==="switch"&&t),children:L||G.jsxs(G.Fragment,{children:[O,V&&G.jsx(Lh,{title:w,children:P}),p&&G.jsx(hd,{type:y,tooltip:m,children:p})]})})})});jw.displayName="FormCheck";const Vh=Object.assign(jw,{Input:Ac,Label:Lh}),zw=N.forwardRef(({bsPrefix:n,type:e,size:t,htmlSize:i,id:s,className:l,isValid:c=!1,isInvalid:h=!1,plaintext:m,readOnly:p,as:y="input",..._},E)=>{const{controlId:w}=N.useContext(ua);return n=Lt(n,"form-control"),G.jsx(y,{..._,type:e,size:i,ref:E,readOnly:p,id:s||w,className:It(l,m?`${n}-plaintext`:n,t&&`${n}-${t}`,e==="color"&&`${n}-color`,c&&"is-valid",h&&"is-invalid")})});zw.displayName="FormControl";const qO=Object.assign(zw,{Feedback:hd}),Fw=N.forwardRef(({className:n,bsPrefix:e,as:t="div",...i},s)=>(e=Lt(e,"form-floating"),G.jsx(t,{ref:s,className:It(n,e),...i})));Fw.displayName="FormFloating";const wy=N.forwardRef(({controlId:n,as:e="div",...t},i)=>{const s=N.useMemo(()=>({controlId:n}),[n]);return G.jsx(ua.Provider,{value:s,children:G.jsx(e,{...t,ref:i})})});wy.displayName="FormGroup";const Bw=N.forwardRef(({as:n="label",bsPrefix:e,column:t=!1,visuallyHidden:i=!1,className:s,htmlFor:l,...c},h)=>{const{controlId:m}=N.useContext(ua);e=Lt(e,"form-label");let p="col-form-label";typeof t=="string"&&(p=`${p} ${p}-${t}`);const y=It(s,e,i&&"visually-hidden",t&&p);return l=l||m,t?G.jsx(kw,{ref:h,as:"label",className:y,htmlFor:l,...c}):G.jsx(n,{ref:h,className:y,htmlFor:l,...c})});Bw.displayName="FormLabel";const $w=N.forwardRef(({bsPrefix:n,className:e,id:t,...i},s)=>{const{controlId:l}=N.useContext(ua);return n=Lt(n,"form-range"),G.jsx("input",{...i,type:"range",ref:s,className:It(e,n),id:t||l})});$w.displayName="FormRange";const Hw=N.forwardRef(({bsPrefix:n,size:e,htmlSize:t,className:i,isValid:s=!1,isInvalid:l=!1,id:c,...h},m)=>{const{controlId:p}=N.useContext(ua);return n=Lt(n,"form-select"),G.jsx("select",{...h,size:t,ref:m,className:It(i,n,e&&`${n}-${e}`,s&&"is-valid",l&&"is-invalid"),id:c||p})});Hw.displayName="FormSelect";const qw=N.forwardRef(({bsPrefix:n,className:e,as:t="small",muted:i,...s},l)=>(n=Lt(n,"form-text"),G.jsx(t,{...s,ref:l,className:It(e,n,i&&"text-muted")})));qw.displayName="FormText";const Gw=N.forwardRef((n,e)=>G.jsx(Vh,{...n,ref:e,type:"switch"}));Gw.displayName="Switch";const GO=Object.assign(Gw,{Input:Vh.Input,Label:Vh.Label}),Kw=N.forwardRef(({bsPrefix:n,className:e,children:t,controlId:i,label:s,...l},c)=>(n=Lt(n,"form-floating"),G.jsxs(wy,{ref:c,className:It(e,n),controlId:i,...l,children:[t,G.jsx("label",{htmlFor:i,children:s})]})));Kw.displayName="FloatingLabel";const KO={_ref:Ut.any,validated:Ut.bool,as:Ut.elementType},Ay=N.forwardRef(({className:n,validated:e,as:t="form",...i},s)=>G.jsx(t,{...i,ref:s,className:It(n,e&&"was-validated")}));Ay.displayName="Form";Ay.propTypes=KO;const Ht=Object.assign(Ay,{Group:wy,Control:qO,Floating:Fw,Check:Vh,Switch:GO,Label:Bw,Text:qw,Range:$w,Select:Hw,FloatingLabel:Kw}),dd=N.forwardRef(({className:n,bsPrefix:e,as:t="span",...i},s)=>(e=Lt(e,"input-group-text"),G.jsx(t,{ref:s,className:It(n,e),...i})));dd.displayName="InputGroupText";const QO=n=>G.jsx(dd,{children:G.jsx(Ac,{type:"checkbox",...n})}),YO=n=>G.jsx(dd,{children:G.jsx(Ac,{type:"radio",...n})}),Qw=N.forwardRef(({bsPrefix:n,size:e,hasValidation:t,className:i,as:s="div",...l},c)=>{n=Lt(n,"input-group");const h=N.useMemo(()=>({}),[]);return G.jsx(Uw.Provider,{value:h,children:G.jsx(s,{ref:c,...l,className:It(i,n,e&&`${n}-${e}`,t&&"has-validation")})})});Qw.displayName="InputGroup";const Ry=Object.assign(Qw,{Text:dd,Radio:YO,Checkbox:QO}),XO="_dashboard_1a3r9_1",WO="_section_1a3r9_6",ZO="_sectionDescription_1a3r9_11",Gu={dashboard:XO,section:WO,sectionDescription:ZO},JO="_divider_lph9j_1",ex={divider:JO},tx=()=>G.jsx("div",{className:ex.divider}),nx=()=>{const n=Pl(),[e,t]=N.useState("");return N.useEffect(()=>{const i=localStorage.getItem("user"),s=JSON.parse(i||"[]");(s==null?void 0:s.uid)||(console.log("User not logged in"),n("/"))},[]),G.jsxs("div",{className:Gu.dashboard,children:[G.jsx("h1",{children:"Dashboard"}),G.jsxs("div",{className:Gu.section,children:[G.jsx("h3",{children:"Nuovo luogo"}),G.jsxs("div",{className:Gu.sectionDescription,children:[G.jsx("p",{children:"Per iniziare seleziona il luogo dove si trova il contenitore"}),G.jsxs(Ry,{children:[G.jsx("input",{type:"text",value:e,onChange:i=>t(i.target.value),onKeyDown:i=>{i.key==="Enter"&&e&&n(Rn.nameList,{state:{place:e}})}}),G.jsx(Jr,{onClick:()=>{e&&n(Rn.nameList,{state:{place:e}})},children:"Avanti"})]})]})]}),G.jsx(tx,{}),G.jsxs("div",{className:Gu.section,children:[G.jsx("h3",{children:"I miei contenitori"}),G.jsxs("div",{className:Gu.sectionDescription,children:[G.jsx("p",{children:"Guarda la lista dei tuoi contenitori"}),G.jsx(vl,{to:Rn.list,children:G.jsx(Jr,{children:"I miei luoghi"})})]})]})]})},rx=()=>{};var ST={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yw=function(n){const e=[];let t=0;for(let i=0;i<n.length;i++){let s=n.charCodeAt(i);s<128?e[t++]=s:s<2048?(e[t++]=s>>6|192,e[t++]=s&63|128):(s&64512)===55296&&i+1<n.length&&(n.charCodeAt(i+1)&64512)===56320?(s=65536+((s&1023)<<10)+(n.charCodeAt(++i)&1023),e[t++]=s>>18|240,e[t++]=s>>12&63|128,e[t++]=s>>6&63|128,e[t++]=s&63|128):(e[t++]=s>>12|224,e[t++]=s>>6&63|128,e[t++]=s&63|128)}return e},ix=function(n){const e=[];let t=0,i=0;for(;t<n.length;){const s=n[t++];if(s<128)e[i++]=String.fromCharCode(s);else if(s>191&&s<224){const l=n[t++];e[i++]=String.fromCharCode((s&31)<<6|l&63)}else if(s>239&&s<365){const l=n[t++],c=n[t++],h=n[t++],m=((s&7)<<18|(l&63)<<12|(c&63)<<6|h&63)-65536;e[i++]=String.fromCharCode(55296+(m>>10)),e[i++]=String.fromCharCode(56320+(m&1023))}else{const l=n[t++],c=n[t++];e[i++]=String.fromCharCode((s&15)<<12|(l&63)<<6|c&63)}}return e.join("")},Xw={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let s=0;s<n.length;s+=3){const l=n[s],c=s+1<n.length,h=c?n[s+1]:0,m=s+2<n.length,p=m?n[s+2]:0,y=l>>2,_=(l&3)<<4|h>>4;let E=(h&15)<<2|p>>6,w=p&63;m||(w=64,c||(E=64)),i.push(t[y],t[_],t[E],t[w])}return i.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(Yw(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):ix(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let s=0;s<n.length;){const l=t[n.charAt(s++)],h=s<n.length?t[n.charAt(s)]:0;++s;const p=s<n.length?t[n.charAt(s)]:64;++s;const _=s<n.length?t[n.charAt(s)]:64;if(++s,l==null||h==null||p==null||_==null)throw new ax;const E=l<<2|h>>4;if(i.push(E),p!==64){const w=h<<4&240|p>>2;if(i.push(w),_!==64){const R=p<<6&192|_;i.push(R)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class ax extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const sx=function(n){const e=Yw(n);return Xw.encodeByteArray(e,!0)},Ww=function(n){return sx(n).replace(/\./g,"")},Zw=function(n){try{return Xw.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ox(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lx=()=>ox().__FIREBASE_DEFAULTS__,ux=()=>{if(typeof process>"u"||typeof ST>"u")return;const n=ST.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},cx=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&Zw(n[1]);return e&&JSON.parse(e)},md=()=>{try{return rx()||lx()||ux()||cx()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},fx=n=>{var e,t;return(t=(e=md())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},Jw=()=>{var n;return(n=md())===null||n===void 0?void 0:n.config},e1=n=>{var e;return(e=md())===null||e===void 0?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hx{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,i)=>{t?this.reject(t):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,i))}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ln(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function dx(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ln())}function mx(){var n;const e=(n=md())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function px(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function gx(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function yx(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function vx(){const n=Ln();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function _x(){return!mx()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Ex(){try{return typeof indexedDB=="object"}catch{return!1}}function Tx(){return new Promise((n,e)=>{try{let t=!0;const i="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(i);s.onsuccess=()=>{s.result.close(),t||self.indexedDB.deleteDatabase(i),n(!0)},s.onupgradeneeded=()=>{t=!1},s.onerror=()=>{var l;e(((l=s.error)===null||l===void 0?void 0:l.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bx="FirebaseError";class pa extends Error{constructor(e,t,i){super(t),this.code=e,this.customData=i,this.name=bx,Object.setPrototypeOf(this,pa.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Rc.prototype.create)}}class Rc{constructor(e,t,i){this.service=e,this.serviceName=t,this.errors=i}create(e,...t){const i=t[0]||{},s=`${this.service}/${e}`,l=this.errors[e],c=l?Sx(l,i):"Error",h=`${this.serviceName}: ${c} (${s}).`;return new pa(s,h,i)}}function Sx(n,e){return n.replace(wx,(t,i)=>{const s=e[i];return s!=null?String(s):`<${i}?>`})}const wx=/\{\$([^}]+)}/g;function Ax(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function ro(n,e){if(n===e)return!0;const t=Object.keys(n),i=Object.keys(e);for(const s of t){if(!i.includes(s))return!1;const l=n[s],c=e[s];if(wT(l)&&wT(c)){if(!ro(l,c))return!1}else if(l!==c)return!1}for(const s of i)if(!t.includes(s))return!1;return!0}function wT(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cc(n){const e=[];for(const[t,i]of Object.entries(n))Array.isArray(i)?i.forEach(s=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function Xu(n){const e={};return n.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[s,l]=i.split("=");e[decodeURIComponent(s)]=decodeURIComponent(l)}}),e}function Wu(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function Rx(n,e){const t=new Cx(n,e);return t.subscribe.bind(t)}class Cx{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,i){let s;if(e===void 0&&t===void 0&&i===void 0)throw new Error("Missing Observer.");Ix(e,["next","error","complete"])?s=e:s={next:e,error:t,complete:i},s.next===void 0&&(s.next=Yp),s.error===void 0&&(s.error=Yp),s.complete===void 0&&(s.complete=Yp);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Ix(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function Yp(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gr(n){return n&&n._delegate?n._delegate:n}class io{constructor(e,t,i){this.name=e,this.instanceFactory=t,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qs="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dx{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const i=new hx;if(this.instancesDeferred.set(t,i),this.isInitialized(t)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:t});s&&i.resolve(s)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const i=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(l){if(s)return null;throw l}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(xx(e))try{this.getOrInitializeService({instanceIdentifier:Qs})}catch{}for(const[t,i]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(t);try{const l=this.getOrInitializeService({instanceIdentifier:s});i.resolve(l)}catch{}}}}clearInstance(e=Qs){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Qs){return this.instances.has(e)}getOptions(e=Qs){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:i,options:t});for(const[l,c]of this.instancesDeferred.entries()){const h=this.normalizeInstanceIdentifier(l);i===h&&c.resolve(s)}return s}onInit(e,t){var i;const s=this.normalizeInstanceIdentifier(t),l=(i=this.onInitCallbacks.get(s))!==null&&i!==void 0?i:new Set;l.add(e),this.onInitCallbacks.set(s,l);const c=this.instances.get(s);return c&&e(c,s),()=>{l.delete(e)}}invokeOnInitCallbacks(e,t){const i=this.onInitCallbacks.get(t);if(i)for(const s of i)try{s(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:Ox(e),options:t}),this.instances.set(e,i),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=Qs){return this.component?this.component.multipleInstances?e:Qs:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Ox(n){return n===Qs?void 0:n}function xx(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nx{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new Dx(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var at;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(at||(at={}));const Mx={debug:at.DEBUG,verbose:at.VERBOSE,info:at.INFO,warn:at.WARN,error:at.ERROR,silent:at.SILENT},Px=at.INFO,Lx={[at.DEBUG]:"log",[at.VERBOSE]:"log",[at.INFO]:"info",[at.WARN]:"warn",[at.ERROR]:"error"},Vx=(n,e,...t)=>{if(e<n.logLevel)return;const i=new Date().toISOString(),s=Lx[e];if(s)console[s](`[${i}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Cy{constructor(e){this.name=e,this._logLevel=Px,this._logHandler=Vx,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in at))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Mx[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,at.DEBUG,...e),this._logHandler(this,at.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,at.VERBOSE,...e),this._logHandler(this,at.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,at.INFO,...e),this._logHandler(this,at.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,at.WARN,...e),this._logHandler(this,at.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,at.ERROR,...e),this._logHandler(this,at.ERROR,...e)}}const kx=(n,e)=>e.some(t=>n instanceof t);let AT,RT;function Ux(){return AT||(AT=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function jx(){return RT||(RT=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const t1=new WeakMap,Mg=new WeakMap,n1=new WeakMap,Xp=new WeakMap,Iy=new WeakMap;function zx(n){const e=new Promise((t,i)=>{const s=()=>{n.removeEventListener("success",l),n.removeEventListener("error",c)},l=()=>{t(es(n.result)),s()},c=()=>{i(n.error),s()};n.addEventListener("success",l),n.addEventListener("error",c)});return e.then(t=>{t instanceof IDBCursor&&t1.set(t,n)}).catch(()=>{}),Iy.set(e,n),e}function Fx(n){if(Mg.has(n))return;const e=new Promise((t,i)=>{const s=()=>{n.removeEventListener("complete",l),n.removeEventListener("error",c),n.removeEventListener("abort",c)},l=()=>{t(),s()},c=()=>{i(n.error||new DOMException("AbortError","AbortError")),s()};n.addEventListener("complete",l),n.addEventListener("error",c),n.addEventListener("abort",c)});Mg.set(n,e)}let Pg={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return Mg.get(n);if(e==="objectStoreNames")return n.objectStoreNames||n1.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return es(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function Bx(n){Pg=n(Pg)}function $x(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const i=n.call(Wp(this),e,...t);return n1.set(i,e.sort?e.sort():[e]),es(i)}:jx().includes(n)?function(...e){return n.apply(Wp(this),e),es(t1.get(this))}:function(...e){return es(n.apply(Wp(this),e))}}function Hx(n){return typeof n=="function"?$x(n):(n instanceof IDBTransaction&&Fx(n),kx(n,Ux())?new Proxy(n,Pg):n)}function es(n){if(n instanceof IDBRequest)return zx(n);if(Xp.has(n))return Xp.get(n);const e=Hx(n);return e!==n&&(Xp.set(n,e),Iy.set(e,n)),e}const Wp=n=>Iy.get(n);function qx(n,e,{blocked:t,upgrade:i,blocking:s,terminated:l}={}){const c=indexedDB.open(n,e),h=es(c);return i&&c.addEventListener("upgradeneeded",m=>{i(es(c.result),m.oldVersion,m.newVersion,es(c.transaction),m)}),t&&c.addEventListener("blocked",m=>t(m.oldVersion,m.newVersion,m)),h.then(m=>{l&&m.addEventListener("close",()=>l()),s&&m.addEventListener("versionchange",p=>s(p.oldVersion,p.newVersion,p))}).catch(()=>{}),h}const Gx=["get","getKey","getAll","getAllKeys","count"],Kx=["put","add","delete","clear"],Zp=new Map;function CT(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(Zp.get(e))return Zp.get(e);const t=e.replace(/FromIndex$/,""),i=e!==t,s=Kx.includes(t);if(!(t in(i?IDBIndex:IDBObjectStore).prototype)||!(s||Gx.includes(t)))return;const l=async function(c,...h){const m=this.transaction(c,s?"readwrite":"readonly");let p=m.store;return i&&(p=p.index(h.shift())),(await Promise.all([p[t](...h),s&&m.done]))[0]};return Zp.set(e,l),l}Bx(n=>({...n,get:(e,t,i)=>CT(e,t)||n.get(e,t,i),has:(e,t)=>!!CT(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qx{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(Yx(t)){const i=t.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(t=>t).join(" ")}}function Yx(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Lg="@firebase/app",IT="0.11.5";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ca=new Cy("@firebase/app"),Xx="@firebase/app-compat",Wx="@firebase/analytics-compat",Zx="@firebase/analytics",Jx="@firebase/app-check-compat",eN="@firebase/app-check",tN="@firebase/auth",nN="@firebase/auth-compat",rN="@firebase/database",iN="@firebase/data-connect",aN="@firebase/database-compat",sN="@firebase/functions",oN="@firebase/functions-compat",lN="@firebase/installations",uN="@firebase/installations-compat",cN="@firebase/messaging",fN="@firebase/messaging-compat",hN="@firebase/performance",dN="@firebase/performance-compat",mN="@firebase/remote-config",pN="@firebase/remote-config-compat",gN="@firebase/storage",yN="@firebase/storage-compat",vN="@firebase/firestore",_N="@firebase/vertexai",EN="@firebase/firestore-compat",TN="firebase",bN="11.6.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vg="[DEFAULT]",SN={[Lg]:"fire-core",[Xx]:"fire-core-compat",[Zx]:"fire-analytics",[Wx]:"fire-analytics-compat",[eN]:"fire-app-check",[Jx]:"fire-app-check-compat",[tN]:"fire-auth",[nN]:"fire-auth-compat",[rN]:"fire-rtdb",[iN]:"fire-data-connect",[aN]:"fire-rtdb-compat",[sN]:"fire-fn",[oN]:"fire-fn-compat",[lN]:"fire-iid",[uN]:"fire-iid-compat",[cN]:"fire-fcm",[fN]:"fire-fcm-compat",[hN]:"fire-perf",[dN]:"fire-perf-compat",[mN]:"fire-rc",[pN]:"fire-rc-compat",[gN]:"fire-gcs",[yN]:"fire-gcs-compat",[vN]:"fire-fst",[EN]:"fire-fst-compat",[_N]:"fire-vertex","fire-js":"fire-js",[TN]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kh=new Map,wN=new Map,kg=new Map;function DT(n,e){try{n.container.addComponent(e)}catch(t){ca.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Sl(n){const e=n.name;if(kg.has(e))return ca.debug(`There were multiple attempts to register component ${e}.`),!1;kg.set(e,n);for(const t of kh.values())DT(t,n);for(const t of wN.values())DT(t,n);return!0}function Dy(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function jr(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AN={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ts=new Rc("app","Firebase",AN);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RN{constructor(e,t,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new io("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ts.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ll=bN;function r1(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const i=Object.assign({name:Vg,automaticDataCollectionEnabled:!1},e),s=i.name;if(typeof s!="string"||!s)throw ts.create("bad-app-name",{appName:String(s)});if(t||(t=Jw()),!t)throw ts.create("no-options");const l=kh.get(s);if(l){if(ro(t,l.options)&&ro(i,l.config))return l;throw ts.create("duplicate-app",{appName:s})}const c=new Nx(s);for(const m of kg.values())c.addComponent(m);const h=new RN(t,i,c);return kh.set(s,h),h}function CN(n=Vg){const e=kh.get(n);if(!e&&n===Vg&&Jw())return r1();if(!e)throw ts.create("no-app",{appName:n});return e}function ns(n,e,t){var i;let s=(i=SN[n])!==null&&i!==void 0?i:n;t&&(s+=`-${t}`);const l=s.match(/\s|\//),c=e.match(/\s|\//);if(l||c){const h=[`Unable to register library "${s}" with version "${e}":`];l&&h.push(`library name "${s}" contains illegal characters (whitespace or "/")`),l&&c&&h.push("and"),c&&h.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ca.warn(h.join(" "));return}Sl(new io(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IN="firebase-heartbeat-database",DN=1,cc="firebase-heartbeat-store";let Jp=null;function i1(){return Jp||(Jp=qx(IN,DN,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(cc)}catch(t){console.warn(t)}}}}).catch(n=>{throw ts.create("idb-open",{originalErrorMessage:n.message})})),Jp}async function ON(n){try{const t=(await i1()).transaction(cc),i=await t.objectStore(cc).get(a1(n));return await t.done,i}catch(e){if(e instanceof pa)ca.warn(e.message);else{const t=ts.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});ca.warn(t.message)}}}async function OT(n,e){try{const i=(await i1()).transaction(cc,"readwrite");await i.objectStore(cc).put(e,a1(n)),await i.done}catch(t){if(t instanceof pa)ca.warn(t.message);else{const i=ts.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});ca.warn(i.message)}}}function a1(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xN=1024,NN=30;class MN{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new LN(t),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var e,t;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),l=xT();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===l||this._heartbeatsCache.heartbeats.some(c=>c.date===l))return;if(this._heartbeatsCache.heartbeats.push({date:l,agent:s}),this._heartbeatsCache.heartbeats.length>NN){const c=VN(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(c,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(i){ca.warn(i)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=xT(),{heartbeatsToSend:i,unsentEntries:s}=PN(this._heartbeatsCache.heartbeats),l=Ww(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(t){return ca.warn(t),""}}}function xT(){return new Date().toISOString().substring(0,10)}function PN(n,e=xN){const t=[];let i=n.slice();for(const s of n){const l=t.find(c=>c.agent===s.agent);if(l){if(l.dates.push(s.date),NT(t)>e){l.dates.pop();break}}else if(t.push({agent:s.agent,dates:[s.date]}),NT(t)>e){t.pop();break}i=i.slice(1)}return{heartbeatsToSend:t,unsentEntries:i}}class LN{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Ex()?Tx().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await ON(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const s=await this.read();return OT(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const s=await this.read();return OT(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function NT(n){return Ww(JSON.stringify({version:2,heartbeats:n})).length}function VN(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let i=1;i<n.length;i++)n[i].date<t&&(t=n[i].date,e=i);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kN(n){Sl(new io("platform-logger",e=>new Qx(e),"PRIVATE")),Sl(new io("heartbeat",e=>new MN(e),"PRIVATE")),ns(Lg,IT,n),ns(Lg,IT,"esm2017"),ns("fire-js","")}kN("");function Oy(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,i=Object.getOwnPropertySymbols(n);s<i.length;s++)e.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(n,i[s])&&(t[i[s]]=n[i[s]]);return t}function s1(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const UN=s1,o1=new Rc("auth","Firebase",s1());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uh=new Cy("@firebase/auth");function jN(n,...e){Uh.logLevel<=at.WARN&&Uh.warn(`Auth (${Ll}): ${n}`,...e)}function _h(n,...e){Uh.logLevel<=at.ERROR&&Uh.error(`Auth (${Ll}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ti(n,...e){throw xy(n,...e)}function Ri(n,...e){return xy(n,...e)}function l1(n,e,t){const i=Object.assign(Object.assign({},UN()),{[e]:t});return new Rc("auth","Firebase",i).create(e,{appName:n.name})}function oa(n){return l1(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function xy(n,...e){if(typeof n!="string"){const t=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=n.name),n._errorFactory.create(t,...i)}return o1.create(n,...e)}function Be(n,e,...t){if(!n)throw xy(e,...t)}function aa(n){const e="INTERNAL ASSERTION FAILED: "+n;throw _h(e),new Error(e)}function fa(n,e){n||aa(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ug(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function zN(){return MT()==="http:"||MT()==="https:"}function MT(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FN(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(zN()||gx()||"connection"in navigator)?navigator.onLine:!0}function BN(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ic{constructor(e,t){this.shortDelay=e,this.longDelay=t,fa(t>e,"Short delay should be less than long delay!"),this.isMobile=dx()||yx()}get(){return FN()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ny(n,e){fa(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u1{static initialize(e,t,i){this.fetchImpl=e,t&&(this.headersImpl=t),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;aa("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;aa("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;aa("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $N={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HN=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],qN=new Ic(3e4,6e4);function gs(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}async function ga(n,e,t,i,s={}){return c1(n,s,async()=>{let l={},c={};i&&(e==="GET"?c=i:l={body:JSON.stringify(i)});const h=Cc(Object.assign({key:n.config.apiKey},c)).slice(1),m=await n._getAdditionalHeaders();m["Content-Type"]="application/json",n.languageCode&&(m["X-Firebase-Locale"]=n.languageCode);const p=Object.assign({method:e,headers:m},l);return px()||(p.referrerPolicy="no-referrer"),u1.fetch()(await f1(n,n.config.apiHost,t,h),p)})}async function c1(n,e,t){n._canInitEmulator=!1;const i=Object.assign(Object.assign({},$N),e);try{const s=new KN(n),l=await Promise.race([t(),s.promise]);s.clearNetworkTimeout();const c=await l.json();if("needConfirmation"in c)throw nh(n,"account-exists-with-different-credential",c);if(l.ok&&!("errorMessage"in c))return c;{const h=l.ok?c.errorMessage:c.error.message,[m,p]=h.split(" : ");if(m==="FEDERATED_USER_ID_ALREADY_LINKED")throw nh(n,"credential-already-in-use",c);if(m==="EMAIL_EXISTS")throw nh(n,"email-already-in-use",c);if(m==="USER_DISABLED")throw nh(n,"user-disabled",c);const y=i[m]||m.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw l1(n,y,p);ti(n,y)}}catch(s){if(s instanceof pa)throw s;ti(n,"network-request-failed",{message:String(s)})}}async function Dc(n,e,t,i,s={}){const l=await ga(n,e,t,i,s);return"mfaPendingCredential"in l&&ti(n,"multi-factor-auth-required",{_serverResponse:l}),l}async function f1(n,e,t,i){const s=`${e}${t}?${i}`,l=n,c=l.config.emulator?Ny(n.config,s):`${n.config.apiScheme}://${s}`;return HN.includes(t)&&(await l._persistenceManagerAvailable,l._getPersistenceType()==="COOKIE")?l._getPersistence()._getFinalTarget(c).toString():c}function GN(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class KN{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,i)=>{this.timer=setTimeout(()=>i(Ri(this.auth,"network-request-failed")),qN.get())})}}function nh(n,e,t){const i={appName:n.name};t.email&&(i.email=t.email),t.phoneNumber&&(i.phoneNumber=t.phoneNumber);const s=Ri(n,e,i);return s.customData._tokenResponse=t,s}function PT(n){return n!==void 0&&n.enterprise!==void 0}class QN{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return GN(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function YN(n,e){return ga(n,"GET","/v2/recaptchaConfig",gs(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function XN(n,e){return ga(n,"POST","/v1/accounts:delete",e)}async function jh(n,e){return ga(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tc(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function WN(n,e=!1){const t=gr(n),i=await t.getIdToken(e),s=My(i);Be(s&&s.exp&&s.auth_time&&s.iat,t.auth,"internal-error");const l=typeof s.firebase=="object"?s.firebase:void 0,c=l==null?void 0:l.sign_in_provider;return{claims:s,token:i,authTime:tc(eg(s.auth_time)),issuedAtTime:tc(eg(s.iat)),expirationTime:tc(eg(s.exp)),signInProvider:c||null,signInSecondFactor:(l==null?void 0:l.sign_in_second_factor)||null}}function eg(n){return Number(n)*1e3}function My(n){const[e,t,i]=n.split(".");if(e===void 0||t===void 0||i===void 0)return _h("JWT malformed, contained fewer than 3 sections"),null;try{const s=Zw(t);return s?JSON.parse(s):(_h("Failed to decode base64 JWT payload"),null)}catch(s){return _h("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function LT(n){const e=My(n);return Be(e,"internal-error"),Be(typeof e.exp<"u","internal-error"),Be(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wl(n,e,t=!1){if(t)return e;try{return await e}catch(i){throw i instanceof pa&&ZN(i)&&n.auth.currentUser===n&&await n.auth.signOut(),i}}function ZN({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JN{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const s=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jg{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=tc(this.lastLoginAt),this.creationTime=tc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zh(n){var e;const t=n.auth,i=await n.getIdToken(),s=await wl(n,jh(t,{idToken:i}));Be(s==null?void 0:s.users.length,t,"internal-error");const l=s.users[0];n._notifyReloadListener(l);const c=!((e=l.providerUserInfo)===null||e===void 0)&&e.length?h1(l.providerUserInfo):[],h=tM(n.providerData,c),m=n.isAnonymous,p=!(n.email&&l.passwordHash)&&!(h!=null&&h.length),y=m?p:!1,_={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:h,metadata:new jg(l.createdAt,l.lastLoginAt),isAnonymous:y};Object.assign(n,_)}async function eM(n){const e=gr(n);await zh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function tM(n,e){return[...n.filter(i=>!e.some(s=>s.providerId===i.providerId)),...e]}function h1(n){return n.map(e=>{var{providerId:t}=e,i=Oy(e,["providerId"]);return{providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nM(n,e){const t=await c1(n,{},async()=>{const i=Cc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:l}=n.config,c=await f1(n,s,"/v1/token",`key=${l}`),h=await n._getAdditionalHeaders();return h["Content-Type"]="application/x-www-form-urlencoded",u1.fetch()(c,{method:"POST",headers:h,body:i})});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function rM(n,e){return ga(n,"POST","/v2/accounts:revokeToken",gs(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _l{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Be(e.idToken,"internal-error"),Be(typeof e.idToken<"u","internal-error"),Be(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):LT(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Be(e.length!==0,"internal-error");const t=LT(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Be(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:i,refreshToken:s,expiresIn:l}=await nM(e,t);this.updateTokensAndExpiration(i,s,Number(l))}updateTokensAndExpiration(e,t,i){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,t){const{refreshToken:i,accessToken:s,expirationTime:l}=t,c=new _l;return i&&(Be(typeof i=="string","internal-error",{appName:e}),c.refreshToken=i),s&&(Be(typeof s=="string","internal-error",{appName:e}),c.accessToken=s),l&&(Be(typeof l=="number","internal-error",{appName:e}),c.expirationTime=l),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new _l,this.toJSON())}_performRefresh(){return aa("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ga(n,e){Be(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class Wr{constructor(e){var{uid:t,auth:i,stsTokenManager:s}=e,l=Oy(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new JN(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new jg(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(e){const t=await wl(this,this.stsTokenManager.getToken(this.auth,e));return Be(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return WN(this,e)}reload(){return eM(this)}_assign(e){this!==e&&(Be(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Wr(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Be(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),t&&await zh(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(jr(this.auth.app))return Promise.reject(oa(this.auth));const e=await this.getIdToken();return await wl(this,XN(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var i,s,l,c,h,m,p,y;const _=(i=t.displayName)!==null&&i!==void 0?i:void 0,E=(s=t.email)!==null&&s!==void 0?s:void 0,w=(l=t.phoneNumber)!==null&&l!==void 0?l:void 0,R=(c=t.photoURL)!==null&&c!==void 0?c:void 0,P=(h=t.tenantId)!==null&&h!==void 0?h:void 0,L=(m=t._redirectEventId)!==null&&m!==void 0?m:void 0,x=(p=t.createdAt)!==null&&p!==void 0?p:void 0,$=(y=t.lastLoginAt)!==null&&y!==void 0?y:void 0,{uid:ne,emailVerified:fe,isAnonymous:H,providerData:V,stsTokenManager:O}=t;Be(ne&&O,e,"internal-error");const C=_l.fromJSON(this.name,O);Be(typeof ne=="string",e,"internal-error"),Ga(_,e.name),Ga(E,e.name),Be(typeof fe=="boolean",e,"internal-error"),Be(typeof H=="boolean",e,"internal-error"),Ga(w,e.name),Ga(R,e.name),Ga(P,e.name),Ga(L,e.name),Ga(x,e.name),Ga($,e.name);const I=new Wr({uid:ne,auth:e,email:E,emailVerified:fe,displayName:_,isAnonymous:H,photoURL:R,phoneNumber:w,tenantId:P,stsTokenManager:C,createdAt:x,lastLoginAt:$});return V&&Array.isArray(V)&&(I.providerData=V.map(j=>Object.assign({},j))),L&&(I._redirectEventId=L),I}static async _fromIdTokenResponse(e,t,i=!1){const s=new _l;s.updateFromServerResponse(t);const l=new Wr({uid:t.localId,auth:e,stsTokenManager:s,isAnonymous:i});return await zh(l),l}static async _fromGetAccountInfoResponse(e,t,i){const s=t.users[0];Be(s.localId!==void 0,"internal-error");const l=s.providerUserInfo!==void 0?h1(s.providerUserInfo):[],c=!(s.email&&s.passwordHash)&&!(l!=null&&l.length),h=new _l;h.updateFromIdToken(i);const m=new Wr({uid:s.localId,auth:e,stsTokenManager:h,isAnonymous:c}),p={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:l,metadata:new jg(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(l!=null&&l.length)};return Object.assign(m,p),m}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VT=new Map;function sa(n){fa(n instanceof Function,"Expected a class definition");let e=VT.get(n);return e?(fa(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,VT.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d1{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}d1.type="NONE";const kT=d1;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Eh(n,e,t){return`firebase:${n}:${e}:${t}`}class El{constructor(e,t,i){this.persistence=e,this.auth=t,this.userKey=i;const{config:s,name:l}=this.auth;this.fullUserKey=Eh(this.userKey,s.apiKey,l),this.fullPersistenceKey=Eh("persistence",s.apiKey,l),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await jh(this.auth,{idToken:e}).catch(()=>{});return t?Wr._fromGetAccountInfoResponse(this.auth,t,e):null}return Wr._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,i="authUser"){if(!t.length)return new El(sa(kT),e,i);const s=(await Promise.all(t.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let l=s[0]||sa(kT);const c=Eh(i,e.config.apiKey,e.name);let h=null;for(const p of t)try{const y=await p._get(c);if(y){let _;if(typeof y=="string"){const E=await jh(e,{idToken:y}).catch(()=>{});if(!E)break;_=await Wr._fromGetAccountInfoResponse(e,E,y)}else _=Wr._fromJSON(e,y);p!==l&&(h=_),l=p;break}}catch{}const m=s.filter(p=>p._shouldAllowMigration);return!l._shouldAllowMigration||!m.length?new El(l,e,i):(l=m[0],h&&await l._set(c,h.toJSON()),await Promise.all(t.map(async p=>{if(p!==l)try{await p._remove(c)}catch{}})),new El(l,e,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UT(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(y1(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(m1(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(_1(e))return"Blackberry";if(E1(e))return"Webos";if(p1(e))return"Safari";if((e.includes("chrome/")||g1(e))&&!e.includes("edge/"))return"Chrome";if(v1(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=n.match(t);if((i==null?void 0:i.length)===2)return i[1]}return"Other"}function m1(n=Ln()){return/firefox\//i.test(n)}function p1(n=Ln()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function g1(n=Ln()){return/crios\//i.test(n)}function y1(n=Ln()){return/iemobile/i.test(n)}function v1(n=Ln()){return/android/i.test(n)}function _1(n=Ln()){return/blackberry/i.test(n)}function E1(n=Ln()){return/webos/i.test(n)}function Py(n=Ln()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function iM(n=Ln()){var e;return Py(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function aM(){return vx()&&document.documentMode===10}function T1(n=Ln()){return Py(n)||v1(n)||E1(n)||_1(n)||/windows phone/i.test(n)||y1(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b1(n,e=[]){let t;switch(n){case"Browser":t=UT(Ln());break;case"Worker":t=`${UT(Ln())}-${n}`;break;default:t=n}const i=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Ll}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sM{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const i=l=>new Promise((c,h)=>{try{const m=e(l);c(m)}catch(m){h(m)}});i.onAbort=t,this.queue.push(i);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const i of this.queue)await i(e),i.onAbort&&t.push(i.onAbort)}catch(i){t.reverse();for(const s of t)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i==null?void 0:i.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oM(n,e={}){return ga(n,"GET","/v2/passwordPolicy",gs(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lM=6;class uM{constructor(e){var t,i,s,l;const c=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=c.minPasswordLength)!==null&&t!==void 0?t:lM,c.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=c.maxPasswordLength),c.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=c.containsLowercaseCharacter),c.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=c.containsUppercaseCharacter),c.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=c.containsNumericCharacter),c.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=c.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(s=(i=e.allowedNonAlphanumericCharacters)===null||i===void 0?void 0:i.join(""))!==null&&s!==void 0?s:"",this.forceUpgradeOnSignin=(l=e.forceUpgradeOnSignin)!==null&&l!==void 0?l:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,i,s,l,c,h;const m={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,m),this.validatePasswordCharacterOptions(e,m),m.isValid&&(m.isValid=(t=m.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),m.isValid&&(m.isValid=(i=m.meetsMaxPasswordLength)!==null&&i!==void 0?i:!0),m.isValid&&(m.isValid=(s=m.containsLowercaseLetter)!==null&&s!==void 0?s:!0),m.isValid&&(m.isValid=(l=m.containsUppercaseLetter)!==null&&l!==void 0?l:!0),m.isValid&&(m.isValid=(c=m.containsNumericCharacter)!==null&&c!==void 0?c:!0),m.isValid&&(m.isValid=(h=m.containsNonAlphanumericCharacter)!==null&&h!==void 0?h:!0),m}validatePasswordLengthOptions(e,t){const i=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;i&&(t.meetsMinPasswordLength=e.length>=i),s&&(t.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let i;for(let s=0;s<e.length;s++)i=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(t,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,t,i,s,l){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cM{constructor(e,t,i,s){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=i,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new jT(this),this.idTokenSubscription=new jT(this),this.beforeStateQueue=new sM(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=o1,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(l=>this._resolvePersistenceManagerAvailable=l)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=sa(t)),this._initializationPromise=this.queue(async()=>{var i,s,l;if(!this._deleted&&(this.persistenceManager=await El.create(this,e),(i=this._resolvePersistenceManagerAvailable)===null||i===void 0||i.call(this),!this._deleted)){if(!((s=this._popupRedirectResolver)===null||s===void 0)&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((l=this.currentUser)===null||l===void 0?void 0:l.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await jh(this,{idToken:e}),i=await Wr._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(i)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(jr(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(h=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(h,h))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let s=i,l=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,h=s==null?void 0:s._redirectEventId,m=await this.tryRedirectSignIn(e);(!c||c===h)&&(m!=null&&m.user)&&(s=m.user,l=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(s)}catch(c){s=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return Be(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await zh(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=BN()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(jr(this.app))return Promise.reject(oa(this));const t=e?gr(e):null;return t&&Be(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Be(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return jr(this.app)?Promise.reject(oa(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return jr(this.app)?Promise.reject(oa(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(sa(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await oM(this),t=new uM(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Rc("auth","Firebase",e())}onAuthStateChanged(e,t,i){return this.registerStateListener(this.authStateSubscription,e,t,i)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,i){return this.registerStateListener(this.idTokenSubscription,e,t,i)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(i.tenantId=this.tenantId),await rM(this,i)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const i=await this.getOrInitRedirectPersistenceManager(t);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&sa(e)||this._popupRedirectResolver;Be(t,this,"argument-error"),this.redirectPersistenceManager=await El.create(this,[sa(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,i;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const i=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,i,s){if(this._deleted)return()=>{};const l=typeof t=="function"?t:t.next.bind(t);let c=!1;const h=this._isInitialized?Promise.resolve():this._initializationPromise;if(Be(h,this,"internal-error"),h.then(()=>{c||l(this.currentUser)}),typeof t=="function"){const m=e.addObserver(t,i,s);return()=>{c=!0,m()}}else{const m=e.addObserver(t);return()=>{c=!0,m()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Be(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=b1(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const i=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());i&&(t["X-Firebase-Client"]=i);const s=await this._getAppCheckToken();return s&&(t["X-Firebase-AppCheck"]=s),t}async _getAppCheckToken(){var e;if(jr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&jN(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function fo(n){return gr(n)}class jT{constructor(e){this.auth=e,this.observer=null,this.addObserver=Rx(t=>this.observer=t)}get next(){return Be(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let pd={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function fM(n){pd=n}function S1(n){return pd.loadJS(n)}function hM(){return pd.recaptchaEnterpriseScript}function dM(){return pd.gapiScript}function mM(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class pM{constructor(){this.enterprise=new gM}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class gM{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const yM="recaptcha-enterprise",w1="NO_RECAPTCHA";class vM{constructor(e){this.type=yM,this.auth=fo(e)}async verify(e="verify",t=!1){async function i(l){if(!t){if(l.tenantId==null&&l._agentRecaptchaConfig!=null)return l._agentRecaptchaConfig.siteKey;if(l.tenantId!=null&&l._tenantRecaptchaConfigs[l.tenantId]!==void 0)return l._tenantRecaptchaConfigs[l.tenantId].siteKey}return new Promise(async(c,h)=>{YN(l,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(m=>{if(m.recaptchaKey===void 0)h(new Error("recaptcha Enterprise site key undefined"));else{const p=new QN(m);return l.tenantId==null?l._agentRecaptchaConfig=p:l._tenantRecaptchaConfigs[l.tenantId]=p,c(p.siteKey)}}).catch(m=>{h(m)})})}function s(l,c,h){const m=window.grecaptcha;PT(m)?m.enterprise.ready(()=>{m.enterprise.execute(l,{action:e}).then(p=>{c(p)}).catch(()=>{c(w1)})}):h(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new pM().execute("siteKey",{action:"verify"}):new Promise((l,c)=>{i(this.auth).then(h=>{if(!t&&PT(window.grecaptcha))s(h,l,c);else{if(typeof window>"u"){c(new Error("RecaptchaVerifier is only supported in browser"));return}let m=hM();m.length!==0&&(m+=h),S1(m).then(()=>{s(h,l,c)}).catch(p=>{c(p)})}}).catch(h=>{c(h)})})}}async function zT(n,e,t,i=!1,s=!1){const l=new vM(n);let c;if(s)c=w1;else try{c=await l.verify(t)}catch{c=await l.verify(t,!0)}const h=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in h){const m=h.phoneEnrollmentInfo.phoneNumber,p=h.phoneEnrollmentInfo.recaptchaToken;Object.assign(h,{phoneEnrollmentInfo:{phoneNumber:m,recaptchaToken:p,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in h){const m=h.phoneSignInInfo.recaptchaToken;Object.assign(h,{phoneSignInInfo:{recaptchaToken:m,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return h}return i?Object.assign(h,{captchaResp:c}):Object.assign(h,{captchaResponse:c}),Object.assign(h,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(h,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),h}async function zg(n,e,t,i,s){var l;if(!((l=n._getRecaptchaConfig())===null||l===void 0)&&l.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const c=await zT(n,e,t,t==="getOobCode");return i(n,c)}else return i(n,e).catch(async c=>{if(c.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const h=await zT(n,e,t,t==="getOobCode");return i(n,h)}else return Promise.reject(c)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _M(n,e){const t=Dy(n,"auth");if(t.isInitialized()){const s=t.getImmediate(),l=t.getOptions();if(ro(l,e??{}))return s;ti(s,"already-initialized")}return t.initialize({options:e})}function EM(n,e){const t=(e==null?void 0:e.persistence)||[],i=(Array.isArray(t)?t:[t]).map(sa);e!=null&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(i,e==null?void 0:e.popupRedirectResolver)}function TM(n,e,t){const i=fo(n);Be(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const s=!1,l=A1(e),{host:c,port:h}=bM(e),m=h===null?"":`:${h}`,p={url:`${l}//${c}${m}/`},y=Object.freeze({host:c,port:h,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!i._canInitEmulator){Be(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),Be(ro(p,i.config.emulator)&&ro(y,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=p,i.emulatorConfig=y,i.settings.appVerificationDisabledForTesting=!0,SM()}function A1(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function bM(n){const e=A1(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const i=t[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(i);if(s){const l=s[1];return{host:l,port:FT(i.substr(l.length+1))}}else{const[l,c]=i.split(":");return{host:l,port:FT(c)}}}function FT(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function SM(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ly{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return aa("not implemented")}_getIdTokenResponse(e){return aa("not implemented")}_linkToIdToken(e,t){return aa("not implemented")}_getReauthenticationResolver(e){return aa("not implemented")}}async function wM(n,e){return ga(n,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function AM(n,e){return Dc(n,"POST","/v1/accounts:signInWithPassword",gs(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function RM(n,e){return Dc(n,"POST","/v1/accounts:signInWithEmailLink",gs(n,e))}async function CM(n,e){return Dc(n,"POST","/v1/accounts:signInWithEmailLink",gs(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fc extends Ly{constructor(e,t,i,s=null){super("password",i),this._email=e,this._password=t,this._tenantId=s}static _fromEmailAndPassword(e,t){return new fc(e,t,"password")}static _fromEmailAndCode(e,t,i=null){return new fc(e,t,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t!=null&&t.email&&(t!=null&&t.password)){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return zg(e,t,"signInWithPassword",AM);case"emailLink":return RM(e,{email:this._email,oobCode:this._password});default:ti(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const i={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return zg(e,i,"signUpPassword",wM);case"emailLink":return CM(e,{idToken:t,email:this._email,oobCode:this._password});default:ti(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Tl(n,e){return Dc(n,"POST","/v1/accounts:signInWithIdp",gs(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IM="http://localhost";class ao extends Ly{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new ao(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):ti("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:s}=t,l=Oy(t,["providerId","signInMethod"]);if(!i||!s)return null;const c=new ao(i,s);return c.idToken=l.idToken||void 0,c.accessToken=l.accessToken||void 0,c.secret=l.secret,c.nonce=l.nonce,c.pendingToken=l.pendingToken||null,c}_getIdTokenResponse(e){const t=this.buildRequest();return Tl(e,t)}_linkToIdToken(e,t){const i=this.buildRequest();return i.idToken=t,Tl(e,i)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Tl(e,t)}buildRequest(){const e={requestUri:IM,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Cc(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DM(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function OM(n){const e=Xu(Wu(n)).link,t=e?Xu(Wu(e)).deep_link_id:null,i=Xu(Wu(n)).deep_link_id;return(i?Xu(Wu(i)).link:null)||i||t||e||n}class Vy{constructor(e){var t,i,s,l,c,h;const m=Xu(Wu(e)),p=(t=m.apiKey)!==null&&t!==void 0?t:null,y=(i=m.oobCode)!==null&&i!==void 0?i:null,_=DM((s=m.mode)!==null&&s!==void 0?s:null);Be(p&&y&&_,"argument-error"),this.apiKey=p,this.operation=_,this.code=y,this.continueUrl=(l=m.continueUrl)!==null&&l!==void 0?l:null,this.languageCode=(c=m.lang)!==null&&c!==void 0?c:null,this.tenantId=(h=m.tenantId)!==null&&h!==void 0?h:null}static parseLink(e){const t=OM(e);try{return new Vy(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vl{constructor(){this.providerId=Vl.PROVIDER_ID}static credential(e,t){return fc._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const i=Vy.parseLink(t);return Be(i,"argument-error"),fc._fromEmailAndCode(e,i.code,i.tenantId)}}Vl.PROVIDER_ID="password";Vl.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Vl.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R1{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oc extends R1{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ya extends Oc{constructor(){super("facebook.com")}static credential(e){return ao._fromParams({providerId:Ya.PROVIDER_ID,signInMethod:Ya.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ya.credentialFromTaggedObject(e)}static credentialFromError(e){return Ya.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ya.credential(e.oauthAccessToken)}catch{return null}}}Ya.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ya.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xa extends Oc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return ao._fromParams({providerId:Xa.PROVIDER_ID,signInMethod:Xa.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Xa.credentialFromTaggedObject(e)}static credentialFromError(e){return Xa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:i}=e;if(!t&&!i)return null;try{return Xa.credential(t,i)}catch{return null}}}Xa.GOOGLE_SIGN_IN_METHOD="google.com";Xa.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wa extends Oc{constructor(){super("github.com")}static credential(e){return ao._fromParams({providerId:Wa.PROVIDER_ID,signInMethod:Wa.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Wa.credentialFromTaggedObject(e)}static credentialFromError(e){return Wa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Wa.credential(e.oauthAccessToken)}catch{return null}}}Wa.GITHUB_SIGN_IN_METHOD="github.com";Wa.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Za extends Oc{constructor(){super("twitter.com")}static credential(e,t){return ao._fromParams({providerId:Za.PROVIDER_ID,signInMethod:Za.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Za.credentialFromTaggedObject(e)}static credentialFromError(e){return Za.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:i}=e;if(!t||!i)return null;try{return Za.credential(t,i)}catch{return null}}}Za.TWITTER_SIGN_IN_METHOD="twitter.com";Za.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xM(n,e){return Dc(n,"POST","/v1/accounts:signUp",gs(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class so{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,i,s=!1){const l=await Wr._fromIdTokenResponse(e,i,s),c=BT(i);return new so({user:l,providerId:c,_tokenResponse:i,operationType:t})}static async _forOperation(e,t,i){await e._updateTokensIfNecessary(i,!0);const s=BT(i);return new so({user:e,providerId:s,_tokenResponse:i,operationType:t})}}function BT(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fh extends pa{constructor(e,t,i,s){var l;super(t.code,t.message),this.operationType=i,this.user=s,Object.setPrototypeOf(this,Fh.prototype),this.customData={appName:e.name,tenantId:(l=e.tenantId)!==null&&l!==void 0?l:void 0,_serverResponse:t.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,t,i,s){return new Fh(e,t,i,s)}}function C1(n,e,t,i){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?Fh._fromErrorAndOperation(n,l,e,i):l})}async function NM(n,e,t=!1){const i=await wl(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return so._forOperation(n,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function MM(n,e,t=!1){const{auth:i}=n;if(jr(i.app))return Promise.reject(oa(i));const s="reauthenticate";try{const l=await wl(n,C1(i,s,e,n),t);Be(l.idToken,i,"internal-error");const c=My(l.idToken);Be(c,i,"internal-error");const{sub:h}=c;return Be(n.uid===h,i,"user-mismatch"),so._forOperation(n,s,l)}catch(l){throw(l==null?void 0:l.code)==="auth/user-not-found"&&ti(i,"user-mismatch"),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function I1(n,e,t=!1){if(jr(n.app))return Promise.reject(oa(n));const i="signIn",s=await C1(n,i,e),l=await so._fromIdTokenResponse(n,i,s);return t||await n._updateCurrentUser(l.user),l}async function PM(n,e){return I1(fo(n),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function D1(n){const e=fo(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function LM(n,e,t){if(jr(n.app))return Promise.reject(oa(n));const i=fo(n),c=await zg(i,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",xM).catch(m=>{throw m.code==="auth/password-does-not-meet-requirements"&&D1(n),m}),h=await so._fromIdTokenResponse(i,"signIn",c);return await i._updateCurrentUser(h.user),h}function VM(n,e,t){return jr(n.app)?Promise.reject(oa(n)):PM(gr(n),Vl.credential(e,t)).catch(async i=>{throw i.code==="auth/password-does-not-meet-requirements"&&D1(n),i})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kM(n,e){return ga(n,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function UM(n,{displayName:e,photoURL:t}){if(e===void 0&&t===void 0)return;const i=gr(n),l={idToken:await i.getIdToken(),displayName:e,photoUrl:t,returnSecureToken:!0},c=await wl(i,kM(i.auth,l));i.displayName=c.displayName||null,i.photoURL=c.photoUrl||null;const h=i.providerData.find(({providerId:m})=>m==="password");h&&(h.displayName=i.displayName,h.photoURL=i.photoURL),await i._updateTokensIfNecessary(c)}function jM(n,e,t,i){return gr(n).onIdTokenChanged(e,t,i)}function zM(n,e,t){return gr(n).beforeAuthStateChanged(e,t)}const Bh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O1{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Bh,"1"),this.storage.removeItem(Bh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FM=1e3,BM=10;class x1 extends O1{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=T1(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const i=this.storage.getItem(t),s=this.localCache[t];i!==s&&e(t,s,i)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((c,h,m)=>{this.notifyListeners(c,m)});return}const i=e.key;t?this.detachListener():this.stopPolling();const s=()=>{const c=this.storage.getItem(i);!t&&this.localCache[i]===c||this.notifyListeners(i,c)},l=this.storage.getItem(i);aM()&&l!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,BM):s()}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const s of Array.from(i))s(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:i}),!0)})},FM)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}x1.type="LOCAL";const $M=x1;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N1 extends O1{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}N1.type="SESSION";const M1=N1;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HM(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gd{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(s=>s.isListeningto(e));if(t)return t;const i=new gd(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:i,eventType:s,data:l}=t.data,c=this.handlersMap[s];if(!(c!=null&&c.size))return;t.ports[0].postMessage({status:"ack",eventId:i,eventType:s});const h=Array.from(c).map(async p=>p(t.origin,l)),m=await HM(h);t.ports[0].postMessage({status:"done",eventId:i,eventType:s,response:m})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}gd.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ky(n="",e=10){let t="";for(let i=0;i<e;i++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qM{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,i=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let l,c;return new Promise((h,m)=>{const p=ky("",20);s.port1.start();const y=setTimeout(()=>{m(new Error("unsupported_event"))},i);c={messageChannel:s,onMessage(_){const E=_;if(E.data.eventId===p)switch(E.data.status){case"ack":clearTimeout(y),l=setTimeout(()=>{m(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),h(E.data.response);break;default:clearTimeout(y),clearTimeout(l),m(new Error("invalid_response"));break}}},this.handlers.add(c),s.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:e,eventId:p,data:t},[s.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ci(){return window}function GM(n){Ci().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P1(){return typeof Ci().WorkerGlobalScope<"u"&&typeof Ci().importScripts=="function"}async function KM(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function QM(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function YM(){return P1()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L1="firebaseLocalStorageDb",XM=1,$h="firebaseLocalStorage",V1="fbase_key";class xc{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function yd(n,e){return n.transaction([$h],e?"readwrite":"readonly").objectStore($h)}function WM(){const n=indexedDB.deleteDatabase(L1);return new xc(n).toPromise()}function Fg(){const n=indexedDB.open(L1,XM);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const i=n.result;try{i.createObjectStore($h,{keyPath:V1})}catch(s){t(s)}}),n.addEventListener("success",async()=>{const i=n.result;i.objectStoreNames.contains($h)?e(i):(i.close(),await WM(),e(await Fg()))})})}async function $T(n,e,t){const i=yd(n,!0).put({[V1]:e,value:t});return new xc(i).toPromise()}async function ZM(n,e){const t=yd(n,!1).get(e),i=await new xc(t).toPromise();return i===void 0?null:i.value}function HT(n,e){const t=yd(n,!0).delete(e);return new xc(t).toPromise()}const JM=800,e4=3;class k1{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Fg(),this.db)}async _withRetries(e){let t=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(t++>e4)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return P1()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=gd._getInstance(YM()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await KM(),!this.activeServiceWorker)return;this.sender=new qM(this.activeServiceWorker);const i=await this.sender._send("ping",{},800);i&&!((e=i[0])===null||e===void 0)&&e.fulfilled&&!((t=i[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||QM()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Fg();return await $T(e,Bh,"1"),await HT(e,Bh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(i=>$T(i,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(i=>ZM(i,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>HT(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const l=yd(s,!1).getAll();return new xc(l).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],i=new Set;if(e.length!==0)for(const{fbase_key:s,value:l}of e)i.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(l)&&(this.notifyListeners(s,l),t.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!i.has(s)&&(this.notifyListeners(s,null),t.push(s));return t}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const s of Array.from(i))s(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),JM)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}k1.type="LOCAL";const t4=k1;new Ic(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n4(n,e){return e?sa(e):(Be(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uy extends Ly{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Tl(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Tl(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Tl(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function r4(n){return I1(n.auth,new Uy(n),n.bypassAuthState)}function i4(n){const{auth:e,user:t}=n;return Be(t,e,"internal-error"),MM(t,new Uy(n),n.bypassAuthState)}async function a4(n){const{auth:e,user:t}=n;return Be(t,e,"internal-error"),NM(t,new Uy(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U1{constructor(e,t,i,s,l=!1){this.auth=e,this.resolver=i,this.user=s,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:i,postBody:s,tenantId:l,error:c,type:h}=e;if(c){this.reject(c);return}const m={auth:this.auth,requestUri:t,sessionId:i,tenantId:l||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(h)(m))}catch(p){this.reject(p)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return r4;case"linkViaPopup":case"linkViaRedirect":return a4;case"reauthViaPopup":case"reauthViaRedirect":return i4;default:ti(this.auth,"internal-error")}}resolve(e){fa(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){fa(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s4=new Ic(2e3,1e4);class pl extends U1{constructor(e,t,i,s,l){super(e,t,s,l),this.provider=i,this.authWindow=null,this.pollId=null,pl.currentPopupAction&&pl.currentPopupAction.cancel(),pl.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Be(e,this.auth,"internal-error"),e}async onExecution(){fa(this.filter.length===1,"Popup operations only handle one event");const e=ky();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(Ri(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Ri(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,pl.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,i;if(!((i=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||i===void 0)&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ri(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,s4.get())};e()}}pl.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o4="pendingRedirect",Th=new Map;class l4 extends U1{constructor(e,t,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,i),this.eventId=null}async execute(){let e=Th.get(this.auth._key());if(!e){try{const i=await u4(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(t){e=()=>Promise.reject(t)}Th.set(this.auth._key(),e)}return this.bypassAuthState||Th.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function u4(n,e){const t=h4(e),i=f4(n);if(!await i._isAvailable())return!1;const s=await i._get(t)==="true";return await i._remove(t),s}function c4(n,e){Th.set(n._key(),e)}function f4(n){return sa(n._redirectPersistence)}function h4(n){return Eh(o4,n.config.apiKey,n.name)}async function d4(n,e,t=!1){if(jr(n.app))return Promise.reject(oa(n));const i=fo(n),s=n4(i,e),c=await new l4(i,s,t).execute();return c&&!t&&(delete c.user._redirectEventId,await i._persistUserIfCurrent(c.user),await i._setRedirectUser(null,e)),c}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m4=10*60*1e3;class p4{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(t=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!g4(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var i;if(e.error&&!j1(e)){const s=((i=e.error.code)===null||i===void 0?void 0:i.split("auth/")[1])||"internal-error";t.onError(Ri(this.auth,s))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const i=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=m4&&this.cachedEventUids.clear(),this.cachedEventUids.has(qT(e))}saveEventToCache(e){this.cachedEventUids.add(qT(e)),this.lastProcessedEventTime=Date.now()}}function qT(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function j1({type:n,error:e}){return n==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function g4(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return j1(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function y4(n,e={}){return ga(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v4=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,_4=/^https?/;async function E4(n){if(n.config.emulator)return;const{authorizedDomains:e}=await y4(n);for(const t of e)try{if(T4(t))return}catch{}ti(n,"unauthorized-domain")}function T4(n){const e=Ug(),{protocol:t,hostname:i}=new URL(e);if(n.startsWith("chrome-extension://")){const c=new URL(n);return c.hostname===""&&i===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&c.hostname===i}if(!_4.test(t))return!1;if(v4.test(n))return i===n;const s=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b4=new Ic(3e4,6e4);function GT(){const n=Ci().___jsl;if(n!=null&&n.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function S4(n){return new Promise((e,t)=>{var i,s,l;function c(){GT(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{GT(),t(Ri(n,"network-request-failed"))},timeout:b4.get()})}if(!((s=(i=Ci().gapi)===null||i===void 0?void 0:i.iframes)===null||s===void 0)&&s.Iframe)e(gapi.iframes.getContext());else if(!((l=Ci().gapi)===null||l===void 0)&&l.load)c();else{const h=mM("iframefcb");return Ci()[h]=()=>{gapi.load?c():t(Ri(n,"network-request-failed"))},S1(`${dM()}?onload=${h}`).catch(m=>t(m))}}).catch(e=>{throw bh=null,e})}let bh=null;function w4(n){return bh=bh||S4(n),bh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A4=new Ic(5e3,15e3),R4="__/auth/iframe",C4="emulator/auth/iframe",I4={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},D4=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function O4(n){const e=n.config;Be(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?Ny(e,C4):`https://${n.config.authDomain}/${R4}`,i={apiKey:e.apiKey,appName:n.name,v:Ll},s=D4.get(n.config.apiHost);s&&(i.eid=s);const l=n._getFrameworks();return l.length&&(i.fw=l.join(",")),`${t}?${Cc(i).slice(1)}`}async function x4(n){const e=await w4(n),t=Ci().gapi;return Be(t,n,"internal-error"),e.open({where:document.body,url:O4(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:I4,dontclear:!0},i=>new Promise(async(s,l)=>{await i.restyle({setHideOnLeave:!1});const c=Ri(n,"network-request-failed"),h=Ci().setTimeout(()=>{l(c)},A4.get());function m(){Ci().clearTimeout(h),s(i)}i.ping(m).then(m,()=>{l(c)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N4={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},M4=500,P4=600,L4="_blank",V4="http://localhost";class KT{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function k4(n,e,t,i=M4,s=P4){const l=Math.max((window.screen.availHeight-s)/2,0).toString(),c=Math.max((window.screen.availWidth-i)/2,0).toString();let h="";const m=Object.assign(Object.assign({},N4),{width:i.toString(),height:s.toString(),top:l,left:c}),p=Ln().toLowerCase();t&&(h=g1(p)?L4:t),m1(p)&&(e=e||V4,m.scrollbars="yes");const y=Object.entries(m).reduce((E,[w,R])=>`${E}${w}=${R},`,"");if(iM(p)&&h!=="_self")return U4(e||"",h),new KT(null);const _=window.open(e||"",h,y);Be(_,n,"popup-blocked");try{_.focus()}catch{}return new KT(_)}function U4(n,e){const t=document.createElement("a");t.href=n,t.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j4="__/auth/handler",z4="emulator/auth/handler",F4=encodeURIComponent("fac");async function QT(n,e,t,i,s,l){Be(n.config.authDomain,n,"auth-domain-config-required"),Be(n.config.apiKey,n,"invalid-api-key");const c={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:i,v:Ll,eventId:s};if(e instanceof R1){e.setDefaultLanguage(n.languageCode),c.providerId=e.providerId||"",Ax(e.getCustomParameters())||(c.customParameters=JSON.stringify(e.getCustomParameters()));for(const[y,_]of Object.entries({}))c[y]=_}if(e instanceof Oc){const y=e.getScopes().filter(_=>_!=="");y.length>0&&(c.scopes=y.join(","))}n.tenantId&&(c.tid=n.tenantId);const h=c;for(const y of Object.keys(h))h[y]===void 0&&delete h[y];const m=await n._getAppCheckToken(),p=m?`#${F4}=${encodeURIComponent(m)}`:"";return`${B4(n)}?${Cc(h).slice(1)}${p}`}function B4({config:n}){return n.emulator?Ny(n,z4):`https://${n.authDomain}/${j4}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tg="webStorageSupport";class $4{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=M1,this._completeRedirectFn=d4,this._overrideRedirectResult=c4}async _openPopup(e,t,i,s){var l;fa((l=this.eventManagers[e._key()])===null||l===void 0?void 0:l.manager,"_initialize() not called before _openPopup()");const c=await QT(e,t,i,Ug(),s);return k4(e,c,ky())}async _openRedirect(e,t,i,s){await this._originValidation(e);const l=await QT(e,t,i,Ug(),s);return GM(l),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:s,promise:l}=this.eventManagers[t];return s?Promise.resolve(s):(fa(l,"If manager is not set, promise should be"),l)}const i=this.initAndGetManager(e);return this.eventManagers[t]={promise:i},i.catch(()=>{delete this.eventManagers[t]}),i}async initAndGetManager(e){const t=await x4(e),i=new p4(e);return t.register("authEvent",s=>(Be(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:i.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=t,i}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(tg,{type:tg},s=>{var l;const c=(l=s==null?void 0:s[0])===null||l===void 0?void 0:l[tg];c!==void 0&&t(!!c),ti(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=E4(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return T1()||p1()||Py()}}const H4=$4;var YT="@firebase/auth",XT="1.10.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q4{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(i=>{e((i==null?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Be(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G4(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function K4(n){Sl(new io("auth",(e,{options:t})=>{const i=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:c,authDomain:h}=i.options;Be(c&&!c.includes(":"),"invalid-api-key",{appName:i.name});const m={apiKey:c,authDomain:h,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:b1(n)},p=new cM(i,s,l,m);return EM(p,t),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,i)=>{e.getProvider("auth-internal").initialize()})),Sl(new io("auth-internal",e=>{const t=fo(e.getProvider("auth").getImmediate());return(i=>new q4(i))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),ns(YT,XT,G4(n)),ns(YT,XT,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q4=5*60,Y4=e1("authIdTokenMaxAge")||Q4;let WT=null;const X4=n=>async e=>{const t=e&&await e.getIdTokenResult(),i=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(i&&i>Y4)return;const s=t==null?void 0:t.token;WT!==s&&(WT=s,await fetch(n,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function W4(n=CN()){const e=Dy(n,"auth");if(e.isInitialized())return e.getImmediate();const t=_M(n,{popupRedirectResolver:H4,persistence:[t4,$M,M1]}),i=e1("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(i,location.origin);if(location.origin===l.origin){const c=X4(l.toString());zM(t,c,()=>c(t.currentUser)),jM(t,h=>c(h))}}const s=fx("auth");return s&&TM(t,`http://${s}`),t}function Z4(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}fM({loadJS(n){return new Promise((e,t)=>{const i=document.createElement("script");i.setAttribute("src",n),i.onload=e,i.onerror=s=>{const l=Ri("internal-error");l.customData=s,t(l)},i.type="text/javascript",i.charset="UTF-8",Z4().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});K4("Browser");var J4=function(e){return eP(e)&&!tP(e)};function eP(n){return!!n&&typeof n=="object"}function tP(n){var e=Object.prototype.toString.call(n);return e==="[object RegExp]"||e==="[object Date]"||iP(n)}var nP=typeof Symbol=="function"&&Symbol.for,rP=nP?Symbol.for("react.element"):60103;function iP(n){return n.$$typeof===rP}function aP(n){return Array.isArray(n)?[]:{}}function Hh(n,e){return e.clone!==!1&&e.isMergeableObject(n)?hc(aP(n),n,e):n}function sP(n,e,t){return n.concat(e).map(function(i){return Hh(i,t)})}function oP(n,e,t){var i={};return t.isMergeableObject(n)&&Object.keys(n).forEach(function(s){i[s]=Hh(n[s],t)}),Object.keys(e).forEach(function(s){!t.isMergeableObject(e[s])||!n[s]?i[s]=Hh(e[s],t):i[s]=hc(n[s],e[s],t)}),i}function hc(n,e,t){t=t||{},t.arrayMerge=t.arrayMerge||sP,t.isMergeableObject=t.isMergeableObject||J4;var i=Array.isArray(e),s=Array.isArray(n),l=i===s;return l?i?t.arrayMerge(n,e,t):oP(n,e,t):Hh(e,t)}hc.all=function(e,t){if(!Array.isArray(e))throw new Error("first argument should be an array");return e.reduce(function(i,s){return hc(i,s,t)},{})};var Bg=hc,z1=typeof global=="object"&&global&&global.Object===Object&&global,lP=typeof self=="object"&&self&&self.Object===Object&&self,Ni=z1||lP||Function("return this")(),us=Ni.Symbol,F1=Object.prototype,uP=F1.hasOwnProperty,cP=F1.toString,Ku=us?us.toStringTag:void 0;function fP(n){var e=uP.call(n,Ku),t=n[Ku];try{n[Ku]=void 0;var i=!0}catch{}var s=cP.call(n);return i&&(e?n[Ku]=t:delete n[Ku]),s}var hP=Object.prototype,dP=hP.toString;function mP(n){return dP.call(n)}var pP="[object Null]",gP="[object Undefined]",ZT=us?us.toStringTag:void 0;function ho(n){return n==null?n===void 0?gP:pP:ZT&&ZT in Object(n)?fP(n):mP(n)}function B1(n,e){return function(t){return n(e(t))}}var jy=B1(Object.getPrototypeOf,Object);function mo(n){return n!=null&&typeof n=="object"}var yP="[object Object]",vP=Function.prototype,_P=Object.prototype,$1=vP.toString,EP=_P.hasOwnProperty,TP=$1.call(Object);function JT(n){if(!mo(n)||ho(n)!=yP)return!1;var e=jy(n);if(e===null)return!0;var t=EP.call(e,"constructor")&&e.constructor;return typeof t=="function"&&t instanceof t&&$1.call(t)==TP}function bP(){this.__data__=[],this.size=0}function H1(n,e){return n===e||n!==n&&e!==e}function vd(n,e){for(var t=n.length;t--;)if(H1(n[t][0],e))return t;return-1}var SP=Array.prototype,wP=SP.splice;function AP(n){var e=this.__data__,t=vd(e,n);if(t<0)return!1;var i=e.length-1;return t==i?e.pop():wP.call(e,t,1),--this.size,!0}function RP(n){var e=this.__data__,t=vd(e,n);return t<0?void 0:e[t][1]}function CP(n){return vd(this.__data__,n)>-1}function IP(n,e){var t=this.__data__,i=vd(t,n);return i<0?(++this.size,t.push([n,e])):t[i][1]=e,this}function ya(n){var e=-1,t=n==null?0:n.length;for(this.clear();++e<t;){var i=n[e];this.set(i[0],i[1])}}ya.prototype.clear=bP;ya.prototype.delete=AP;ya.prototype.get=RP;ya.prototype.has=CP;ya.prototype.set=IP;function DP(){this.__data__=new ya,this.size=0}function OP(n){var e=this.__data__,t=e.delete(n);return this.size=e.size,t}function xP(n){return this.__data__.get(n)}function NP(n){return this.__data__.has(n)}function Nc(n){var e=typeof n;return n!=null&&(e=="object"||e=="function")}var MP="[object AsyncFunction]",PP="[object Function]",LP="[object GeneratorFunction]",VP="[object Proxy]";function q1(n){if(!Nc(n))return!1;var e=ho(n);return e==PP||e==LP||e==MP||e==VP}var ng=Ni["__core-js_shared__"],eb=function(){var n=/[^.]+$/.exec(ng&&ng.keys&&ng.keys.IE_PROTO||"");return n?"Symbol(src)_1."+n:""}();function kP(n){return!!eb&&eb in n}var UP=Function.prototype,jP=UP.toString;function po(n){if(n!=null){try{return jP.call(n)}catch{}try{return n+""}catch{}}return""}var zP=/[\\^$.*+?()[\]{}|]/g,FP=/^\[object .+?Constructor\]$/,BP=Function.prototype,$P=Object.prototype,HP=BP.toString,qP=$P.hasOwnProperty,GP=RegExp("^"+HP.call(qP).replace(zP,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function KP(n){if(!Nc(n)||kP(n))return!1;var e=q1(n)?GP:FP;return e.test(po(n))}function QP(n,e){return n==null?void 0:n[e]}function go(n,e){var t=QP(n,e);return KP(t)?t:void 0}var dc=go(Ni,"Map"),mc=go(Object,"create");function YP(){this.__data__=mc?mc(null):{},this.size=0}function XP(n){var e=this.has(n)&&delete this.__data__[n];return this.size-=e?1:0,e}var WP="__lodash_hash_undefined__",ZP=Object.prototype,JP=ZP.hasOwnProperty;function eL(n){var e=this.__data__;if(mc){var t=e[n];return t===WP?void 0:t}return JP.call(e,n)?e[n]:void 0}var tL=Object.prototype,nL=tL.hasOwnProperty;function rL(n){var e=this.__data__;return mc?e[n]!==void 0:nL.call(e,n)}var iL="__lodash_hash_undefined__";function aL(n,e){var t=this.__data__;return this.size+=this.has(n)?0:1,t[n]=mc&&e===void 0?iL:e,this}function oo(n){var e=-1,t=n==null?0:n.length;for(this.clear();++e<t;){var i=n[e];this.set(i[0],i[1])}}oo.prototype.clear=YP;oo.prototype.delete=XP;oo.prototype.get=eL;oo.prototype.has=rL;oo.prototype.set=aL;function sL(){this.size=0,this.__data__={hash:new oo,map:new(dc||ya),string:new oo}}function oL(n){var e=typeof n;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?n!=="__proto__":n===null}function _d(n,e){var t=n.__data__;return oL(e)?t[typeof e=="string"?"string":"hash"]:t.map}function lL(n){var e=_d(this,n).delete(n);return this.size-=e?1:0,e}function uL(n){return _d(this,n).get(n)}function cL(n){return _d(this,n).has(n)}function fL(n,e){var t=_d(this,n),i=t.size;return t.set(n,e),this.size+=t.size==i?0:1,this}function ys(n){var e=-1,t=n==null?0:n.length;for(this.clear();++e<t;){var i=n[e];this.set(i[0],i[1])}}ys.prototype.clear=sL;ys.prototype.delete=lL;ys.prototype.get=uL;ys.prototype.has=cL;ys.prototype.set=fL;var hL=200;function dL(n,e){var t=this.__data__;if(t instanceof ya){var i=t.__data__;if(!dc||i.length<hL-1)return i.push([n,e]),this.size=++t.size,this;t=this.__data__=new ys(i)}return t.set(n,e),this.size=t.size,this}function kl(n){var e=this.__data__=new ya(n);this.size=e.size}kl.prototype.clear=DP;kl.prototype.delete=OP;kl.prototype.get=xP;kl.prototype.has=NP;kl.prototype.set=dL;function mL(n,e){for(var t=-1,i=n==null?0:n.length;++t<i&&e(n[t],t,n)!==!1;);return n}var tb=function(){try{var n=go(Object,"defineProperty");return n({},"",{}),n}catch{}}();function G1(n,e,t){e=="__proto__"&&tb?tb(n,e,{configurable:!0,enumerable:!0,value:t,writable:!0}):n[e]=t}var pL=Object.prototype,gL=pL.hasOwnProperty;function K1(n,e,t){var i=n[e];(!(gL.call(n,e)&&H1(i,t))||t===void 0&&!(e in n))&&G1(n,e,t)}function Ed(n,e,t,i){var s=!t;t||(t={});for(var l=-1,c=e.length;++l<c;){var h=e[l],m=void 0;m===void 0&&(m=n[h]),s?G1(t,h,m):K1(t,h,m)}return t}function yL(n,e){for(var t=-1,i=Array(n);++t<n;)i[t]=e(t);return i}var vL="[object Arguments]";function nb(n){return mo(n)&&ho(n)==vL}var Q1=Object.prototype,_L=Q1.hasOwnProperty,EL=Q1.propertyIsEnumerable,TL=nb(function(){return arguments}())?nb:function(n){return mo(n)&&_L.call(n,"callee")&&!EL.call(n,"callee")},Mc=Array.isArray;function bL(){return!1}var Y1=typeof mr=="object"&&mr&&!mr.nodeType&&mr,rb=Y1&&typeof pr=="object"&&pr&&!pr.nodeType&&pr,SL=rb&&rb.exports===Y1,ib=SL?Ni.Buffer:void 0,wL=ib?ib.isBuffer:void 0,X1=wL||bL,AL=9007199254740991,RL=/^(?:0|[1-9]\d*)$/;function CL(n,e){var t=typeof n;return e=e??AL,!!e&&(t=="number"||t!="symbol"&&RL.test(n))&&n>-1&&n%1==0&&n<e}var IL=9007199254740991;function W1(n){return typeof n=="number"&&n>-1&&n%1==0&&n<=IL}var DL="[object Arguments]",OL="[object Array]",xL="[object Boolean]",NL="[object Date]",ML="[object Error]",PL="[object Function]",LL="[object Map]",VL="[object Number]",kL="[object Object]",UL="[object RegExp]",jL="[object Set]",zL="[object String]",FL="[object WeakMap]",BL="[object ArrayBuffer]",$L="[object DataView]",HL="[object Float32Array]",qL="[object Float64Array]",GL="[object Int8Array]",KL="[object Int16Array]",QL="[object Int32Array]",YL="[object Uint8Array]",XL="[object Uint8ClampedArray]",WL="[object Uint16Array]",ZL="[object Uint32Array]",Pt={};Pt[HL]=Pt[qL]=Pt[GL]=Pt[KL]=Pt[QL]=Pt[YL]=Pt[XL]=Pt[WL]=Pt[ZL]=!0;Pt[DL]=Pt[OL]=Pt[BL]=Pt[xL]=Pt[$L]=Pt[NL]=Pt[ML]=Pt[PL]=Pt[LL]=Pt[VL]=Pt[kL]=Pt[UL]=Pt[jL]=Pt[zL]=Pt[FL]=!1;function JL(n){return mo(n)&&W1(n.length)&&!!Pt[ho(n)]}function zy(n){return function(e){return n(e)}}var Z1=typeof mr=="object"&&mr&&!mr.nodeType&&mr,nc=Z1&&typeof pr=="object"&&pr&&!pr.nodeType&&pr,eV=nc&&nc.exports===Z1,rg=eV&&z1.process,Al=function(){try{var n=nc&&nc.require&&nc.require("util").types;return n||rg&&rg.binding&&rg.binding("util")}catch{}}(),ab=Al&&Al.isTypedArray,tV=ab?zy(ab):JL,nV=Object.prototype,rV=nV.hasOwnProperty;function J1(n,e){var t=Mc(n),i=!t&&TL(n),s=!t&&!i&&X1(n),l=!t&&!i&&!s&&tV(n),c=t||i||s||l,h=c?yL(n.length,String):[],m=h.length;for(var p in n)(e||rV.call(n,p))&&!(c&&(p=="length"||s&&(p=="offset"||p=="parent")||l&&(p=="buffer"||p=="byteLength"||p=="byteOffset")||CL(p,m)))&&h.push(p);return h}var iV=Object.prototype;function Fy(n){var e=n&&n.constructor,t=typeof e=="function"&&e.prototype||iV;return n===t}var aV=B1(Object.keys,Object),sV=Object.prototype,oV=sV.hasOwnProperty;function lV(n){if(!Fy(n))return aV(n);var e=[];for(var t in Object(n))oV.call(n,t)&&t!="constructor"&&e.push(t);return e}function eA(n){return n!=null&&W1(n.length)&&!q1(n)}function By(n){return eA(n)?J1(n):lV(n)}function uV(n,e){return n&&Ed(e,By(e),n)}function cV(n){var e=[];if(n!=null)for(var t in Object(n))e.push(t);return e}var fV=Object.prototype,hV=fV.hasOwnProperty;function dV(n){if(!Nc(n))return cV(n);var e=Fy(n),t=[];for(var i in n)i=="constructor"&&(e||!hV.call(n,i))||t.push(i);return t}function $y(n){return eA(n)?J1(n,!0):dV(n)}function mV(n,e){return n&&Ed(e,$y(e),n)}var tA=typeof mr=="object"&&mr&&!mr.nodeType&&mr,sb=tA&&typeof pr=="object"&&pr&&!pr.nodeType&&pr,pV=sb&&sb.exports===tA,ob=pV?Ni.Buffer:void 0,lb=ob?ob.allocUnsafe:void 0;function gV(n,e){if(e)return n.slice();var t=n.length,i=lb?lb(t):new n.constructor(t);return n.copy(i),i}function nA(n,e){var t=-1,i=n.length;for(e||(e=Array(i));++t<i;)e[t]=n[t];return e}function yV(n,e){for(var t=-1,i=n==null?0:n.length,s=0,l=[];++t<i;){var c=n[t];e(c,t,n)&&(l[s++]=c)}return l}function rA(){return[]}var vV=Object.prototype,_V=vV.propertyIsEnumerable,ub=Object.getOwnPropertySymbols,Hy=ub?function(n){return n==null?[]:(n=Object(n),yV(ub(n),function(e){return _V.call(n,e)}))}:rA;function EV(n,e){return Ed(n,Hy(n),e)}function iA(n,e){for(var t=-1,i=e.length,s=n.length;++t<i;)n[s+t]=e[t];return n}var TV=Object.getOwnPropertySymbols,aA=TV?function(n){for(var e=[];n;)iA(e,Hy(n)),n=jy(n);return e}:rA;function bV(n,e){return Ed(n,aA(n),e)}function sA(n,e,t){var i=e(n);return Mc(n)?i:iA(i,t(n))}function SV(n){return sA(n,By,Hy)}function wV(n){return sA(n,$y,aA)}var $g=go(Ni,"DataView"),Hg=go(Ni,"Promise"),qg=go(Ni,"Set"),Gg=go(Ni,"WeakMap"),cb="[object Map]",AV="[object Object]",fb="[object Promise]",hb="[object Set]",db="[object WeakMap]",mb="[object DataView]",RV=po($g),CV=po(dc),IV=po(Hg),DV=po(qg),OV=po(Gg),ia=ho;($g&&ia(new $g(new ArrayBuffer(1)))!=mb||dc&&ia(new dc)!=cb||Hg&&ia(Hg.resolve())!=fb||qg&&ia(new qg)!=hb||Gg&&ia(new Gg)!=db)&&(ia=function(n){var e=ho(n),t=e==AV?n.constructor:void 0,i=t?po(t):"";if(i)switch(i){case RV:return mb;case CV:return cb;case IV:return fb;case DV:return hb;case OV:return db}return e});var xV=Object.prototype,NV=xV.hasOwnProperty;function MV(n){var e=n.length,t=new n.constructor(e);return e&&typeof n[0]=="string"&&NV.call(n,"index")&&(t.index=n.index,t.input=n.input),t}var pb=Ni.Uint8Array;function qy(n){var e=new n.constructor(n.byteLength);return new pb(e).set(new pb(n)),e}function PV(n,e){var t=e?qy(n.buffer):n.buffer;return new n.constructor(t,n.byteOffset,n.byteLength)}var LV=/\w*$/;function VV(n){var e=new n.constructor(n.source,LV.exec(n));return e.lastIndex=n.lastIndex,e}var gb=us?us.prototype:void 0,yb=gb?gb.valueOf:void 0;function kV(n){return yb?Object(yb.call(n)):{}}function UV(n,e){var t=e?qy(n.buffer):n.buffer;return new n.constructor(t,n.byteOffset,n.length)}var jV="[object Boolean]",zV="[object Date]",FV="[object Map]",BV="[object Number]",$V="[object RegExp]",HV="[object Set]",qV="[object String]",GV="[object Symbol]",KV="[object ArrayBuffer]",QV="[object DataView]",YV="[object Float32Array]",XV="[object Float64Array]",WV="[object Int8Array]",ZV="[object Int16Array]",JV="[object Int32Array]",e6="[object Uint8Array]",t6="[object Uint8ClampedArray]",n6="[object Uint16Array]",r6="[object Uint32Array]";function i6(n,e,t){var i=n.constructor;switch(e){case KV:return qy(n);case jV:case zV:return new i(+n);case QV:return PV(n,t);case YV:case XV:case WV:case ZV:case JV:case e6:case t6:case n6:case r6:return UV(n,t);case FV:return new i;case BV:case qV:return new i(n);case $V:return VV(n);case HV:return new i;case GV:return kV(n)}}var vb=Object.create,a6=function(){function n(){}return function(e){if(!Nc(e))return{};if(vb)return vb(e);n.prototype=e;var t=new n;return n.prototype=void 0,t}}();function s6(n){return typeof n.constructor=="function"&&!Fy(n)?a6(jy(n)):{}}var o6="[object Map]";function l6(n){return mo(n)&&ia(n)==o6}var _b=Al&&Al.isMap,u6=_b?zy(_b):l6,c6="[object Set]";function f6(n){return mo(n)&&ia(n)==c6}var Eb=Al&&Al.isSet,h6=Eb?zy(Eb):f6,d6=1,m6=2,p6=4,oA="[object Arguments]",g6="[object Array]",y6="[object Boolean]",v6="[object Date]",_6="[object Error]",lA="[object Function]",E6="[object GeneratorFunction]",T6="[object Map]",b6="[object Number]",uA="[object Object]",S6="[object RegExp]",w6="[object Set]",A6="[object String]",R6="[object Symbol]",C6="[object WeakMap]",I6="[object ArrayBuffer]",D6="[object DataView]",O6="[object Float32Array]",x6="[object Float64Array]",N6="[object Int8Array]",M6="[object Int16Array]",P6="[object Int32Array]",L6="[object Uint8Array]",V6="[object Uint8ClampedArray]",k6="[object Uint16Array]",U6="[object Uint32Array]",Mt={};Mt[oA]=Mt[g6]=Mt[I6]=Mt[D6]=Mt[y6]=Mt[v6]=Mt[O6]=Mt[x6]=Mt[N6]=Mt[M6]=Mt[P6]=Mt[T6]=Mt[b6]=Mt[uA]=Mt[S6]=Mt[w6]=Mt[A6]=Mt[R6]=Mt[L6]=Mt[V6]=Mt[k6]=Mt[U6]=!0;Mt[_6]=Mt[lA]=Mt[C6]=!1;function rc(n,e,t,i,s,l){var c,h=e&d6,m=e&m6,p=e&p6;if(c!==void 0)return c;if(!Nc(n))return n;var y=Mc(n);if(y){if(c=MV(n),!h)return nA(n,c)}else{var _=ia(n),E=_==lA||_==E6;if(X1(n))return gV(n,h);if(_==uA||_==oA||E&&!s){if(c=m||E?{}:s6(n),!h)return m?bV(n,mV(c,n)):EV(n,uV(c,n))}else{if(!Mt[_])return s?n:{};c=i6(n,_,h)}}l||(l=new kl);var w=l.get(n);if(w)return w;l.set(n,c),h6(n)?n.forEach(function(L){c.add(rc(L,e,t,L,n,l))}):u6(n)&&n.forEach(function(L,x){c.set(x,rc(L,e,t,x,n,l))});var R=p?m?wV:SV:m?$y:By,P=y?void 0:R(n);return mL(P||n,function(L,x){P&&(x=L,L=n[x]),K1(c,x,rc(L,e,t,x,n,l))}),c}var j6=1,z6=4;function rh(n){return rc(n,j6|z6)}var ig,Tb;function F6(){if(Tb)return ig;Tb=1;var n=Array.isArray,e=Object.keys,t=Object.prototype.hasOwnProperty,i=typeof Element<"u";function s(l,c){if(l===c)return!0;if(l&&c&&typeof l=="object"&&typeof c=="object"){var h=n(l),m=n(c),p,y,_;if(h&&m){if(y=l.length,y!=c.length)return!1;for(p=y;p--!==0;)if(!s(l[p],c[p]))return!1;return!0}if(h!=m)return!1;var E=l instanceof Date,w=c instanceof Date;if(E!=w)return!1;if(E&&w)return l.getTime()==c.getTime();var R=l instanceof RegExp,P=c instanceof RegExp;if(R!=P)return!1;if(R&&P)return l.toString()==c.toString();var L=e(l);if(y=L.length,y!==e(c).length)return!1;for(p=y;p--!==0;)if(!t.call(c,L[p]))return!1;if(i&&l instanceof Element&&c instanceof Element)return l===c;for(p=y;p--!==0;)if(_=L[p],!(_==="_owner"&&l.$$typeof)&&!s(l[_],c[_]))return!1;return!0}return l!==l&&c!==c}return ig=function(c,h){try{return s(c,h)}catch(m){if(m.message&&m.message.match(/stack|recursion/i)||m.number===-2146828260)return console.warn("Warning: react-fast-compare does not handle circular references.",m.name,m.message),!1;throw m}},ig}var B6=F6();const Ys=Nl(B6);var $6=4;function bb(n){return rc(n,$6)}function cA(n,e){for(var t=-1,i=n==null?0:n.length,s=Array(i);++t<i;)s[t]=e(n[t],t,n);return s}var H6="[object Symbol]";function Gy(n){return typeof n=="symbol"||mo(n)&&ho(n)==H6}var q6="Expected a function";function Ky(n,e){if(typeof n!="function"||e!=null&&typeof e!="function")throw new TypeError(q6);var t=function(){var i=arguments,s=e?e.apply(this,i):i[0],l=t.cache;if(l.has(s))return l.get(s);var c=n.apply(this,i);return t.cache=l.set(s,c)||l,c};return t.cache=new(Ky.Cache||ys),t}Ky.Cache=ys;var G6=500;function K6(n){var e=Ky(n,function(i){return t.size===G6&&t.clear(),i}),t=e.cache;return e}var Q6=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Y6=/\\(\\)?/g,X6=K6(function(n){var e=[];return n.charCodeAt(0)===46&&e.push(""),n.replace(Q6,function(t,i,s,l){e.push(s?l.replace(Y6,"$1"):i||t)}),e});function W6(n){if(typeof n=="string"||Gy(n))return n;var e=n+"";return e=="0"&&1/n==-1/0?"-0":e}var Sb=us?us.prototype:void 0,wb=Sb?Sb.toString:void 0;function fA(n){if(typeof n=="string")return n;if(Mc(n))return cA(n,fA)+"";if(Gy(n))return wb?wb.call(n):"";var e=n+"";return e=="0"&&1/n==-1/0?"-0":e}function Z6(n){return n==null?"":fA(n)}function hA(n){return Mc(n)?cA(n,W6):Gy(n)?[n]:nA(X6(Z6(n)))}var ag={exports:{}},Et={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ab;function J6(){if(Ab)return Et;Ab=1;var n=typeof Symbol=="function"&&Symbol.for,e=n?Symbol.for("react.element"):60103,t=n?Symbol.for("react.portal"):60106,i=n?Symbol.for("react.fragment"):60107,s=n?Symbol.for("react.strict_mode"):60108,l=n?Symbol.for("react.profiler"):60114,c=n?Symbol.for("react.provider"):60109,h=n?Symbol.for("react.context"):60110,m=n?Symbol.for("react.async_mode"):60111,p=n?Symbol.for("react.concurrent_mode"):60111,y=n?Symbol.for("react.forward_ref"):60112,_=n?Symbol.for("react.suspense"):60113,E=n?Symbol.for("react.suspense_list"):60120,w=n?Symbol.for("react.memo"):60115,R=n?Symbol.for("react.lazy"):60116,P=n?Symbol.for("react.block"):60121,L=n?Symbol.for("react.fundamental"):60117,x=n?Symbol.for("react.responder"):60118,$=n?Symbol.for("react.scope"):60119;function ne(H){if(typeof H=="object"&&H!==null){var V=H.$$typeof;switch(V){case e:switch(H=H.type,H){case m:case p:case i:case l:case s:case _:return H;default:switch(H=H&&H.$$typeof,H){case h:case y:case R:case w:case c:return H;default:return V}}case t:return V}}}function fe(H){return ne(H)===p}return Et.AsyncMode=m,Et.ConcurrentMode=p,Et.ContextConsumer=h,Et.ContextProvider=c,Et.Element=e,Et.ForwardRef=y,Et.Fragment=i,Et.Lazy=R,Et.Memo=w,Et.Portal=t,Et.Profiler=l,Et.StrictMode=s,Et.Suspense=_,Et.isAsyncMode=function(H){return fe(H)||ne(H)===m},Et.isConcurrentMode=fe,Et.isContextConsumer=function(H){return ne(H)===h},Et.isContextProvider=function(H){return ne(H)===c},Et.isElement=function(H){return typeof H=="object"&&H!==null&&H.$$typeof===e},Et.isForwardRef=function(H){return ne(H)===y},Et.isFragment=function(H){return ne(H)===i},Et.isLazy=function(H){return ne(H)===R},Et.isMemo=function(H){return ne(H)===w},Et.isPortal=function(H){return ne(H)===t},Et.isProfiler=function(H){return ne(H)===l},Et.isStrictMode=function(H){return ne(H)===s},Et.isSuspense=function(H){return ne(H)===_},Et.isValidElementType=function(H){return typeof H=="string"||typeof H=="function"||H===i||H===p||H===l||H===s||H===_||H===E||typeof H=="object"&&H!==null&&(H.$$typeof===R||H.$$typeof===w||H.$$typeof===c||H.$$typeof===h||H.$$typeof===y||H.$$typeof===L||H.$$typeof===x||H.$$typeof===$||H.$$typeof===P)},Et.typeOf=ne,Et}var Rb;function ek(){return Rb||(Rb=1,ag.exports=J6()),ag.exports}var sg,Cb;function tk(){if(Cb)return sg;Cb=1;var n=ek(),e={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},t={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},i={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},s={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},l={};l[n.ForwardRef]=i,l[n.Memo]=s;function c(R){return n.isMemo(R)?s:l[R.$$typeof]||e}var h=Object.defineProperty,m=Object.getOwnPropertyNames,p=Object.getOwnPropertySymbols,y=Object.getOwnPropertyDescriptor,_=Object.getPrototypeOf,E=Object.prototype;function w(R,P,L){if(typeof P!="string"){if(E){var x=_(P);x&&x!==E&&w(R,x,L)}var $=m(P);p&&($=$.concat(p(P)));for(var ne=c(R),fe=c(P),H=0;H<$.length;++H){var V=$[H];if(!t[V]&&!(L&&L[V])&&!(fe&&fe[V])&&!(ne&&ne[V])){var O=y(P,V);try{h(R,V,O)}catch{}}}}return R}return sg=w,sg}tk();function pn(){return pn=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},pn.apply(this,arguments)}function dA(n,e){if(n==null)return{};var t={},i=Object.keys(n),s,l;for(l=0;l<i.length;l++)s=i[l],!(e.indexOf(s)>=0)&&(t[s]=n[s]);return t}var Td=N.createContext(void 0);Td.displayName="FormikContext";var nk=Td.Provider;Td.Consumer;function rk(){var n=N.useContext(Td);return n}var kr=function(e){return typeof e=="function"},bd=function(e){return e!==null&&typeof e=="object"},ik=function(e){return String(Math.floor(Number(e)))===e},og=function(e){return Object.prototype.toString.call(e)==="[object String]"},ak=function(e){return N.Children.count(e)===0},lg=function(e){return bd(e)&&kr(e.then)};function fr(n,e,t,i){i===void 0&&(i=0);for(var s=hA(e);n&&i<s.length;)n=n[s[i++]];return i!==s.length&&!n||n===void 0?t:n}function to(n,e,t){for(var i=bb(n),s=i,l=0,c=hA(e);l<c.length-1;l++){var h=c[l],m=fr(n,c.slice(0,l+1));if(m&&(bd(m)||Array.isArray(m)))s=s[h]=bb(m);else{var p=c[l+1];s=s[h]=ik(p)&&Number(p)>=0?[]:{}}}return(l===0?n:s)[c[l]]===t?n:(t===void 0?delete s[c[l]]:s[c[l]]=t,l===0&&t===void 0&&delete i[c[l]],i)}function mA(n,e,t,i){t===void 0&&(t=new WeakMap),i===void 0&&(i={});for(var s=0,l=Object.keys(n);s<l.length;s++){var c=l[s],h=n[c];bd(h)?t.get(h)||(t.set(h,!0),i[c]=Array.isArray(h)?[]:{},mA(h,e,t,i[c])):i[c]=e}return i}function sk(n,e){switch(e.type){case"SET_VALUES":return pn({},n,{values:e.payload});case"SET_TOUCHED":return pn({},n,{touched:e.payload});case"SET_ERRORS":return Ys(n.errors,e.payload)?n:pn({},n,{errors:e.payload});case"SET_STATUS":return pn({},n,{status:e.payload});case"SET_ISSUBMITTING":return pn({},n,{isSubmitting:e.payload});case"SET_ISVALIDATING":return pn({},n,{isValidating:e.payload});case"SET_FIELD_VALUE":return pn({},n,{values:to(n.values,e.payload.field,e.payload.value)});case"SET_FIELD_TOUCHED":return pn({},n,{touched:to(n.touched,e.payload.field,e.payload.value)});case"SET_FIELD_ERROR":return pn({},n,{errors:to(n.errors,e.payload.field,e.payload.value)});case"RESET_FORM":return pn({},n,e.payload);case"SET_FORMIK_STATE":return e.payload(n);case"SUBMIT_ATTEMPT":return pn({},n,{touched:mA(n.values,!0),isSubmitting:!0,submitCount:n.submitCount+1});case"SUBMIT_FAILURE":return pn({},n,{isSubmitting:!1});case"SUBMIT_SUCCESS":return pn({},n,{isSubmitting:!1});default:return n}}var Gs={},ih={};function ok(n){var e=n.validateOnChange,t=e===void 0?!0:e,i=n.validateOnBlur,s=i===void 0?!0:i,l=n.validateOnMount,c=l===void 0?!1:l,h=n.isInitialValid,m=n.enableReinitialize,p=m===void 0?!1:m,y=n.onSubmit,_=dA(n,["validateOnChange","validateOnBlur","validateOnMount","isInitialValid","enableReinitialize","onSubmit"]),E=pn({validateOnChange:t,validateOnBlur:s,validateOnMount:c,onSubmit:y},_),w=N.useRef(E.initialValues),R=N.useRef(E.initialErrors||Gs),P=N.useRef(E.initialTouched||ih),L=N.useRef(E.initialStatus),x=N.useRef(!1),$=N.useRef({});N.useEffect(function(){return x.current=!0,function(){x.current=!1}},[]);var ne=N.useState(0),fe=ne[1],H=N.useRef({values:rh(E.initialValues),errors:rh(E.initialErrors)||Gs,touched:rh(E.initialTouched)||ih,status:rh(E.initialStatus),isSubmitting:!1,isValidating:!1,submitCount:0}),V=H.current,O=N.useCallback(function(ee){var ye=H.current;H.current=sk(ye,ee),ye!==H.current&&fe(function(Ae){return Ae+1})},[]),C=N.useCallback(function(ee,ye){return new Promise(function(Ae,De){var _e=E.validate(ee,ye);_e==null?Ae(Gs):lg(_e)?_e.then(function(Ee){Ae(Ee||Gs)},function(Ee){De(Ee)}):Ae(_e)})},[E.validate]),I=N.useCallback(function(ee,ye){var Ae=E.validationSchema,De=kr(Ae)?Ae(ye):Ae,_e=ye&&De.validateAt?De.validateAt(ye,ee):uk(ee,De);return new Promise(function(Ee,ht){_e.then(function(){Ee(Gs)},function(yt){yt.name==="ValidationError"?Ee(lk(yt)):ht(yt)})})},[E.validationSchema]),j=N.useCallback(function(ee,ye){return new Promise(function(Ae){return Ae($.current[ee].validate(ye))})},[]),k=N.useCallback(function(ee){var ye=Object.keys($.current).filter(function(De){return kr($.current[De].validate)}),Ae=ye.length>0?ye.map(function(De){return j(De,fr(ee,De))}):[Promise.resolve("DO_NOT_DELETE_YOU_WILL_BE_FIRED")];return Promise.all(Ae).then(function(De){return De.reduce(function(_e,Ee,ht){return Ee==="DO_NOT_DELETE_YOU_WILL_BE_FIRED"||Ee&&(_e=to(_e,ye[ht],Ee)),_e},{})})},[j]),B=N.useCallback(function(ee){return Promise.all([k(ee),E.validationSchema?I(ee):{},E.validate?C(ee):{}]).then(function(ye){var Ae=ye[0],De=ye[1],_e=ye[2],Ee=Bg.all([Ae,De,_e],{arrayMerge:ck});return Ee})},[E.validate,E.validationSchema,k,C,I]),D=Vr(function(ee){return ee===void 0&&(ee=V.values),O({type:"SET_ISVALIDATING",payload:!0}),B(ee).then(function(ye){return x.current&&(O({type:"SET_ISVALIDATING",payload:!1}),O({type:"SET_ERRORS",payload:ye})),ye})});N.useEffect(function(){c&&x.current===!0&&Ys(w.current,E.initialValues)&&D(w.current)},[c,D]);var Pe=N.useCallback(function(ee){var ye=ee&&ee.values?ee.values:w.current,Ae=ee&&ee.errors?ee.errors:R.current?R.current:E.initialErrors||{},De=ee&&ee.touched?ee.touched:P.current?P.current:E.initialTouched||{},_e=ee&&ee.status?ee.status:L.current?L.current:E.initialStatus;w.current=ye,R.current=Ae,P.current=De,L.current=_e;var Ee=function(){O({type:"RESET_FORM",payload:{isSubmitting:!!ee&&!!ee.isSubmitting,errors:Ae,touched:De,status:_e,values:ye,isValidating:!!ee&&!!ee.isValidating,submitCount:ee&&ee.submitCount&&typeof ee.submitCount=="number"?ee.submitCount:0}})};if(E.onReset){var ht=E.onReset(V.values,vr);lg(ht)?ht.then(Ee):Ee()}else Ee()},[E.initialErrors,E.initialStatus,E.initialTouched,E.onReset]);N.useEffect(function(){x.current===!0&&!Ys(w.current,E.initialValues)&&p&&(w.current=E.initialValues,Pe(),c&&D(w.current))},[p,E.initialValues,Pe,c,D]),N.useEffect(function(){p&&x.current===!0&&!Ys(R.current,E.initialErrors)&&(R.current=E.initialErrors||Gs,O({type:"SET_ERRORS",payload:E.initialErrors||Gs}))},[p,E.initialErrors]),N.useEffect(function(){p&&x.current===!0&&!Ys(P.current,E.initialTouched)&&(P.current=E.initialTouched||ih,O({type:"SET_TOUCHED",payload:E.initialTouched||ih}))},[p,E.initialTouched]),N.useEffect(function(){p&&x.current===!0&&!Ys(L.current,E.initialStatus)&&(L.current=E.initialStatus,O({type:"SET_STATUS",payload:E.initialStatus}))},[p,E.initialStatus,E.initialTouched]);var Qe=Vr(function(ee){if($.current[ee]&&kr($.current[ee].validate)){var ye=fr(V.values,ee),Ae=$.current[ee].validate(ye);return lg(Ae)?(O({type:"SET_ISVALIDATING",payload:!0}),Ae.then(function(De){return De}).then(function(De){O({type:"SET_FIELD_ERROR",payload:{field:ee,value:De}}),O({type:"SET_ISVALIDATING",payload:!1})})):(O({type:"SET_FIELD_ERROR",payload:{field:ee,value:Ae}}),Promise.resolve(Ae))}else if(E.validationSchema)return O({type:"SET_ISVALIDATING",payload:!0}),I(V.values,ee).then(function(De){return De}).then(function(De){O({type:"SET_FIELD_ERROR",payload:{field:ee,value:fr(De,ee)}}),O({type:"SET_ISVALIDATING",payload:!1})});return Promise.resolve()}),Z=N.useCallback(function(ee,ye){var Ae=ye.validate;$.current[ee]={validate:Ae}},[]),me=N.useCallback(function(ee){delete $.current[ee]},[]),ve=Vr(function(ee,ye){O({type:"SET_TOUCHED",payload:ee});var Ae=ye===void 0?s:ye;return Ae?D(V.values):Promise.resolve()}),He=N.useCallback(function(ee){O({type:"SET_ERRORS",payload:ee})},[]),U=Vr(function(ee,ye){var Ae=kr(ee)?ee(V.values):ee;O({type:"SET_VALUES",payload:Ae});var De=ye===void 0?t:ye;return De?D(Ae):Promise.resolve()}),ae=N.useCallback(function(ee,ye){O({type:"SET_FIELD_ERROR",payload:{field:ee,value:ye}})},[]),pe=Vr(function(ee,ye,Ae){O({type:"SET_FIELD_VALUE",payload:{field:ee,value:ye}});var De=Ae===void 0?t:Ae;return De?D(to(V.values,ee,ye)):Promise.resolve()}),ce=N.useCallback(function(ee,ye){var Ae=ye,De=ee,_e;if(!og(ee)){ee.persist&&ee.persist();var Ee=ee.target?ee.target:ee.currentTarget,ht=Ee.type,yt=Ee.name,ai=Ee.id,Dn=Ee.value,_r=Ee.checked;Ee.outerHTML;var Wn=Ee.options,Er=Ee.multiple;Ae=ye||yt||ai,De=/number|range/.test(ht)?(_e=parseFloat(Dn),isNaN(_e)?"":_e):/checkbox/.test(ht)?hk(fr(V.values,Ae),_r,Dn):Wn&&Er?fk(Wn):Dn}Ae&&pe(Ae,De)},[pe,V.values]),we=Vr(function(ee){if(og(ee))return function(ye){return ce(ye,ee)};ce(ee)}),Ue=Vr(function(ee,ye,Ae){ye===void 0&&(ye=!0),O({type:"SET_FIELD_TOUCHED",payload:{field:ee,value:ye}});var De=Ae===void 0?s:Ae;return De?D(V.values):Promise.resolve()}),Oe=N.useCallback(function(ee,ye){ee.persist&&ee.persist();var Ae=ee.target,De=Ae.name,_e=Ae.id;Ae.outerHTML;var Ee=ye||De||_e;Ue(Ee,!0)},[Ue]),Vt=Vr(function(ee){if(og(ee))return function(ye){return Oe(ye,ee)};Oe(ee)}),pt=N.useCallback(function(ee){kr(ee)?O({type:"SET_FORMIK_STATE",payload:ee}):O({type:"SET_FORMIK_STATE",payload:function(){return ee}})},[]),Vn=N.useCallback(function(ee){O({type:"SET_STATUS",payload:ee})},[]),Dt=N.useCallback(function(ee){O({type:"SET_ISSUBMITTING",payload:ee})},[]),Yt=Vr(function(){return O({type:"SUBMIT_ATTEMPT"}),D().then(function(ee){var ye=ee instanceof Error,Ae=!ye&&Object.keys(ee).length===0;if(Ae){var De;try{if(De=yn(),De===void 0)return}catch(_e){throw _e}return Promise.resolve(De).then(function(_e){return x.current&&O({type:"SUBMIT_SUCCESS"}),_e}).catch(function(_e){if(x.current)throw O({type:"SUBMIT_FAILURE"}),_e})}else if(x.current&&(O({type:"SUBMIT_FAILURE"}),ye))throw ee})}),yr=Vr(function(ee){ee&&ee.preventDefault&&kr(ee.preventDefault)&&ee.preventDefault(),ee&&ee.stopPropagation&&kr(ee.stopPropagation)&&ee.stopPropagation(),Yt().catch(function(ye){console.warn("Warning: An unhandled error was caught from submitForm()",ye)})}),vr={resetForm:Pe,validateForm:D,validateField:Qe,setErrors:He,setFieldError:ae,setFieldTouched:Ue,setFieldValue:pe,setStatus:Vn,setSubmitting:Dt,setTouched:ve,setValues:U,setFormikState:pt,submitForm:Yt},yn=Vr(function(){return y(V.values,vr)}),Mi=Vr(function(ee){ee&&ee.preventDefault&&kr(ee.preventDefault)&&ee.preventDefault(),ee&&ee.stopPropagation&&kr(ee.stopPropagation)&&ee.stopPropagation(),Pe()}),va=N.useCallback(function(ee){return{value:fr(V.values,ee),error:fr(V.errors,ee),touched:!!fr(V.touched,ee),initialValue:fr(w.current,ee),initialTouched:!!fr(P.current,ee),initialError:fr(R.current,ee)}},[V.errors,V.touched,V.values]),vn=N.useCallback(function(ee){return{setValue:function(Ae,De){return pe(ee,Ae,De)},setTouched:function(Ae,De){return Ue(ee,Ae,De)},setError:function(Ae){return ae(ee,Ae)}}},[pe,Ue,ae]),vs=N.useCallback(function(ee){var ye=bd(ee),Ae=ye?ee.name:ee,De=fr(V.values,Ae),_e={name:Ae,value:De,onChange:we,onBlur:Vt};if(ye){var Ee=ee.type,ht=ee.value,yt=ee.as,ai=ee.multiple;Ee==="checkbox"?ht===void 0?_e.checked=!!De:(_e.checked=!!(Array.isArray(De)&&~De.indexOf(ht)),_e.value=ht):Ee==="radio"?(_e.checked=De===ht,_e.value=ht):yt==="select"&&ai&&(_e.value=_e.value||[],_e.multiple=!0)}return _e},[Vt,we,V.values]),Hr=N.useMemo(function(){return!Ys(w.current,V.values)},[w.current,V.values]),ii=N.useMemo(function(){return typeof h<"u"?Hr?V.errors&&Object.keys(V.errors).length===0:h!==!1&&kr(h)?h(E):h:V.errors&&Object.keys(V.errors).length===0},[h,Hr,V.errors,E]),qr=pn({},V,{initialValues:w.current,initialErrors:R.current,initialTouched:P.current,initialStatus:L.current,handleBlur:Vt,handleChange:we,handleReset:Mi,handleSubmit:yr,resetForm:Pe,setErrors:He,setFormikState:pt,setFieldTouched:Ue,setFieldValue:pe,setFieldError:ae,setStatus:Vn,setSubmitting:Dt,setTouched:ve,setValues:U,submitForm:Yt,validateForm:D,validateField:Qe,isValid:ii,dirty:Hr,unregisterField:me,registerField:Z,getFieldProps:vs,getFieldMeta:va,getFieldHelpers:vn,validateOnBlur:s,validateOnChange:t,validateOnMount:c});return qr}function pA(n){var e=ok(n),t=n.component,i=n.children,s=n.render,l=n.innerRef;return N.useImperativeHandle(l,function(){return e}),N.createElement(nk,{value:e},t?N.createElement(t,e):s?s(e):i?kr(i)?i(e):ak(i)?null:N.Children.only(i):null)}function lk(n){var e={};if(n.inner){if(n.inner.length===0)return to(e,n.path,n.message);for(var s=n.inner,t=Array.isArray(s),i=0,s=t?s:s[Symbol.iterator]();;){var l;if(t){if(i>=s.length)break;l=s[i++]}else{if(i=s.next(),i.done)break;l=i.value}var c=l;fr(e,c.path)||(e=to(e,c.path,c.message))}}return e}function uk(n,e,t,i){t===void 0&&(t=!1);var s=Kg(n);return e[t?"validateSync":"validate"](s,{abortEarly:!1,context:s})}function Kg(n){var e=Array.isArray(n)?[]:{};for(var t in n)if(Object.prototype.hasOwnProperty.call(n,t)){var i=String(t);Array.isArray(n[i])===!0?e[i]=n[i].map(function(s){return Array.isArray(s)===!0||JT(s)?Kg(s):s!==""?s:void 0}):JT(n[i])?e[i]=Kg(n[i]):e[i]=n[i]!==""?n[i]:void 0}return e}function ck(n,e,t){var i=n.slice();return e.forEach(function(l,c){if(typeof i[c]>"u"){var h=t.clone!==!1,m=h&&t.isMergeableObject(l);i[c]=m?Bg(Array.isArray(l)?[]:{},l,t):l}else t.isMergeableObject(l)?i[c]=Bg(n[c],l,t):n.indexOf(l)===-1&&i.push(l)}),i}function fk(n){return Array.from(n).filter(function(e){return e.selected}).map(function(e){return e.value})}function hk(n,e,t){if(typeof n=="boolean")return!!e;var i=[],s=!1,l=-1;if(Array.isArray(n))i=n,l=n.indexOf(t),s=l>=0;else if(!t||t=="true"||t=="false")return!!e;return e&&t&&!s?i.concat(t):s?i.slice(0,l).concat(i.slice(l+1)):i}var dk=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?N.useLayoutEffect:N.useEffect;function Vr(n){var e=N.useRef(n);return dk(function(){e.current=n}),N.useCallback(function(){for(var t=arguments.length,i=new Array(t),s=0;s<t;s++)i[s]=arguments[s];return e.current.apply(void 0,i)},[])}var mk=N.forwardRef(function(n,e){var t=n.action,i=dA(n,["action"]),s=t??"#",l=rk(),c=l.handleReset,h=l.handleSubmit;return N.createElement("form",pn({onSubmit:h,ref:e,onReset:c,action:s},i))});mk.displayName="Form";var ug,Ib;function pk(){if(Ib)return ug;Ib=1;function n(x){this._maxSize=x,this.clear()}n.prototype.clear=function(){this._size=0,this._values=Object.create(null)},n.prototype.get=function(x){return this._values[x]},n.prototype.set=function(x,$){return this._size>=this._maxSize&&this.clear(),x in this._values||this._size++,this._values[x]=$};var e=/[^.^\]^[]+|(?=\[\]|\.\.)/g,t=/^\d+$/,i=/^\d/,s=/[~`!#$%\^&*+=\-\[\]\\';,/{}|\\":<>\?]/g,l=/^\s*(['"]?)(.*?)(\1)\s*$/,c=512,h=new n(c),m=new n(c),p=new n(c);ug={Cache:n,split:_,normalizePath:y,setter:function(x){var $=y(x);return m.get(x)||m.set(x,function(fe,H){for(var V=0,O=$.length,C=fe;V<O-1;){var I=$[V];if(I==="__proto__"||I==="constructor"||I==="prototype")return fe;C=C[$[V++]]}C[$[V]]=H})},getter:function(x,$){var ne=y(x);return p.get(x)||p.set(x,function(H){for(var V=0,O=ne.length;V<O;)if(H!=null||!$)H=H[ne[V++]];else return;return H})},join:function(x){return x.reduce(function($,ne){return $+(w(ne)||t.test(ne)?"["+ne+"]":($?".":"")+ne)},"")},forEach:function(x,$,ne){E(Array.isArray(x)?x:_(x),$,ne)}};function y(x){return h.get(x)||h.set(x,_(x).map(function($){return $.replace(l,"$2")}))}function _(x){return x.match(e)||[""]}function E(x,$,ne){var fe=x.length,H,V,O,C;for(V=0;V<fe;V++)H=x[V],H&&(L(H)&&(H='"'+H+'"'),C=w(H),O=!C&&/^\d+$/.test(H),$.call(ne,H,C,O,V,x))}function w(x){return typeof x=="string"&&x&&["'",'"'].indexOf(x.charAt(0))!==-1}function R(x){return x.match(i)&&!x.match(t)}function P(x){return s.test(x)}function L(x){return!w(x)&&(R(x)||P(x))}return ug}var no=pk(),cg,Db;function gk(){if(Db)return cg;Db=1;const n=/[A-Z\xc0-\xd6\xd8-\xde]?[a-z\xdf-\xf6\xf8-\xff]+(?:['’](?:d|ll|m|re|s|t|ve))?(?=[\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000]|[A-Z\xc0-\xd6\xd8-\xde]|$)|(?:[A-Z\xc0-\xd6\xd8-\xde]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])+(?:['’](?:D|LL|M|RE|S|T|VE))?(?=[\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000]|[A-Z\xc0-\xd6\xd8-\xde](?:[a-z\xdf-\xf6\xf8-\xff]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])|$)|[A-Z\xc0-\xd6\xd8-\xde]?(?:[a-z\xdf-\xf6\xf8-\xff]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])+(?:['’](?:d|ll|m|re|s|t|ve))?|[A-Z\xc0-\xd6\xd8-\xde]+(?:['’](?:D|LL|M|RE|S|T|VE))?|\d*(?:1ST|2ND|3RD|(?![123])\dTH)(?=\b|[a-z_])|\d*(?:1st|2nd|3rd|(?![123])\dth)(?=\b|[A-Z_])|\d+|(?:[\u2700-\u27bf]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff])[\ufe0e\ufe0f]?(?:[\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff]|\ud83c[\udffb-\udfff])?(?:\u200d(?:[^\ud800-\udfff]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff])[\ufe0e\ufe0f]?(?:[\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff]|\ud83c[\udffb-\udfff])?)*/g,e=y=>y.match(n)||[],t=y=>y[0].toUpperCase()+y.slice(1),i=(y,_)=>e(y).join(_).toLowerCase(),s=y=>e(y).reduce((_,E)=>`${_}${_?E[0].toUpperCase()+E.slice(1).toLowerCase():E.toLowerCase()}`,"");return cg={words:e,upperFirst:t,camelCase:s,pascalCase:y=>t(s(y)),snakeCase:y=>i(y,"_"),kebabCase:y=>i(y,"-"),sentenceCase:y=>t(i(y," ")),titleCase:y=>e(y).map(t).join(" ")},cg}var fg=gk(),ah={exports:{}},Ob;function yk(){if(Ob)return ah.exports;Ob=1,ah.exports=function(s){return n(e(s),s)},ah.exports.array=n;function n(s,l){var c=s.length,h=new Array(c),m={},p=c,y=t(l),_=i(s);for(l.forEach(function(w){if(!_.has(w[0])||!_.has(w[1]))throw new Error("Unknown node. There is an unknown node in the supplied edges.")});p--;)m[p]||E(s[p],p,new Set);return h;function E(w,R,P){if(P.has(w)){var L;try{L=", node was:"+JSON.stringify(w)}catch{L=""}throw new Error("Cyclic dependency"+L)}if(!_.has(w))throw new Error("Found unknown node. Make sure to provided all involved nodes. Unknown node: "+JSON.stringify(w));if(!m[R]){m[R]=!0;var x=y.get(w)||new Set;if(x=Array.from(x),R=x.length){P.add(w);do{var $=x[--R];E($,_.get($),P)}while(R);P.delete(w)}h[--c]=w}}}function e(s){for(var l=new Set,c=0,h=s.length;c<h;c++){var m=s[c];l.add(m[0]),l.add(m[1])}return Array.from(l)}function t(s){for(var l=new Map,c=0,h=s.length;c<h;c++){var m=s[c];l.has(m[0])||l.set(m[0],new Set),l.has(m[1])||l.set(m[1],new Set),l.get(m[0]).add(m[1])}return l}function i(s){for(var l=new Map,c=0,h=s.length;c<h;c++)l.set(s[c],c);return l}return ah.exports}var vk=yk();const _k=Nl(vk),Ek=Object.prototype.toString,Tk=Error.prototype.toString,bk=RegExp.prototype.toString,Sk=typeof Symbol<"u"?Symbol.prototype.toString:()=>"",wk=/^Symbol\((.*)\)(.*)$/;function Ak(n){return n!=+n?"NaN":n===0&&1/n<0?"-0":""+n}function xb(n,e=!1){if(n==null||n===!0||n===!1)return""+n;const t=typeof n;if(t==="number")return Ak(n);if(t==="string")return e?`"${n}"`:n;if(t==="function")return"[Function "+(n.name||"anonymous")+"]";if(t==="symbol")return Sk.call(n).replace(wk,"Symbol($1)");const i=Ek.call(n).slice(8,-1);return i==="Date"?isNaN(n.getTime())?""+n:n.toISOString(n):i==="Error"||n instanceof Error?"["+Tk.call(n)+"]":i==="RegExp"?bk.call(n):null}function rs(n,e){let t=xb(n,e);return t!==null?t:JSON.stringify(n,function(i,s){let l=xb(this[i],e);return l!==null?l:s},2)}function gA(n){return n==null?[]:[].concat(n)}let yA,vA,_A,Rk=/\$\{\s*(\w+)\s*\}/g;yA=Symbol.toStringTag;class Nb{constructor(e,t,i,s){this.name=void 0,this.message=void 0,this.value=void 0,this.path=void 0,this.type=void 0,this.params=void 0,this.errors=void 0,this.inner=void 0,this[yA]="Error",this.name="ValidationError",this.value=t,this.path=i,this.type=s,this.errors=[],this.inner=[],gA(e).forEach(l=>{if(Yn.isError(l)){this.errors.push(...l.errors);const c=l.inner.length?l.inner:[l];this.inner.push(...c)}else this.errors.push(l)}),this.message=this.errors.length>1?`${this.errors.length} errors occurred`:this.errors[0]}}vA=Symbol.hasInstance;_A=Symbol.toStringTag;class Yn extends Error{static formatError(e,t){const i=t.label||t.path||"this";return t=Object.assign({},t,{path:i,originalPath:t.path}),typeof e=="string"?e.replace(Rk,(s,l)=>rs(t[l])):typeof e=="function"?e(t):e}static isError(e){return e&&e.name==="ValidationError"}constructor(e,t,i,s,l){const c=new Nb(e,t,i,s);if(l)return c;super(),this.value=void 0,this.path=void 0,this.type=void 0,this.params=void 0,this.errors=[],this.inner=[],this[_A]="Error",this.name=c.name,this.message=c.message,this.type=c.type,this.value=c.value,this.path=c.path,this.errors=c.errors,this.inner=c.inner,Error.captureStackTrace&&Error.captureStackTrace(this,Yn)}static[vA](e){return Nb[Symbol.hasInstance](e)||super[Symbol.hasInstance](e)}}let bi={default:"${path} is invalid",required:"${path} is a required field",defined:"${path} must be defined",notNull:"${path} cannot be null",oneOf:"${path} must be one of the following values: ${values}",notOneOf:"${path} must not be one of the following values: ${values}",notType:({path:n,type:e,value:t,originalValue:i})=>{const s=i!=null&&i!==t?` (cast from the value \`${rs(i,!0)}\`).`:".";return e!=="mixed"?`${n} must be a \`${e}\` type, but the final value was: \`${rs(t,!0)}\``+s:`${n} must match the configured type. The validated value was: \`${rs(t,!0)}\``+s}},Gn={length:"${path} must be exactly ${length} characters",min:"${path} must be at least ${min} characters",max:"${path} must be at most ${max} characters",matches:'${path} must match the following: "${regex}"',email:"${path} must be a valid email",url:"${path} must be a valid URL",uuid:"${path} must be a valid UUID",datetime:"${path} must be a valid ISO date-time",datetime_precision:"${path} must be a valid ISO date-time with a sub-second precision of exactly ${precision} digits",datetime_offset:'${path} must be a valid ISO date-time with UTC "Z" timezone',trim:"${path} must be a trimmed string",lowercase:"${path} must be a lowercase string",uppercase:"${path} must be a upper case string"},Ck={min:"${path} must be greater than or equal to ${min}",max:"${path} must be less than or equal to ${max}",lessThan:"${path} must be less than ${less}",moreThan:"${path} must be greater than ${more}",positive:"${path} must be a positive number",negative:"${path} must be a negative number",integer:"${path} must be an integer"},Qg={min:"${path} field must be later than ${min}",max:"${path} field must be at earlier than ${max}"},Ik={isValue:"${path} field must be ${value}"},Sh={noUnknown:"${path} field has unspecified keys: ${unknown}",exact:"${path} object contains unknown properties: ${properties}"},Dk={min:"${path} field must have at least ${min} items",max:"${path} field must have less than or equal to ${max} items",length:"${path} must have ${length} items"},Ok={notType:n=>{const{path:e,value:t,spec:i}=n,s=i.types.length;if(Array.isArray(t)){if(t.length<s)return`${e} tuple value has too few items, expected a length of ${s} but got ${t.length} for value: \`${rs(t,!0)}\``;if(t.length>s)return`${e} tuple value has too many items, expected a length of ${s} but got ${t.length} for value: \`${rs(t,!0)}\``}return Yn.formatError(bi.notType,n)}};Object.assign(Object.create(null),{mixed:bi,string:Gn,number:Ck,date:Qg,object:Sh,array:Dk,boolean:Ik,tuple:Ok});const Qy=n=>n&&n.__isYupSchema__;class qh{static fromOptions(e,t){if(!t.then&&!t.otherwise)throw new TypeError("either `then:` or `otherwise:` is required for `when()` conditions");let{is:i,then:s,otherwise:l}=t,c=typeof i=="function"?i:(...h)=>h.every(m=>m===i);return new qh(e,(h,m)=>{var p;let y=c(...h)?s:l;return(p=y==null?void 0:y(m))!=null?p:m})}constructor(e,t){this.fn=void 0,this.refs=e,this.refs=e,this.fn=t}resolve(e,t){let i=this.refs.map(l=>l.getValue(t==null?void 0:t.value,t==null?void 0:t.parent,t==null?void 0:t.context)),s=this.fn(i,e,t);if(s===void 0||s===e)return e;if(!Qy(s))throw new TypeError("conditions must return a schema object");return s.resolve(t)}}const sh={context:"$",value:"."};class yo{constructor(e,t={}){if(this.key=void 0,this.isContext=void 0,this.isValue=void 0,this.isSibling=void 0,this.path=void 0,this.getter=void 0,this.map=void 0,typeof e!="string")throw new TypeError("ref must be a string, got: "+e);if(this.key=e.trim(),e==="")throw new TypeError("ref must be a non-empty string");this.isContext=this.key[0]===sh.context,this.isValue=this.key[0]===sh.value,this.isSibling=!this.isContext&&!this.isValue;let i=this.isContext?sh.context:this.isValue?sh.value:"";this.path=this.key.slice(i.length),this.getter=this.path&&no.getter(this.path,!0),this.map=t.map}getValue(e,t,i){let s=this.isContext?i:this.isValue?e:t;return this.getter&&(s=this.getter(s||{})),this.map&&(s=this.map(s)),s}cast(e,t){return this.getValue(e,t==null?void 0:t.parent,t==null?void 0:t.context)}resolve(){return this}describe(){return{type:"ref",key:this.key}}toString(){return`Ref(${this.key})`}static isRef(e){return e&&e.__isYupRef}}yo.prototype.__isYupRef=!0;const Zs=n=>n==null;function sl(n){function e({value:t,path:i="",options:s,originalValue:l,schema:c},h,m){const{name:p,test:y,params:_,message:E,skipAbsent:w}=n;let{parent:R,context:P,abortEarly:L=c.spec.abortEarly,disableStackTrace:x=c.spec.disableStackTrace}=s;function $(k){return yo.isRef(k)?k.getValue(t,R,P):k}function ne(k={}){const B=Object.assign({value:t,originalValue:l,label:c.spec.label,path:k.path||i,spec:c.spec,disableStackTrace:k.disableStackTrace||x},_,k.params);for(const Pe of Object.keys(B))B[Pe]=$(B[Pe]);const D=new Yn(Yn.formatError(k.message||E,B),t,B.path,k.type||p,B.disableStackTrace);return D.params=B,D}const fe=L?h:m;let H={path:i,parent:R,type:p,from:s.from,createError:ne,resolve:$,options:s,originalValue:l,schema:c};const V=k=>{Yn.isError(k)?fe(k):k?m(null):fe(ne())},O=k=>{Yn.isError(k)?fe(k):h(k)};if(w&&Zs(t))return V(!0);let I;try{var j;if(I=y.call(H,t,H),typeof((j=I)==null?void 0:j.then)=="function"){if(s.sync)throw new Error(`Validation test of type: "${H.type}" returned a Promise during a synchronous validate. This test will finish after the validate call has returned`);return Promise.resolve(I).then(V,O)}}catch(k){O(k);return}V(I)}return e.OPTIONS=n,e}function xk(n,e,t,i=t){let s,l,c;return e?(no.forEach(e,(h,m,p)=>{let y=m?h.slice(1,h.length-1):h;n=n.resolve({context:i,parent:s,value:t});let _=n.type==="tuple",E=p?parseInt(y,10):0;if(n.innerType||_){if(_&&!p)throw new Error(`Yup.reach cannot implicitly index into a tuple type. the path part "${c}" must contain an index to the tuple element, e.g. "${c}[0]"`);if(t&&E>=t.length)throw new Error(`Yup.reach cannot resolve an array item at index: ${h}, in the path: ${e}. because there is no value at that index. `);s=t,t=t&&t[E],n=_?n.spec.types[E]:n.innerType}if(!p){if(!n.fields||!n.fields[y])throw new Error(`The schema does not contain the path: ${e}. (failed at: ${c} which is a type: "${n.type}")`);s=t,t=t&&t[y],n=n.fields[y]}l=y,c=m?"["+h+"]":"."+h}),{schema:n,parent:s,parentPath:l}):{parent:s,parentPath:e,schema:n}}class Gh extends Set{describe(){const e=[];for(const t of this.values())e.push(yo.isRef(t)?t.describe():t);return e}resolveAll(e){let t=[];for(const i of this.values())t.push(e(i));return t}clone(){return new Gh(this.values())}merge(e,t){const i=this.clone();return e.forEach(s=>i.add(s)),t.forEach(s=>i.delete(s)),i}}function gl(n,e=new Map){if(Qy(n)||!n||typeof n!="object")return n;if(e.has(n))return e.get(n);let t;if(n instanceof Date)t=new Date(n.getTime()),e.set(n,t);else if(n instanceof RegExp)t=new RegExp(n),e.set(n,t);else if(Array.isArray(n)){t=new Array(n.length),e.set(n,t);for(let i=0;i<n.length;i++)t[i]=gl(n[i],e)}else if(n instanceof Map){t=new Map,e.set(n,t);for(const[i,s]of n.entries())t.set(i,gl(s,e))}else if(n instanceof Set){t=new Set,e.set(n,t);for(const i of n)t.add(gl(i,e))}else if(n instanceof Object){t={},e.set(n,t);for(const[i,s]of Object.entries(n))t[i]=gl(s,e)}else throw Error(`Unable to clone ${n}`);return t}class ni{constructor(e){this.type=void 0,this.deps=[],this.tests=void 0,this.transforms=void 0,this.conditions=[],this._mutate=void 0,this.internalTests={},this._whitelist=new Gh,this._blacklist=new Gh,this.exclusiveTests=Object.create(null),this._typeCheck=void 0,this.spec=void 0,this.tests=[],this.transforms=[],this.withMutation(()=>{this.typeError(bi.notType)}),this.type=e.type,this._typeCheck=e.check,this.spec=Object.assign({strip:!1,strict:!1,abortEarly:!0,recursive:!0,disableStackTrace:!1,nullable:!1,optional:!0,coerce:!0},e==null?void 0:e.spec),this.withMutation(t=>{t.nonNullable()})}get _type(){return this.type}clone(e){if(this._mutate)return e&&Object.assign(this.spec,e),this;const t=Object.create(Object.getPrototypeOf(this));return t.type=this.type,t._typeCheck=this._typeCheck,t._whitelist=this._whitelist.clone(),t._blacklist=this._blacklist.clone(),t.internalTests=Object.assign({},this.internalTests),t.exclusiveTests=Object.assign({},this.exclusiveTests),t.deps=[...this.deps],t.conditions=[...this.conditions],t.tests=[...this.tests],t.transforms=[...this.transforms],t.spec=gl(Object.assign({},this.spec,e)),t}label(e){let t=this.clone();return t.spec.label=e,t}meta(...e){if(e.length===0)return this.spec.meta;let t=this.clone();return t.spec.meta=Object.assign(t.spec.meta||{},e[0]),t}withMutation(e){let t=this._mutate;this._mutate=!0;let i=e(this);return this._mutate=t,i}concat(e){if(!e||e===this)return this;if(e.type!==this.type&&this.type!=="mixed")throw new TypeError(`You cannot \`concat()\` schema's of different types: ${this.type} and ${e.type}`);let t=this,i=e.clone();const s=Object.assign({},t.spec,i.spec);return i.spec=s,i.internalTests=Object.assign({},t.internalTests,i.internalTests),i._whitelist=t._whitelist.merge(e._whitelist,e._blacklist),i._blacklist=t._blacklist.merge(e._blacklist,e._whitelist),i.tests=t.tests,i.exclusiveTests=t.exclusiveTests,i.withMutation(l=>{e.tests.forEach(c=>{l.test(c.OPTIONS)})}),i.transforms=[...t.transforms,...i.transforms],i}isType(e){return e==null?!!(this.spec.nullable&&e===null||this.spec.optional&&e===void 0):this._typeCheck(e)}resolve(e){let t=this;if(t.conditions.length){let i=t.conditions;t=t.clone(),t.conditions=[],t=i.reduce((s,l)=>l.resolve(s,e),t),t=t.resolve(e)}return t}resolveOptions(e){var t,i,s,l;return Object.assign({},e,{from:e.from||[],strict:(t=e.strict)!=null?t:this.spec.strict,abortEarly:(i=e.abortEarly)!=null?i:this.spec.abortEarly,recursive:(s=e.recursive)!=null?s:this.spec.recursive,disableStackTrace:(l=e.disableStackTrace)!=null?l:this.spec.disableStackTrace})}cast(e,t={}){let i=this.resolve(Object.assign({value:e},t)),s=t.assert==="ignore-optionality",l=i._cast(e,t);if(t.assert!==!1&&!i.isType(l)){if(s&&Zs(l))return l;let c=rs(e),h=rs(l);throw new TypeError(`The value of ${t.path||"field"} could not be cast to a value that satisfies the schema type: "${i.type}". 

attempted value: ${c} 
`+(h!==c?`result of cast: ${h}`:""))}return l}_cast(e,t){let i=e===void 0?e:this.transforms.reduce((s,l)=>l.call(this,s,e,this),e);return i===void 0&&(i=this.getDefault(t)),i}_validate(e,t={},i,s){let{path:l,originalValue:c=e,strict:h=this.spec.strict}=t,m=e;h||(m=this._cast(m,Object.assign({assert:!1},t)));let p=[];for(let y of Object.values(this.internalTests))y&&p.push(y);this.runTests({path:l,value:m,originalValue:c,options:t,tests:p},i,y=>{if(y.length)return s(y,m);this.runTests({path:l,value:m,originalValue:c,options:t,tests:this.tests},i,s)})}runTests(e,t,i){let s=!1,{tests:l,value:c,originalValue:h,path:m,options:p}=e,y=P=>{s||(s=!0,t(P,c))},_=P=>{s||(s=!0,i(P,c))},E=l.length,w=[];if(!E)return _([]);let R={value:c,originalValue:h,path:m,options:p,schema:this};for(let P=0;P<l.length;P++){const L=l[P];L(R,y,function($){$&&(Array.isArray($)?w.push(...$):w.push($)),--E<=0&&_(w)})}}asNestedTest({key:e,index:t,parent:i,parentPath:s,originalParent:l,options:c}){const h=e??t;if(h==null)throw TypeError("Must include `key` or `index` for nested validations");const m=typeof h=="number";let p=i[h];const y=Object.assign({},c,{strict:!0,parent:i,value:p,originalValue:l[h],key:void 0,[m?"index":"key"]:h,path:m||h.includes(".")?`${s||""}[${m?h:`"${h}"`}]`:(s?`${s}.`:"")+e});return(_,E,w)=>this.resolve(y)._validate(p,y,E,w)}validate(e,t){var i;let s=this.resolve(Object.assign({},t,{value:e})),l=(i=t==null?void 0:t.disableStackTrace)!=null?i:s.spec.disableStackTrace;return new Promise((c,h)=>s._validate(e,t,(m,p)=>{Yn.isError(m)&&(m.value=p),h(m)},(m,p)=>{m.length?h(new Yn(m,p,void 0,void 0,l)):c(p)}))}validateSync(e,t){var i;let s=this.resolve(Object.assign({},t,{value:e})),l,c=(i=t==null?void 0:t.disableStackTrace)!=null?i:s.spec.disableStackTrace;return s._validate(e,Object.assign({},t,{sync:!0}),(h,m)=>{throw Yn.isError(h)&&(h.value=m),h},(h,m)=>{if(h.length)throw new Yn(h,e,void 0,void 0,c);l=m}),l}isValid(e,t){return this.validate(e,t).then(()=>!0,i=>{if(Yn.isError(i))return!1;throw i})}isValidSync(e,t){try{return this.validateSync(e,t),!0}catch(i){if(Yn.isError(i))return!1;throw i}}_getDefault(e){let t=this.spec.default;return t==null?t:typeof t=="function"?t.call(this,e):gl(t)}getDefault(e){return this.resolve(e||{})._getDefault(e)}default(e){return arguments.length===0?this._getDefault():this.clone({default:e})}strict(e=!0){return this.clone({strict:e})}nullability(e,t){const i=this.clone({nullable:e});return i.internalTests.nullable=sl({message:t,name:"nullable",test(s){return s===null?this.schema.spec.nullable:!0}}),i}optionality(e,t){const i=this.clone({optional:e});return i.internalTests.optionality=sl({message:t,name:"optionality",test(s){return s===void 0?this.schema.spec.optional:!0}}),i}optional(){return this.optionality(!0)}defined(e=bi.defined){return this.optionality(!1,e)}nullable(){return this.nullability(!0)}nonNullable(e=bi.notNull){return this.nullability(!1,e)}required(e=bi.required){return this.clone().withMutation(t=>t.nonNullable(e).defined(e))}notRequired(){return this.clone().withMutation(e=>e.nullable().optional())}transform(e){let t=this.clone();return t.transforms.push(e),t}test(...e){let t;if(e.length===1?typeof e[0]=="function"?t={test:e[0]}:t=e[0]:e.length===2?t={name:e[0],test:e[1]}:t={name:e[0],message:e[1],test:e[2]},t.message===void 0&&(t.message=bi.default),typeof t.test!="function")throw new TypeError("`test` is a required parameters");let i=this.clone(),s=sl(t),l=t.exclusive||t.name&&i.exclusiveTests[t.name]===!0;if(t.exclusive&&!t.name)throw new TypeError("Exclusive tests must provide a unique `name` identifying the test");return t.name&&(i.exclusiveTests[t.name]=!!t.exclusive),i.tests=i.tests.filter(c=>!(c.OPTIONS.name===t.name&&(l||c.OPTIONS.test===s.OPTIONS.test))),i.tests.push(s),i}when(e,t){!Array.isArray(e)&&typeof e!="string"&&(t=e,e=".");let i=this.clone(),s=gA(e).map(l=>new yo(l));return s.forEach(l=>{l.isSibling&&i.deps.push(l.key)}),i.conditions.push(typeof t=="function"?new qh(s,t):qh.fromOptions(s,t)),i}typeError(e){let t=this.clone();return t.internalTests.typeError=sl({message:e,name:"typeError",skipAbsent:!0,test(i){return this.schema._typeCheck(i)?!0:this.createError({params:{type:this.schema.type}})}}),t}oneOf(e,t=bi.oneOf){let i=this.clone();return e.forEach(s=>{i._whitelist.add(s),i._blacklist.delete(s)}),i.internalTests.whiteList=sl({message:t,name:"oneOf",skipAbsent:!0,test(s){let l=this.schema._whitelist,c=l.resolveAll(this.resolve);return c.includes(s)?!0:this.createError({params:{values:Array.from(l).join(", "),resolved:c}})}}),i}notOneOf(e,t=bi.notOneOf){let i=this.clone();return e.forEach(s=>{i._blacklist.add(s),i._whitelist.delete(s)}),i.internalTests.blacklist=sl({message:t,name:"notOneOf",test(s){let l=this.schema._blacklist,c=l.resolveAll(this.resolve);return c.includes(s)?this.createError({params:{values:Array.from(l).join(", "),resolved:c}}):!0}}),i}strip(e=!0){let t=this.clone();return t.spec.strip=e,t}describe(e){const t=(e?this.resolve(e):this).clone(),{label:i,meta:s,optional:l,nullable:c}=t.spec;return{meta:s,label:i,optional:l,nullable:c,default:t.getDefault(e),type:t.type,oneOf:t._whitelist.describe(),notOneOf:t._blacklist.describe(),tests:t.tests.map(m=>({name:m.OPTIONS.name,params:m.OPTIONS.params})).filter((m,p,y)=>y.findIndex(_=>_.name===m.name)===p)}}}ni.prototype.__isYupSchema__=!0;for(const n of["validate","validateSync"])ni.prototype[`${n}At`]=function(e,t,i={}){const{parent:s,parentPath:l,schema:c}=xk(this,e,t,i.context);return c[n](s&&s[l],Object.assign({},i,{parent:s,path:e}))};for(const n of["equals","is"])ni.prototype[n]=ni.prototype.oneOf;for(const n of["not","nope"])ni.prototype[n]=ni.prototype.notOneOf;const Nk=()=>!0;function EA(n){return new TA(n)}class TA extends ni{constructor(e){super(typeof e=="function"?{type:"mixed",check:e}:Object.assign({type:"mixed",check:Nk},e))}}EA.prototype=TA.prototype;const Mk=/^(\d{4}|[+-]\d{6})(?:-?(\d{2})(?:-?(\d{2}))?)?(?:[ T]?(\d{2}):?(\d{2})(?::?(\d{2})(?:[,.](\d{1,}))?)?(?:(Z)|([+-])(\d{2})(?::?(\d{2}))?)?)?$/;function Pk(n){const e=Yg(n);if(!e)return Date.parse?Date.parse(n):Number.NaN;if(e.z===void 0&&e.plusMinus===void 0)return new Date(e.year,e.month,e.day,e.hour,e.minute,e.second,e.millisecond).valueOf();let t=0;return e.z!=="Z"&&e.plusMinus!==void 0&&(t=e.hourOffset*60+e.minuteOffset,e.plusMinus==="+"&&(t=0-t)),Date.UTC(e.year,e.month,e.day,e.hour,e.minute+t,e.second,e.millisecond)}function Yg(n){var e,t;const i=Mk.exec(n);return i?{year:ra(i[1]),month:ra(i[2],1)-1,day:ra(i[3],1),hour:ra(i[4]),minute:ra(i[5]),second:ra(i[6]),millisecond:i[7]?ra(i[7].substring(0,3)):0,precision:(e=(t=i[7])==null?void 0:t.length)!=null?e:void 0,z:i[8]||void 0,plusMinus:i[9]||void 0,hourOffset:ra(i[10]),minuteOffset:ra(i[11])}:null}function ra(n,e=0){return Number(n)||e}let Lk=/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,Vk=/^((https?|ftp):)?\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i,kk=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,Uk="^\\d{4}-\\d{2}-\\d{2}",jk="\\d{2}:\\d{2}:\\d{2}",zk="(([+-]\\d{2}(:?\\d{2})?)|Z)",Fk=new RegExp(`${Uk}T${jk}(\\.\\d+)?${zk}$`),Bk=n=>Zs(n)||n===n.trim(),$k={}.toString();function Js(){return new bA}class bA extends ni{constructor(){super({type:"string",check(e){return e instanceof String&&(e=e.valueOf()),typeof e=="string"}}),this.withMutation(()=>{this.transform((e,t,i)=>{if(!i.spec.coerce||i.isType(e)||Array.isArray(e))return e;const s=e!=null&&e.toString?e.toString():e;return s===$k?e:s})})}required(e){return super.required(e).withMutation(t=>t.test({message:e||bi.required,name:"required",skipAbsent:!0,test:i=>!!i.length}))}notRequired(){return super.notRequired().withMutation(e=>(e.tests=e.tests.filter(t=>t.OPTIONS.name!=="required"),e))}length(e,t=Gn.length){return this.test({message:t,name:"length",exclusive:!0,params:{length:e},skipAbsent:!0,test(i){return i.length===this.resolve(e)}})}min(e,t=Gn.min){return this.test({message:t,name:"min",exclusive:!0,params:{min:e},skipAbsent:!0,test(i){return i.length>=this.resolve(e)}})}max(e,t=Gn.max){return this.test({name:"max",exclusive:!0,message:t,params:{max:e},skipAbsent:!0,test(i){return i.length<=this.resolve(e)}})}matches(e,t){let i=!1,s,l;return t&&(typeof t=="object"?{excludeEmptyString:i=!1,message:s,name:l}=t:s=t),this.test({name:l||"matches",message:s||Gn.matches,params:{regex:e},skipAbsent:!0,test:c=>c===""&&i||c.search(e)!==-1})}email(e=Gn.email){return this.matches(Lk,{name:"email",message:e,excludeEmptyString:!0})}url(e=Gn.url){return this.matches(Vk,{name:"url",message:e,excludeEmptyString:!0})}uuid(e=Gn.uuid){return this.matches(kk,{name:"uuid",message:e,excludeEmptyString:!1})}datetime(e){let t="",i,s;return e&&(typeof e=="object"?{message:t="",allowOffset:i=!1,precision:s=void 0}=e:t=e),this.matches(Fk,{name:"datetime",message:t||Gn.datetime,excludeEmptyString:!0}).test({name:"datetime_offset",message:t||Gn.datetime_offset,params:{allowOffset:i},skipAbsent:!0,test:l=>{if(!l||i)return!0;const c=Yg(l);return c?!!c.z:!1}}).test({name:"datetime_precision",message:t||Gn.datetime_precision,params:{precision:s},skipAbsent:!0,test:l=>{if(!l||s==null)return!0;const c=Yg(l);return c?c.precision===s:!1}})}ensure(){return this.default("").transform(e=>e===null?"":e)}trim(e=Gn.trim){return this.transform(t=>t!=null?t.trim():t).test({message:e,name:"trim",test:Bk})}lowercase(e=Gn.lowercase){return this.transform(t=>Zs(t)?t:t.toLowerCase()).test({message:e,name:"string_case",exclusive:!0,skipAbsent:!0,test:t=>Zs(t)||t===t.toLowerCase()})}uppercase(e=Gn.uppercase){return this.transform(t=>Zs(t)?t:t.toUpperCase()).test({message:e,name:"string_case",exclusive:!0,skipAbsent:!0,test:t=>Zs(t)||t===t.toUpperCase()})}}Js.prototype=bA.prototype;let Hk=new Date(""),qk=n=>Object.prototype.toString.call(n)==="[object Date]";class Yy extends ni{constructor(){super({type:"date",check(e){return qk(e)&&!isNaN(e.getTime())}}),this.withMutation(()=>{this.transform((e,t,i)=>!i.spec.coerce||i.isType(e)||e===null?e:(e=Pk(e),isNaN(e)?Yy.INVALID_DATE:new Date(e)))})}prepareParam(e,t){let i;if(yo.isRef(e))i=e;else{let s=this.cast(e);if(!this._typeCheck(s))throw new TypeError(`\`${t}\` must be a Date or a value that can be \`cast()\` to a Date`);i=s}return i}min(e,t=Qg.min){let i=this.prepareParam(e,"min");return this.test({message:t,name:"min",exclusive:!0,params:{min:e},skipAbsent:!0,test(s){return s>=this.resolve(i)}})}max(e,t=Qg.max){let i=this.prepareParam(e,"max");return this.test({message:t,name:"max",exclusive:!0,params:{max:e},skipAbsent:!0,test(s){return s<=this.resolve(i)}})}}Yy.INVALID_DATE=Hk;function Gk(n,e=[]){let t=[],i=new Set,s=new Set(e.map(([c,h])=>`${c}-${h}`));function l(c,h){let m=no.split(c)[0];i.add(m),s.has(`${h}-${m}`)||t.push([h,m])}for(const c of Object.keys(n)){let h=n[c];i.add(c),yo.isRef(h)&&h.isSibling?l(h.path,c):Qy(h)&&"deps"in h&&h.deps.forEach(m=>l(m,c))}return _k.array(Array.from(i),t).reverse()}function Mb(n,e){let t=1/0;return n.some((i,s)=>{var l;if((l=e.path)!=null&&l.includes(i))return t=s,!0}),t}function SA(n){return(e,t)=>Mb(n,e)-Mb(n,t)}const Kk=(n,e,t)=>{if(typeof n!="string")return n;let i=n;try{i=JSON.parse(n)}catch{}return t.isType(i)?i:n};function wh(n){if("fields"in n){const e={};for(const[t,i]of Object.entries(n.fields))e[t]=wh(i);return n.setFields(e)}if(n.type==="array"){const e=n.optional();return e.innerType&&(e.innerType=wh(e.innerType)),e}return n.type==="tuple"?n.optional().clone({types:n.spec.types.map(wh)}):"optional"in n?n.optional():n}const Qk=(n,e)=>{const t=[...no.normalizePath(e)];if(t.length===1)return t[0]in n;let i=t.pop(),s=no.getter(no.join(t),!0)(n);return!!(s&&i in s)};let Pb=n=>Object.prototype.toString.call(n)==="[object Object]";function Lb(n,e){let t=Object.keys(n.fields);return Object.keys(e).filter(i=>t.indexOf(i)===-1)}const Yk=SA([]);function Xy(n){return new wA(n)}class wA extends ni{constructor(e){super({type:"object",check(t){return Pb(t)||typeof t=="function"}}),this.fields=Object.create(null),this._sortErrors=Yk,this._nodes=[],this._excludedEdges=[],this.withMutation(()=>{e&&this.shape(e)})}_cast(e,t={}){var i;let s=super._cast(e,t);if(s===void 0)return this.getDefault(t);if(!this._typeCheck(s))return s;let l=this.fields,c=(i=t.stripUnknown)!=null?i:this.spec.noUnknown,h=[].concat(this._nodes,Object.keys(s).filter(_=>!this._nodes.includes(_))),m={},p=Object.assign({},t,{parent:m,__validating:t.__validating||!1}),y=!1;for(const _ of h){let E=l[_],w=_ in s;if(E){let R,P=s[_];p.path=(t.path?`${t.path}.`:"")+_,E=E.resolve({value:P,context:t.context,parent:m});let L=E instanceof ni?E.spec:void 0,x=L==null?void 0:L.strict;if(L!=null&&L.strip){y=y||_ in s;continue}R=!t.__validating||!x?E.cast(s[_],p):s[_],R!==void 0&&(m[_]=R)}else w&&!c&&(m[_]=s[_]);(w!==_ in m||m[_]!==s[_])&&(y=!0)}return y?m:s}_validate(e,t={},i,s){let{from:l=[],originalValue:c=e,recursive:h=this.spec.recursive}=t;t.from=[{schema:this,value:c},...l],t.__validating=!0,t.originalValue=c,super._validate(e,t,i,(m,p)=>{if(!h||!Pb(p)){s(m,p);return}c=c||p;let y=[];for(let _ of this._nodes){let E=this.fields[_];!E||yo.isRef(E)||y.push(E.asNestedTest({options:t,key:_,parent:p,parentPath:t.path,originalParent:c}))}this.runTests({tests:y,value:p,originalValue:c,options:t},i,_=>{s(_.sort(this._sortErrors).concat(m),p)})})}clone(e){const t=super.clone(e);return t.fields=Object.assign({},this.fields),t._nodes=this._nodes,t._excludedEdges=this._excludedEdges,t._sortErrors=this._sortErrors,t}concat(e){let t=super.concat(e),i=t.fields;for(let[s,l]of Object.entries(this.fields)){const c=i[s];i[s]=c===void 0?l:c}return t.withMutation(s=>s.setFields(i,[...this._excludedEdges,...e._excludedEdges]))}_getDefault(e){if("default"in this.spec)return super._getDefault(e);if(!this._nodes.length)return;let t={};return this._nodes.forEach(i=>{var s;const l=this.fields[i];let c=e;(s=c)!=null&&s.value&&(c=Object.assign({},c,{parent:c.value,value:c.value[i]})),t[i]=l&&"getDefault"in l?l.getDefault(c):void 0}),t}setFields(e,t){let i=this.clone();return i.fields=e,i._nodes=Gk(e,t),i._sortErrors=SA(Object.keys(e)),t&&(i._excludedEdges=t),i}shape(e,t=[]){return this.clone().withMutation(i=>{let s=i._excludedEdges;return t.length&&(Array.isArray(t[0])||(t=[t]),s=[...i._excludedEdges,...t]),i.setFields(Object.assign(i.fields,e),s)})}partial(){const e={};for(const[t,i]of Object.entries(this.fields))e[t]="optional"in i&&i.optional instanceof Function?i.optional():i;return this.setFields(e)}deepPartial(){return wh(this)}pick(e){const t={};for(const i of e)this.fields[i]&&(t[i]=this.fields[i]);return this.setFields(t,this._excludedEdges.filter(([i,s])=>e.includes(i)&&e.includes(s)))}omit(e){const t=[];for(const i of Object.keys(this.fields))e.includes(i)||t.push(i);return this.pick(t)}from(e,t,i){let s=no.getter(e,!0);return this.transform(l=>{if(!l)return l;let c=l;return Qk(l,e)&&(c=Object.assign({},l),i||delete c[e],c[t]=s(l)),c})}json(){return this.transform(Kk)}exact(e){return this.test({name:"exact",exclusive:!0,message:e||Sh.exact,test(t){if(t==null)return!0;const i=Lb(this.schema,t);return i.length===0||this.createError({params:{properties:i.join(", ")}})}})}stripUnknown(){return this.clone({noUnknown:!0})}noUnknown(e=!0,t=Sh.noUnknown){typeof e!="boolean"&&(t=e,e=!0);let i=this.test({name:"noUnknown",exclusive:!0,message:t,test(s){if(s==null)return!0;const l=Lb(this.schema,s);return!e||l.length===0||this.createError({params:{unknown:l.join(", ")}})}});return i.spec.noUnknown=e,i}unknown(e=!0,t=Sh.noUnknown){return this.noUnknown(!e,t)}transformKeys(e){return this.transform(t=>{if(!t)return t;const i={};for(const s of Object.keys(t))i[e(s)]=t[s];return i})}camelCase(){return this.transformKeys(fg.camelCase)}snakeCase(){return this.transformKeys(fg.snakeCase)}constantCase(){return this.transformKeys(e=>fg.snakeCase(e).toUpperCase())}describe(e){const t=(e?this.resolve(e):this).clone(),i=super.describe(e);i.fields={};for(const[l,c]of Object.entries(t.fields)){var s;let h=e;(s=h)!=null&&s.value&&(h=Object.assign({},h,{parent:h.value,value:h.value[l]})),i.fields[l]=c.describe(h)}return i}}Xy.prototype=wA.prototype;var Xk="firebase",Wk="11.6.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ns(Xk,Wk,"app");var Vb=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var is,AA;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(O,C){function I(){}I.prototype=C.prototype,O.D=C.prototype,O.prototype=new I,O.prototype.constructor=O,O.C=function(j,k,B){for(var D=Array(arguments.length-2),Pe=2;Pe<arguments.length;Pe++)D[Pe-2]=arguments[Pe];return C.prototype[k].apply(j,D)}}function t(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(i,t),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(O,C,I){I||(I=0);var j=Array(16);if(typeof C=="string")for(var k=0;16>k;++k)j[k]=C.charCodeAt(I++)|C.charCodeAt(I++)<<8|C.charCodeAt(I++)<<16|C.charCodeAt(I++)<<24;else for(k=0;16>k;++k)j[k]=C[I++]|C[I++]<<8|C[I++]<<16|C[I++]<<24;C=O.g[0],I=O.g[1],k=O.g[2];var B=O.g[3],D=C+(B^I&(k^B))+j[0]+3614090360&4294967295;C=I+(D<<7&4294967295|D>>>25),D=B+(k^C&(I^k))+j[1]+3905402710&4294967295,B=C+(D<<12&4294967295|D>>>20),D=k+(I^B&(C^I))+j[2]+606105819&4294967295,k=B+(D<<17&4294967295|D>>>15),D=I+(C^k&(B^C))+j[3]+3250441966&4294967295,I=k+(D<<22&4294967295|D>>>10),D=C+(B^I&(k^B))+j[4]+4118548399&4294967295,C=I+(D<<7&4294967295|D>>>25),D=B+(k^C&(I^k))+j[5]+1200080426&4294967295,B=C+(D<<12&4294967295|D>>>20),D=k+(I^B&(C^I))+j[6]+2821735955&4294967295,k=B+(D<<17&4294967295|D>>>15),D=I+(C^k&(B^C))+j[7]+4249261313&4294967295,I=k+(D<<22&4294967295|D>>>10),D=C+(B^I&(k^B))+j[8]+1770035416&4294967295,C=I+(D<<7&4294967295|D>>>25),D=B+(k^C&(I^k))+j[9]+2336552879&4294967295,B=C+(D<<12&4294967295|D>>>20),D=k+(I^B&(C^I))+j[10]+4294925233&4294967295,k=B+(D<<17&4294967295|D>>>15),D=I+(C^k&(B^C))+j[11]+2304563134&4294967295,I=k+(D<<22&4294967295|D>>>10),D=C+(B^I&(k^B))+j[12]+1804603682&4294967295,C=I+(D<<7&4294967295|D>>>25),D=B+(k^C&(I^k))+j[13]+4254626195&4294967295,B=C+(D<<12&4294967295|D>>>20),D=k+(I^B&(C^I))+j[14]+2792965006&4294967295,k=B+(D<<17&4294967295|D>>>15),D=I+(C^k&(B^C))+j[15]+1236535329&4294967295,I=k+(D<<22&4294967295|D>>>10),D=C+(k^B&(I^k))+j[1]+4129170786&4294967295,C=I+(D<<5&4294967295|D>>>27),D=B+(I^k&(C^I))+j[6]+3225465664&4294967295,B=C+(D<<9&4294967295|D>>>23),D=k+(C^I&(B^C))+j[11]+643717713&4294967295,k=B+(D<<14&4294967295|D>>>18),D=I+(B^C&(k^B))+j[0]+3921069994&4294967295,I=k+(D<<20&4294967295|D>>>12),D=C+(k^B&(I^k))+j[5]+3593408605&4294967295,C=I+(D<<5&4294967295|D>>>27),D=B+(I^k&(C^I))+j[10]+38016083&4294967295,B=C+(D<<9&4294967295|D>>>23),D=k+(C^I&(B^C))+j[15]+3634488961&4294967295,k=B+(D<<14&4294967295|D>>>18),D=I+(B^C&(k^B))+j[4]+3889429448&4294967295,I=k+(D<<20&4294967295|D>>>12),D=C+(k^B&(I^k))+j[9]+568446438&4294967295,C=I+(D<<5&4294967295|D>>>27),D=B+(I^k&(C^I))+j[14]+3275163606&4294967295,B=C+(D<<9&4294967295|D>>>23),D=k+(C^I&(B^C))+j[3]+4107603335&4294967295,k=B+(D<<14&4294967295|D>>>18),D=I+(B^C&(k^B))+j[8]+1163531501&4294967295,I=k+(D<<20&4294967295|D>>>12),D=C+(k^B&(I^k))+j[13]+2850285829&4294967295,C=I+(D<<5&4294967295|D>>>27),D=B+(I^k&(C^I))+j[2]+4243563512&4294967295,B=C+(D<<9&4294967295|D>>>23),D=k+(C^I&(B^C))+j[7]+1735328473&4294967295,k=B+(D<<14&4294967295|D>>>18),D=I+(B^C&(k^B))+j[12]+2368359562&4294967295,I=k+(D<<20&4294967295|D>>>12),D=C+(I^k^B)+j[5]+4294588738&4294967295,C=I+(D<<4&4294967295|D>>>28),D=B+(C^I^k)+j[8]+2272392833&4294967295,B=C+(D<<11&4294967295|D>>>21),D=k+(B^C^I)+j[11]+1839030562&4294967295,k=B+(D<<16&4294967295|D>>>16),D=I+(k^B^C)+j[14]+4259657740&4294967295,I=k+(D<<23&4294967295|D>>>9),D=C+(I^k^B)+j[1]+2763975236&4294967295,C=I+(D<<4&4294967295|D>>>28),D=B+(C^I^k)+j[4]+1272893353&4294967295,B=C+(D<<11&4294967295|D>>>21),D=k+(B^C^I)+j[7]+4139469664&4294967295,k=B+(D<<16&4294967295|D>>>16),D=I+(k^B^C)+j[10]+3200236656&4294967295,I=k+(D<<23&4294967295|D>>>9),D=C+(I^k^B)+j[13]+681279174&4294967295,C=I+(D<<4&4294967295|D>>>28),D=B+(C^I^k)+j[0]+3936430074&4294967295,B=C+(D<<11&4294967295|D>>>21),D=k+(B^C^I)+j[3]+3572445317&4294967295,k=B+(D<<16&4294967295|D>>>16),D=I+(k^B^C)+j[6]+76029189&4294967295,I=k+(D<<23&4294967295|D>>>9),D=C+(I^k^B)+j[9]+3654602809&4294967295,C=I+(D<<4&4294967295|D>>>28),D=B+(C^I^k)+j[12]+3873151461&4294967295,B=C+(D<<11&4294967295|D>>>21),D=k+(B^C^I)+j[15]+530742520&4294967295,k=B+(D<<16&4294967295|D>>>16),D=I+(k^B^C)+j[2]+3299628645&4294967295,I=k+(D<<23&4294967295|D>>>9),D=C+(k^(I|~B))+j[0]+4096336452&4294967295,C=I+(D<<6&4294967295|D>>>26),D=B+(I^(C|~k))+j[7]+1126891415&4294967295,B=C+(D<<10&4294967295|D>>>22),D=k+(C^(B|~I))+j[14]+2878612391&4294967295,k=B+(D<<15&4294967295|D>>>17),D=I+(B^(k|~C))+j[5]+4237533241&4294967295,I=k+(D<<21&4294967295|D>>>11),D=C+(k^(I|~B))+j[12]+1700485571&4294967295,C=I+(D<<6&4294967295|D>>>26),D=B+(I^(C|~k))+j[3]+2399980690&4294967295,B=C+(D<<10&4294967295|D>>>22),D=k+(C^(B|~I))+j[10]+4293915773&4294967295,k=B+(D<<15&4294967295|D>>>17),D=I+(B^(k|~C))+j[1]+2240044497&4294967295,I=k+(D<<21&4294967295|D>>>11),D=C+(k^(I|~B))+j[8]+1873313359&4294967295,C=I+(D<<6&4294967295|D>>>26),D=B+(I^(C|~k))+j[15]+4264355552&4294967295,B=C+(D<<10&4294967295|D>>>22),D=k+(C^(B|~I))+j[6]+2734768916&4294967295,k=B+(D<<15&4294967295|D>>>17),D=I+(B^(k|~C))+j[13]+1309151649&4294967295,I=k+(D<<21&4294967295|D>>>11),D=C+(k^(I|~B))+j[4]+4149444226&4294967295,C=I+(D<<6&4294967295|D>>>26),D=B+(I^(C|~k))+j[11]+3174756917&4294967295,B=C+(D<<10&4294967295|D>>>22),D=k+(C^(B|~I))+j[2]+718787259&4294967295,k=B+(D<<15&4294967295|D>>>17),D=I+(B^(k|~C))+j[9]+3951481745&4294967295,O.g[0]=O.g[0]+C&4294967295,O.g[1]=O.g[1]+(k+(D<<21&4294967295|D>>>11))&4294967295,O.g[2]=O.g[2]+k&4294967295,O.g[3]=O.g[3]+B&4294967295}i.prototype.u=function(O,C){C===void 0&&(C=O.length);for(var I=C-this.blockSize,j=this.B,k=this.h,B=0;B<C;){if(k==0)for(;B<=I;)s(this,O,B),B+=this.blockSize;if(typeof O=="string"){for(;B<C;)if(j[k++]=O.charCodeAt(B++),k==this.blockSize){s(this,j),k=0;break}}else for(;B<C;)if(j[k++]=O[B++],k==this.blockSize){s(this,j),k=0;break}}this.h=k,this.o+=C},i.prototype.v=function(){var O=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);O[0]=128;for(var C=1;C<O.length-8;++C)O[C]=0;var I=8*this.o;for(C=O.length-8;C<O.length;++C)O[C]=I&255,I/=256;for(this.u(O),O=Array(16),C=I=0;4>C;++C)for(var j=0;32>j;j+=8)O[I++]=this.g[C]>>>j&255;return O};function l(O,C){var I=h;return Object.prototype.hasOwnProperty.call(I,O)?I[O]:I[O]=C(O)}function c(O,C){this.h=C;for(var I=[],j=!0,k=O.length-1;0<=k;k--){var B=O[k]|0;j&&B==C||(I[k]=B,j=!1)}this.g=I}var h={};function m(O){return-128<=O&&128>O?l(O,function(C){return new c([C|0],0>C?-1:0)}):new c([O|0],0>O?-1:0)}function p(O){if(isNaN(O)||!isFinite(O))return _;if(0>O)return L(p(-O));for(var C=[],I=1,j=0;O>=I;j++)C[j]=O/I|0,I*=4294967296;return new c(C,0)}function y(O,C){if(O.length==0)throw Error("number format error: empty string");if(C=C||10,2>C||36<C)throw Error("radix out of range: "+C);if(O.charAt(0)=="-")return L(y(O.substring(1),C));if(0<=O.indexOf("-"))throw Error('number format error: interior "-" character');for(var I=p(Math.pow(C,8)),j=_,k=0;k<O.length;k+=8){var B=Math.min(8,O.length-k),D=parseInt(O.substring(k,k+B),C);8>B?(B=p(Math.pow(C,B)),j=j.j(B).add(p(D))):(j=j.j(I),j=j.add(p(D)))}return j}var _=m(0),E=m(1),w=m(16777216);n=c.prototype,n.m=function(){if(P(this))return-L(this).m();for(var O=0,C=1,I=0;I<this.g.length;I++){var j=this.i(I);O+=(0<=j?j:4294967296+j)*C,C*=4294967296}return O},n.toString=function(O){if(O=O||10,2>O||36<O)throw Error("radix out of range: "+O);if(R(this))return"0";if(P(this))return"-"+L(this).toString(O);for(var C=p(Math.pow(O,6)),I=this,j="";;){var k=fe(I,C).g;I=x(I,k.j(C));var B=((0<I.g.length?I.g[0]:I.h)>>>0).toString(O);if(I=k,R(I))return B+j;for(;6>B.length;)B="0"+B;j=B+j}},n.i=function(O){return 0>O?0:O<this.g.length?this.g[O]:this.h};function R(O){if(O.h!=0)return!1;for(var C=0;C<O.g.length;C++)if(O.g[C]!=0)return!1;return!0}function P(O){return O.h==-1}n.l=function(O){return O=x(this,O),P(O)?-1:R(O)?0:1};function L(O){for(var C=O.g.length,I=[],j=0;j<C;j++)I[j]=~O.g[j];return new c(I,~O.h).add(E)}n.abs=function(){return P(this)?L(this):this},n.add=function(O){for(var C=Math.max(this.g.length,O.g.length),I=[],j=0,k=0;k<=C;k++){var B=j+(this.i(k)&65535)+(O.i(k)&65535),D=(B>>>16)+(this.i(k)>>>16)+(O.i(k)>>>16);j=D>>>16,B&=65535,D&=65535,I[k]=D<<16|B}return new c(I,I[I.length-1]&-2147483648?-1:0)};function x(O,C){return O.add(L(C))}n.j=function(O){if(R(this)||R(O))return _;if(P(this))return P(O)?L(this).j(L(O)):L(L(this).j(O));if(P(O))return L(this.j(L(O)));if(0>this.l(w)&&0>O.l(w))return p(this.m()*O.m());for(var C=this.g.length+O.g.length,I=[],j=0;j<2*C;j++)I[j]=0;for(j=0;j<this.g.length;j++)for(var k=0;k<O.g.length;k++){var B=this.i(j)>>>16,D=this.i(j)&65535,Pe=O.i(k)>>>16,Qe=O.i(k)&65535;I[2*j+2*k]+=D*Qe,$(I,2*j+2*k),I[2*j+2*k+1]+=B*Qe,$(I,2*j+2*k+1),I[2*j+2*k+1]+=D*Pe,$(I,2*j+2*k+1),I[2*j+2*k+2]+=B*Pe,$(I,2*j+2*k+2)}for(j=0;j<C;j++)I[j]=I[2*j+1]<<16|I[2*j];for(j=C;j<2*C;j++)I[j]=0;return new c(I,0)};function $(O,C){for(;(O[C]&65535)!=O[C];)O[C+1]+=O[C]>>>16,O[C]&=65535,C++}function ne(O,C){this.g=O,this.h=C}function fe(O,C){if(R(C))throw Error("division by zero");if(R(O))return new ne(_,_);if(P(O))return C=fe(L(O),C),new ne(L(C.g),L(C.h));if(P(C))return C=fe(O,L(C)),new ne(L(C.g),C.h);if(30<O.g.length){if(P(O)||P(C))throw Error("slowDivide_ only works with positive integers.");for(var I=E,j=C;0>=j.l(O);)I=H(I),j=H(j);var k=V(I,1),B=V(j,1);for(j=V(j,2),I=V(I,2);!R(j);){var D=B.add(j);0>=D.l(O)&&(k=k.add(I),B=D),j=V(j,1),I=V(I,1)}return C=x(O,k.j(C)),new ne(k,C)}for(k=_;0<=O.l(C);){for(I=Math.max(1,Math.floor(O.m()/C.m())),j=Math.ceil(Math.log(I)/Math.LN2),j=48>=j?1:Math.pow(2,j-48),B=p(I),D=B.j(C);P(D)||0<D.l(O);)I-=j,B=p(I),D=B.j(C);R(B)&&(B=E),k=k.add(B),O=x(O,D)}return new ne(k,O)}n.A=function(O){return fe(this,O).h},n.and=function(O){for(var C=Math.max(this.g.length,O.g.length),I=[],j=0;j<C;j++)I[j]=this.i(j)&O.i(j);return new c(I,this.h&O.h)},n.or=function(O){for(var C=Math.max(this.g.length,O.g.length),I=[],j=0;j<C;j++)I[j]=this.i(j)|O.i(j);return new c(I,this.h|O.h)},n.xor=function(O){for(var C=Math.max(this.g.length,O.g.length),I=[],j=0;j<C;j++)I[j]=this.i(j)^O.i(j);return new c(I,this.h^O.h)};function H(O){for(var C=O.g.length+1,I=[],j=0;j<C;j++)I[j]=O.i(j)<<1|O.i(j-1)>>>31;return new c(I,O.h)}function V(O,C){var I=C>>5;C%=32;for(var j=O.g.length-I,k=[],B=0;B<j;B++)k[B]=0<C?O.i(B+I)>>>C|O.i(B+I+1)<<32-C:O.i(B+I);return new c(k,O.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,AA=i,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.A,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=p,c.fromString=y,is=c}).apply(typeof Vb<"u"?Vb:typeof self<"u"?self:typeof window<"u"?window:{});var oh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var RA,Zu,CA,Ah,Xg,IA,DA,OA;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(f,v,T){return f==Array.prototype||f==Object.prototype||(f[v]=T.value),f};function t(f){f=[typeof globalThis=="object"&&globalThis,f,typeof window=="object"&&window,typeof self=="object"&&self,typeof oh=="object"&&oh];for(var v=0;v<f.length;++v){var T=f[v];if(T&&T.Math==Math)return T}throw Error("Cannot find global object")}var i=t(this);function s(f,v){if(v)e:{var T=i;f=f.split(".");for(var A=0;A<f.length-1;A++){var Q=f[A];if(!(Q in T))break e;T=T[Q]}f=f[f.length-1],A=T[f],v=v(A),v!=A&&v!=null&&e(T,f,{configurable:!0,writable:!0,value:v})}}function l(f,v){f instanceof String&&(f+="");var T=0,A=!1,Q={next:function(){if(!A&&T<f.length){var re=T++;return{value:v(re,f[re]),done:!1}}return A=!0,{done:!0,value:void 0}}};return Q[Symbol.iterator]=function(){return Q},Q}s("Array.prototype.values",function(f){return f||function(){return l(this,function(v,T){return T})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var c=c||{},h=this||self;function m(f){var v=typeof f;return v=v!="object"?v:f?Array.isArray(f)?"array":v:"null",v=="array"||v=="object"&&typeof f.length=="number"}function p(f){var v=typeof f;return v=="object"&&f!=null||v=="function"}function y(f,v,T){return f.call.apply(f.bind,arguments)}function _(f,v,T){if(!f)throw Error();if(2<arguments.length){var A=Array.prototype.slice.call(arguments,2);return function(){var Q=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(Q,A),f.apply(v,Q)}}return function(){return f.apply(v,arguments)}}function E(f,v,T){return E=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?y:_,E.apply(null,arguments)}function w(f,v){var T=Array.prototype.slice.call(arguments,1);return function(){var A=T.slice();return A.push.apply(A,arguments),f.apply(this,A)}}function R(f,v){function T(){}T.prototype=v.prototype,f.aa=v.prototype,f.prototype=new T,f.prototype.constructor=f,f.Qb=function(A,Q,re){for(var ge=Array(arguments.length-2),lt=2;lt<arguments.length;lt++)ge[lt-2]=arguments[lt];return v.prototype[Q].apply(A,ge)}}function P(f){const v=f.length;if(0<v){const T=Array(v);for(let A=0;A<v;A++)T[A]=f[A];return T}return[]}function L(f,v){for(let T=1;T<arguments.length;T++){const A=arguments[T];if(m(A)){const Q=f.length||0,re=A.length||0;f.length=Q+re;for(let ge=0;ge<re;ge++)f[Q+ge]=A[ge]}else f.push(A)}}class x{constructor(v,T){this.i=v,this.j=T,this.h=0,this.g=null}get(){let v;return 0<this.h?(this.h--,v=this.g,this.g=v.next,v.next=null):v=this.i(),v}}function $(f){return/^[\s\xa0]*$/.test(f)}function ne(){var f=h.navigator;return f&&(f=f.userAgent)?f:""}function fe(f){return fe[" "](f),f}fe[" "]=function(){};var H=ne().indexOf("Gecko")!=-1&&!(ne().toLowerCase().indexOf("webkit")!=-1&&ne().indexOf("Edge")==-1)&&!(ne().indexOf("Trident")!=-1||ne().indexOf("MSIE")!=-1)&&ne().indexOf("Edge")==-1;function V(f,v,T){for(const A in f)v.call(T,f[A],A,f)}function O(f,v){for(const T in f)v.call(void 0,f[T],T,f)}function C(f){const v={};for(const T in f)v[T]=f[T];return v}const I="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function j(f,v){let T,A;for(let Q=1;Q<arguments.length;Q++){A=arguments[Q];for(T in A)f[T]=A[T];for(let re=0;re<I.length;re++)T=I[re],Object.prototype.hasOwnProperty.call(A,T)&&(f[T]=A[T])}}function k(f){var v=1;f=f.split(":");const T=[];for(;0<v&&f.length;)T.push(f.shift()),v--;return f.length&&T.push(f.join(":")),T}function B(f){h.setTimeout(()=>{throw f},0)}function D(){var f=He;let v=null;return f.g&&(v=f.g,f.g=f.g.next,f.g||(f.h=null),v.next=null),v}class Pe{constructor(){this.h=this.g=null}add(v,T){const A=Qe.get();A.set(v,T),this.h?this.h.next=A:this.g=A,this.h=A}}var Qe=new x(()=>new Z,f=>f.reset());class Z{constructor(){this.next=this.g=this.h=null}set(v,T){this.h=v,this.g=T,this.next=null}reset(){this.next=this.g=this.h=null}}let me,ve=!1,He=new Pe,U=()=>{const f=h.Promise.resolve(void 0);me=()=>{f.then(ae)}};var ae=()=>{for(var f;f=D();){try{f.h.call(f.g)}catch(T){B(T)}var v=Qe;v.j(f),100>v.h&&(v.h++,f.next=v.g,v.g=f)}ve=!1};function pe(){this.s=this.s,this.C=this.C}pe.prototype.s=!1,pe.prototype.ma=function(){this.s||(this.s=!0,this.N())},pe.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ce(f,v){this.type=f,this.g=this.target=v,this.defaultPrevented=!1}ce.prototype.h=function(){this.defaultPrevented=!0};var we=function(){if(!h.addEventListener||!Object.defineProperty)return!1;var f=!1,v=Object.defineProperty({},"passive",{get:function(){f=!0}});try{const T=()=>{};h.addEventListener("test",T,v),h.removeEventListener("test",T,v)}catch{}return f}();function Ue(f,v){if(ce.call(this,f?f.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,f){var T=this.type=f.type,A=f.changedTouches&&f.changedTouches.length?f.changedTouches[0]:null;if(this.target=f.target||f.srcElement,this.g=v,v=f.relatedTarget){if(H){e:{try{fe(v.nodeName);var Q=!0;break e}catch{}Q=!1}Q||(v=null)}}else T=="mouseover"?v=f.fromElement:T=="mouseout"&&(v=f.toElement);this.relatedTarget=v,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=f.clientX!==void 0?f.clientX:f.pageX,this.clientY=f.clientY!==void 0?f.clientY:f.pageY,this.screenX=f.screenX||0,this.screenY=f.screenY||0),this.button=f.button,this.key=f.key||"",this.ctrlKey=f.ctrlKey,this.altKey=f.altKey,this.shiftKey=f.shiftKey,this.metaKey=f.metaKey,this.pointerId=f.pointerId||0,this.pointerType=typeof f.pointerType=="string"?f.pointerType:Oe[f.pointerType]||"",this.state=f.state,this.i=f,f.defaultPrevented&&Ue.aa.h.call(this)}}R(Ue,ce);var Oe={2:"touch",3:"pen",4:"mouse"};Ue.prototype.h=function(){Ue.aa.h.call(this);var f=this.i;f.preventDefault?f.preventDefault():f.returnValue=!1};var Vt="closure_listenable_"+(1e6*Math.random()|0),pt=0;function Vn(f,v,T,A,Q){this.listener=f,this.proxy=null,this.src=v,this.type=T,this.capture=!!A,this.ha=Q,this.key=++pt,this.da=this.fa=!1}function Dt(f){f.da=!0,f.listener=null,f.proxy=null,f.src=null,f.ha=null}function Yt(f){this.src=f,this.g={},this.h=0}Yt.prototype.add=function(f,v,T,A,Q){var re=f.toString();f=this.g[re],f||(f=this.g[re]=[],this.h++);var ge=vr(f,v,A,Q);return-1<ge?(v=f[ge],T||(v.fa=!1)):(v=new Vn(v,this.src,re,!!A,Q),v.fa=T,f.push(v)),v};function yr(f,v){var T=v.type;if(T in f.g){var A=f.g[T],Q=Array.prototype.indexOf.call(A,v,void 0),re;(re=0<=Q)&&Array.prototype.splice.call(A,Q,1),re&&(Dt(v),f.g[T].length==0&&(delete f.g[T],f.h--))}}function vr(f,v,T,A){for(var Q=0;Q<f.length;++Q){var re=f[Q];if(!re.da&&re.listener==v&&re.capture==!!T&&re.ha==A)return Q}return-1}var yn="closure_lm_"+(1e6*Math.random()|0),Mi={};function va(f,v,T,A,Q){if(Array.isArray(v)){for(var re=0;re<v.length;re++)va(f,v[re],T,A,Q);return null}return T=De(T),f&&f[Vt]?f.K(v,T,p(A)?!!A.capture:!1,Q):vn(f,v,T,!1,A,Q)}function vn(f,v,T,A,Q,re){if(!v)throw Error("Invalid event type");var ge=p(Q)?!!Q.capture:!!Q,lt=ye(f);if(lt||(f[yn]=lt=new Yt(f)),T=lt.add(v,T,A,ge,re),T.proxy)return T;if(A=vs(),T.proxy=A,A.src=f,A.listener=T,f.addEventListener)we||(Q=ge),Q===void 0&&(Q=!1),f.addEventListener(v.toString(),A,Q);else if(f.attachEvent)f.attachEvent(qr(v.toString()),A);else if(f.addListener&&f.removeListener)f.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return T}function vs(){function f(T){return v.call(f.src,f.listener,T)}const v=ee;return f}function Hr(f,v,T,A,Q){if(Array.isArray(v))for(var re=0;re<v.length;re++)Hr(f,v[re],T,A,Q);else A=p(A)?!!A.capture:!!A,T=De(T),f&&f[Vt]?(f=f.i,v=String(v).toString(),v in f.g&&(re=f.g[v],T=vr(re,T,A,Q),-1<T&&(Dt(re[T]),Array.prototype.splice.call(re,T,1),re.length==0&&(delete f.g[v],f.h--)))):f&&(f=ye(f))&&(v=f.g[v.toString()],f=-1,v&&(f=vr(v,T,A,Q)),(T=-1<f?v[f]:null)&&ii(T))}function ii(f){if(typeof f!="number"&&f&&!f.da){var v=f.src;if(v&&v[Vt])yr(v.i,f);else{var T=f.type,A=f.proxy;v.removeEventListener?v.removeEventListener(T,A,f.capture):v.detachEvent?v.detachEvent(qr(T),A):v.addListener&&v.removeListener&&v.removeListener(A),(T=ye(v))?(yr(T,f),T.h==0&&(T.src=null,v[yn]=null)):Dt(f)}}}function qr(f){return f in Mi?Mi[f]:Mi[f]="on"+f}function ee(f,v){if(f.da)f=!0;else{v=new Ue(v,this);var T=f.listener,A=f.ha||f.src;f.fa&&ii(f),f=T.call(A,v)}return f}function ye(f){return f=f[yn],f instanceof Yt?f:null}var Ae="__closure_events_fn_"+(1e9*Math.random()>>>0);function De(f){return typeof f=="function"?f:(f[Ae]||(f[Ae]=function(v){return f.handleEvent(v)}),f[Ae])}function _e(){pe.call(this),this.i=new Yt(this),this.M=this,this.F=null}R(_e,pe),_e.prototype[Vt]=!0,_e.prototype.removeEventListener=function(f,v,T,A){Hr(this,f,v,T,A)};function Ee(f,v){var T,A=f.F;if(A)for(T=[];A;A=A.F)T.push(A);if(f=f.M,A=v.type||v,typeof v=="string")v=new ce(v,f);else if(v instanceof ce)v.target=v.target||f;else{var Q=v;v=new ce(A,f),j(v,Q)}if(Q=!0,T)for(var re=T.length-1;0<=re;re--){var ge=v.g=T[re];Q=ht(ge,A,!0,v)&&Q}if(ge=v.g=f,Q=ht(ge,A,!0,v)&&Q,Q=ht(ge,A,!1,v)&&Q,T)for(re=0;re<T.length;re++)ge=v.g=T[re],Q=ht(ge,A,!1,v)&&Q}_e.prototype.N=function(){if(_e.aa.N.call(this),this.i){var f=this.i,v;for(v in f.g){for(var T=f.g[v],A=0;A<T.length;A++)Dt(T[A]);delete f.g[v],f.h--}}this.F=null},_e.prototype.K=function(f,v,T,A){return this.i.add(String(f),v,!1,T,A)},_e.prototype.L=function(f,v,T,A){return this.i.add(String(f),v,!0,T,A)};function ht(f,v,T,A){if(v=f.i.g[String(v)],!v)return!0;v=v.concat();for(var Q=!0,re=0;re<v.length;++re){var ge=v[re];if(ge&&!ge.da&&ge.capture==T){var lt=ge.listener,nn=ge.ha||ge.src;ge.fa&&yr(f.i,ge),Q=lt.call(nn,A)!==!1&&Q}}return Q&&!A.defaultPrevented}function yt(f,v,T){if(typeof f=="function")T&&(f=E(f,T));else if(f&&typeof f.handleEvent=="function")f=E(f.handleEvent,f);else throw Error("Invalid listener argument");return 2147483647<Number(v)?-1:h.setTimeout(f,v||0)}function ai(f){f.g=yt(()=>{f.g=null,f.i&&(f.i=!1,ai(f))},f.l);const v=f.h;f.h=null,f.m.apply(null,v)}class Dn extends pe{constructor(v,T){super(),this.m=v,this.l=T,this.h=null,this.i=!1,this.g=null}j(v){this.h=arguments,this.g?this.i=!0:ai(this)}N(){super.N(),this.g&&(h.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function _r(f){pe.call(this),this.h=f,this.g={}}R(_r,pe);var Wn=[];function Er(f){V(f.g,function(v,T){this.g.hasOwnProperty(T)&&ii(v)},f),f.g={}}_r.prototype.N=function(){_r.aa.N.call(this),Er(this)},_r.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Zn=h.JSON.stringify,Pi=h.JSON.parse,Tr=class{stringify(f){return h.JSON.stringify(f,void 0)}parse(f){return h.JSON.parse(f,void 0)}};function _a(){}_a.prototype.h=null;function Li(f){return f.h||(f.h=f.i())}function _s(){}var br={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Gr(){ce.call(this,"d")}R(Gr,ce);function Ea(){ce.call(this,"c")}R(Ea,ce);var kn={},si=null;function oi(){return si=si||new _e}kn.La="serverreachability";function Ta(f){ce.call(this,kn.La,f)}R(Ta,ce);function z(f){const v=oi();Ee(v,new Ta(v))}kn.STAT_EVENT="statevent";function K(f,v){ce.call(this,kn.STAT_EVENT,f),this.stat=v}R(K,ce);function X(f){const v=oi();Ee(v,new K(v,f))}kn.Ma="timingevent";function oe(f,v){ce.call(this,kn.Ma,f),this.size=v}R(oe,ce);function de(f,v){if(typeof f!="function")throw Error("Fn must not be null and must be a function");return h.setTimeout(function(){f()},v)}function be(){this.g=!0}be.prototype.xa=function(){this.g=!1};function Le(f,v,T,A,Q,re){f.info(function(){if(f.g)if(re)for(var ge="",lt=re.split("&"),nn=0;nn<lt.length;nn++){var ut=lt[nn].split("=");if(1<ut.length){var fn=ut[0];ut=ut[1];var rn=fn.split("_");ge=2<=rn.length&&rn[1]=="type"?ge+(fn+"="+ut+"&"):ge+(fn+"=redacted&")}}else ge=null;else ge=re;return"XMLHTTP REQ ("+A+") [attempt "+Q+"]: "+v+`
`+T+`
`+ge})}function Se(f,v,T,A,Q,re,ge){f.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+Q+"]: "+v+`
`+T+`
`+re+" "+ge})}function Ce(f,v,T,A){f.info(function(){return"XMLHTTP TEXT ("+v+"): "+je(f,T)+(A?" "+A:"")})}function xe(f,v){f.info(function(){return"TIMEOUT: "+v})}be.prototype.info=function(){};function je(f,v){if(!f.g)return v;if(!v)return null;try{var T=JSON.parse(v);if(T){for(f=0;f<T.length;f++)if(Array.isArray(T[f])){var A=T[f];if(!(2>A.length)){var Q=A[1];if(Array.isArray(Q)&&!(1>Q.length)){var re=Q[0];if(re!="noop"&&re!="stop"&&re!="close")for(var ge=1;ge<Q.length;ge++)Q[ge]=""}}}}return Zn(T)}catch{return v}}var Ie={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},ze={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},nt;function vt(){}R(vt,_a),vt.prototype.g=function(){return new XMLHttpRequest},vt.prototype.i=function(){return{}},nt=new vt;function dt(f,v,T,A){this.j=f,this.i=v,this.l=T,this.R=A||1,this.U=new _r(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new ot}function ot(){this.i=null,this.g="",this.h=!1}var Je={},Sr={};function tn(f,v,T){f.L=1,f.v=bs(tr(v)),f.m=T,f.P=!0,Un(f,null)}function Un(f,v){f.F=Date.now(),Jn(f),f.A=tr(f.v);var T=f.A,A=f.R;Array.isArray(A)||(A=[String(A)]),Gl(T.i,"t",A),f.C=0,T=f.j.J,f.h=new ot,f.g=Yc(f.j,T?v:null,!f.m),0<f.O&&(f.M=new Dn(E(f.Y,f,f.g),f.O)),v=f.U,T=f.g,A=f.ca;var Q="readystatechange";Array.isArray(Q)||(Q&&(Wn[0]=Q.toString()),Q=Wn);for(var re=0;re<Q.length;re++){var ge=va(T,Q[re],A||v.handleEvent,!1,v.h||v);if(!ge)break;v.g[ge.key]=ge}v=f.H?C(f.H):{},f.m?(f.u||(f.u="POST"),v["Content-Type"]="application/x-www-form-urlencoded",f.g.ea(f.A,f.u,f.m,v)):(f.u="GET",f.g.ea(f.A,f.u,null,v)),z(),Le(f.i,f.u,f.A,f.l,f.R,f.m)}dt.prototype.ca=function(f){f=f.target;const v=this.M;v&&Ir(f)==3?v.j():this.Y(f)},dt.prototype.Y=function(f){try{if(f==this.g)e:{const rn=Ir(this.g);var v=this.g.Ba();const $i=this.g.Z();if(!(3>rn)&&(rn!=3||this.g&&(this.h.h||this.g.oa()||Fc(this.g)))){this.J||rn!=4||v==7||(v==8||0>=$i?z(3):z(2)),On(this);var T=this.g.Z();this.X=T;t:if(_n(this)){var A=Fc(this.g);f="";var Q=A.length,re=Ir(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Ge(this),jn(this);var ge="";break t}this.h.i=new h.TextDecoder}for(v=0;v<Q;v++)this.h.h=!0,f+=this.h.i.decode(A[v],{stream:!(re&&v==Q-1)});A.length=0,this.h.g+=f,this.C=0,ge=this.h.g}else ge=this.g.oa();if(this.o=T==200,Se(this.i,this.u,this.A,this.l,this.R,rn,T),this.o){if(this.T&&!this.K){t:{if(this.g){var lt,nn=this.g;if((lt=nn.g?nn.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!$(lt)){var ut=lt;break t}}ut=null}if(T=ut)Ce(this.i,this.l,T,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Xt(this,T);else{this.o=!1,this.s=3,X(12),Ge(this),jn(this);break e}}if(this.P){T=!0;let Tn;for(;!this.J&&this.C<ge.length;)if(Tn=li(this,ge),Tn==Sr){rn==4&&(this.s=4,X(14),T=!1),Ce(this.i,this.l,null,"[Incomplete Response]");break}else if(Tn==Je){this.s=4,X(15),Ce(this.i,this.l,ge,"[Invalid Chunk]"),T=!1;break}else Ce(this.i,this.l,Tn,null),Xt(this,Tn);if(_n(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),rn!=4||ge.length!=0||this.h.h||(this.s=1,X(16),T=!1),this.o=this.o&&T,!T)Ce(this.i,this.l,ge,"[Invalid Chunked Response]"),Ge(this),jn(this);else if(0<ge.length&&!this.W){this.W=!0;var fn=this.j;fn.g==this&&fn.ba&&!fn.M&&(fn.j.info("Great, no buffering proxy detected. Bytes received: "+ge.length),Os(fn),fn.M=!0,X(11))}}else Ce(this.i,this.l,ge,null),Xt(this,ge);rn==4&&Ge(this),this.o&&!this.J&&(rn==4?Gc(this.j,this):(this.o=!1,Jn(this)))}else Fd(this.g),T==400&&0<ge.indexOf("Unknown SID")?(this.s=3,X(12)):(this.s=0,X(13)),Ge(this),jn(this)}}}catch{}finally{}};function _n(f){return f.g?f.u=="GET"&&f.L!=2&&f.j.Ca:!1}function li(f,v){var T=f.C,A=v.indexOf(`
`,T);return A==-1?Sr:(T=Number(v.substring(T,A)),isNaN(T)?Je:(A+=1,A+T>v.length?Sr:(v=v.slice(A,A+T),f.C=A+T,v)))}dt.prototype.cancel=function(){this.J=!0,Ge(this)};function Jn(f){f.S=Date.now()+f.I,ba(f,f.I)}function ba(f,v){if(f.B!=null)throw Error("WatchDog timer not null");f.B=de(E(f.ba,f),v)}function On(f){f.B&&(h.clearTimeout(f.B),f.B=null)}dt.prototype.ba=function(){this.B=null;const f=Date.now();0<=f-this.S?(xe(this.i,this.A),this.L!=2&&(z(),X(17)),Ge(this),this.s=2,jn(this)):ba(this,this.S-f)};function jn(f){f.j.G==0||f.J||Gc(f.j,f)}function Ge(f){On(f);var v=f.M;v&&typeof v.ma=="function"&&v.ma(),f.M=null,Er(f.U),f.g&&(v=f.g,f.g=null,v.abort(),v.ma())}function Xt(f,v){try{var T=f.j;if(T.G!=0&&(T.g==f||wr(T.h,f))){if(!f.K&&wr(T.h,f)&&T.G==3){try{var A=T.Da.g.parse(v)}catch{A=null}if(Array.isArray(A)&&A.length==3){var Q=A;if(Q[0]==0){e:if(!T.u){if(T.g)if(T.g.F+3e3<f.F)Oo(T),Io(T);else break e;Wl(T),X(18)}}else T.za=Q[1],0<T.za-T.T&&37500>Q[2]&&T.F&&T.v==0&&!T.C&&(T.C=de(E(T.Za,T),6e3));if(1>=Ot(T.h)&&T.ca){try{T.ca()}catch{}T.ca=void 0}}else Bi(T,11)}else if((f.K||T.g==f)&&Oo(T),!$(v))for(Q=T.Da.g.parse(v),v=0;v<Q.length;v++){let ut=Q[v];if(T.T=ut[0],ut=ut[1],T.G==2)if(ut[0]=="c"){T.K=ut[1],T.ia=ut[2];const fn=ut[3];fn!=null&&(T.la=fn,T.j.info("VER="+T.la));const rn=ut[4];rn!=null&&(T.Aa=rn,T.j.info("SVER="+T.Aa));const $i=ut[5];$i!=null&&typeof $i=="number"&&0<$i&&(A=1.5*$i,T.L=A,T.j.info("backChannelRequestTimeoutMs_="+A)),A=T;const Tn=f.g;if(Tn){const gi=Tn.g?Tn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(gi){var re=A.h;re.g||gi.indexOf("spdy")==-1&&gi.indexOf("quic")==-1&&gi.indexOf("h2")==-1||(re.j=re.l,re.g=new Set,re.h&&(Vi(re,re.h),re.h=null))}if(A.D){const Jl=Tn.g?Tn.g.getResponseHeader("X-HTTP-Session-Id"):null;Jl&&(A.ya=Jl,wt(A.I,A.D,Jl))}}T.G=3,T.l&&T.l.ua(),T.ba&&(T.R=Date.now()-f.F,T.j.info("Handshake RTT: "+T.R+"ms")),A=T;var ge=f;if(A.qa=Qc(A,A.J?A.ia:null,A.W),ge.K){En(A.h,ge);var lt=ge,nn=A.L;nn&&(lt.I=nn),lt.B&&(On(lt),Jn(lt)),A.g=ge}else Hc(A);0<T.i.length&&Do(T)}else ut[0]!="stop"&&ut[0]!="close"||Bi(T,7);else T.G==3&&(ut[0]=="stop"||ut[0]=="close"?ut[0]=="stop"?Bi(T,7):Yl(T):ut[0]!="noop"&&T.l&&T.l.ta(ut),T.v=0)}}z(4)}catch{}}var er=class{constructor(f,v){this.g=f,this.map=v}};function Bn(f){this.l=f||10,h.PerformanceNavigationTiming?(f=h.performance.getEntriesByType("navigation"),f=0<f.length&&(f[0].nextHopProtocol=="hq"||f[0].nextHopProtocol=="h2")):f=!!(h.chrome&&h.chrome.loadTimes&&h.chrome.loadTimes()&&h.chrome.loadTimes().wasFetchedViaSpdy),this.j=f?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function ui(f){return f.h?!0:f.g?f.g.size>=f.j:!1}function Ot(f){return f.h?1:f.g?f.g.size:0}function wr(f,v){return f.h?f.h==v:f.g?f.g.has(v):!1}function Vi(f,v){f.g?f.g.add(v):f.h=v}function En(f,v){f.h&&f.h==v?f.h=null:f.g&&f.g.has(v)&&f.g.delete(v)}Bn.prototype.cancel=function(){if(this.i=Bl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const f of this.g.values())f.cancel();this.g.clear()}};function Bl(f){if(f.h!=null)return f.i.concat(f.h.D);if(f.g!=null&&f.g.size!==0){let v=f.i;for(const T of f.g.values())v=v.concat(T.D);return v}return P(f.i)}function kd(f){if(f.V&&typeof f.V=="function")return f.V();if(typeof Map<"u"&&f instanceof Map||typeof Set<"u"&&f instanceof Set)return Array.from(f.values());if(typeof f=="string")return f.split("");if(m(f)){for(var v=[],T=f.length,A=0;A<T;A++)v.push(f[A]);return v}v=[],T=0;for(A in f)v[T++]=f[A];return v}function bo(f){if(f.na&&typeof f.na=="function")return f.na();if(!f.V||typeof f.V!="function"){if(typeof Map<"u"&&f instanceof Map)return Array.from(f.keys());if(!(typeof Set<"u"&&f instanceof Set)){if(m(f)||typeof f=="string"){var v=[];f=f.length;for(var T=0;T<f;T++)v.push(T);return v}v=[],T=0;for(const A in f)v[T++]=A;return v}}}function $l(f,v){if(f.forEach&&typeof f.forEach=="function")f.forEach(v,void 0);else if(m(f)||typeof f=="string")Array.prototype.forEach.call(f,v,void 0);else for(var T=bo(f),A=kd(f),Q=A.length,re=0;re<Q;re++)v.call(void 0,A[re],T&&T[re],f)}var Es=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ud(f,v){if(f){f=f.split("&");for(var T=0;T<f.length;T++){var A=f[T].indexOf("="),Q=null;if(0<=A){var re=f[T].substring(0,A);Q=f[T].substring(A+1)}else re=f[T];v(re,Q?decodeURIComponent(Q.replace(/\+/g," ")):"")}}}function Wt(f){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,f instanceof Wt){this.h=f.h,Ts(this,f.j),this.o=f.o,this.g=f.g,Sa(this,f.s),this.l=f.l;var v=f.i,T=new Ui;T.i=v.i,v.g&&(T.g=new Map(v.g),T.h=v.h),ki(this,T),this.m=f.m}else f&&(v=String(f).match(Es))?(this.h=!1,Ts(this,v[1]||"",!0),this.o=Ar(v[2]||""),this.g=Ar(v[3]||"",!0),Sa(this,v[4]),this.l=Ar(v[5]||"",!0),ki(this,v[6]||"",!0),this.m=Ar(v[7]||"")):(this.h=!1,this.i=new Ui(null,this.h))}Wt.prototype.toString=function(){var f=[],v=this.j;v&&f.push(Ss(v,Hl,!0),":");var T=this.g;return(T||v=="file")&&(f.push("//"),(v=this.o)&&f.push(Ss(v,Hl,!0),"@"),f.push(encodeURIComponent(String(T)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),T=this.s,T!=null&&f.push(":",String(T))),(T=this.l)&&(this.g&&T.charAt(0)!="/"&&f.push("/"),f.push(Ss(T,T.charAt(0)=="/"?jd:ql,!0))),(T=this.i.toString())&&f.push("?",T),(T=this.m)&&f.push("#",Ss(T,So)),f.join("")};function tr(f){return new Wt(f)}function Ts(f,v,T){f.j=T?Ar(v,!0):v,f.j&&(f.j=f.j.replace(/:$/,""))}function Sa(f,v){if(v){if(v=Number(v),isNaN(v)||0>v)throw Error("Bad port number "+v);f.s=v}else f.s=null}function ki(f,v,T){v instanceof Ui?(f.i=v,jc(f.i,f.h)):(T||(v=Ss(v,zd)),f.i=new Ui(v,f.h))}function wt(f,v,T){f.i.set(v,T)}function bs(f){return wt(f,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),f}function Ar(f,v){return f?v?decodeURI(f.replace(/%25/g,"%2525")):decodeURIComponent(f):""}function Ss(f,v,T){return typeof f=="string"?(f=encodeURI(f).replace(v,Uc),T&&(f=f.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f):null}function Uc(f){return f=f.charCodeAt(0),"%"+(f>>4&15).toString(16)+(f&15).toString(16)}var Hl=/[#\/\?@]/g,ql=/[#\?:]/g,jd=/[#\?]/g,zd=/[#\?@]/g,So=/#/g;function Ui(f,v){this.h=this.g=null,this.i=f||null,this.j=!!v}function Rr(f){f.g||(f.g=new Map,f.h=0,f.i&&Ud(f.i,function(v,T){f.add(decodeURIComponent(v.replace(/\+/g," ")),T)}))}n=Ui.prototype,n.add=function(f,v){Rr(this),this.i=null,f=ci(this,f);var T=this.g.get(f);return T||this.g.set(f,T=[]),T.push(v),this.h+=1,this};function ji(f,v){Rr(f),v=ci(f,v),f.g.has(v)&&(f.i=null,f.h-=f.g.get(v).length,f.g.delete(v))}function zi(f,v){return Rr(f),v=ci(f,v),f.g.has(v)}n.forEach=function(f,v){Rr(this),this.g.forEach(function(T,A){T.forEach(function(Q){f.call(v,Q,A,this)},this)},this)},n.na=function(){Rr(this);const f=Array.from(this.g.values()),v=Array.from(this.g.keys()),T=[];for(let A=0;A<v.length;A++){const Q=f[A];for(let re=0;re<Q.length;re++)T.push(v[A])}return T},n.V=function(f){Rr(this);let v=[];if(typeof f=="string")zi(this,f)&&(v=v.concat(this.g.get(ci(this,f))));else{f=Array.from(this.g.values());for(let T=0;T<f.length;T++)v=v.concat(f[T])}return v},n.set=function(f,v){return Rr(this),this.i=null,f=ci(this,f),zi(this,f)&&(this.h-=this.g.get(f).length),this.g.set(f,[v]),this.h+=1,this},n.get=function(f,v){return f?(f=this.V(f),0<f.length?String(f[0]):v):v};function Gl(f,v,T){ji(f,v),0<T.length&&(f.i=null,f.g.set(ci(f,v),P(T)),f.h+=T.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const f=[],v=Array.from(this.g.keys());for(var T=0;T<v.length;T++){var A=v[T];const re=encodeURIComponent(String(A)),ge=this.V(A);for(A=0;A<ge.length;A++){var Q=re;ge[A]!==""&&(Q+="="+encodeURIComponent(String(ge[A]))),f.push(Q)}}return this.i=f.join("&")};function ci(f,v){return v=String(v),f.j&&(v=v.toLowerCase()),v}function jc(f,v){v&&!f.j&&(Rr(f),f.i=null,f.g.forEach(function(T,A){var Q=A.toLowerCase();A!=Q&&(ji(this,A),Gl(this,Q,T))},f)),f.j=v}function ws(f,v){const T=new be;if(h.Image){const A=new Image;A.onload=w(Cr,T,"TestLoadImage: loaded",!0,v,A),A.onerror=w(Cr,T,"TestLoadImage: error",!1,v,A),A.onabort=w(Cr,T,"TestLoadImage: abort",!1,v,A),A.ontimeout=w(Cr,T,"TestLoadImage: timeout",!1,v,A),h.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=f}else v(!1)}function Kr(f,v){const T=new be,A=new AbortController,Q=setTimeout(()=>{A.abort(),Cr(T,"TestPingServer: timeout",!1,v)},1e4);fetch(f,{signal:A.signal}).then(re=>{clearTimeout(Q),re.ok?Cr(T,"TestPingServer: ok",!0,v):Cr(T,"TestPingServer: server error",!1,v)}).catch(()=>{clearTimeout(Q),Cr(T,"TestPingServer: error",!1,v)})}function Cr(f,v,T,A,Q){try{Q&&(Q.onload=null,Q.onerror=null,Q.onabort=null,Q.ontimeout=null),A(T)}catch{}}function As(){this.g=new Tr}function fi(f,v,T){const A=T||"";try{$l(f,function(Q,re){let ge=Q;p(Q)&&(ge=Zn(Q)),v.push(A+re+"="+encodeURIComponent(ge))})}catch(Q){throw v.push(A+"type="+encodeURIComponent("_badmap")),Q}}function wa(f){this.l=f.Ub||null,this.j=f.eb||!1}R(wa,_a),wa.prototype.g=function(){return new Fi(this.l,this.j)},wa.prototype.i=function(f){return function(){return f}}({});function Fi(f,v){_e.call(this),this.D=f,this.o=v,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}R(Fi,_e),n=Fi.prototype,n.open=function(f,v){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=f,this.A=v,this.readyState=1,di(this)},n.send=function(f){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const v={headers:this.u,method:this.B,credentials:this.m,cache:void 0};f&&(v.body=f),(this.D||h).fetch(new Request(this.A,v)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,hi(this)),this.readyState=0},n.Sa=function(f){if(this.g&&(this.l=f,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=f.headers,this.readyState=2,di(this)),this.g&&(this.readyState=3,di(this),this.g)))if(this.responseType==="arraybuffer")f.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof h.ReadableStream<"u"&&"body"in f){if(this.j=f.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Kl(this)}else f.text().then(this.Ra.bind(this),this.ga.bind(this))};function Kl(f){f.j.read().then(f.Pa.bind(f)).catch(f.ga.bind(f))}n.Pa=function(f){if(this.g){if(this.o&&f.value)this.response.push(f.value);else if(!this.o){var v=f.value?f.value:new Uint8Array(0);(v=this.v.decode(v,{stream:!f.done}))&&(this.response=this.responseText+=v)}f.done?hi(this):di(this),this.readyState==3&&Kl(this)}},n.Ra=function(f){this.g&&(this.response=this.responseText=f,hi(this))},n.Qa=function(f){this.g&&(this.response=f,hi(this))},n.ga=function(){this.g&&hi(this)};function hi(f){f.readyState=4,f.l=null,f.j=null,f.v=null,di(f)}n.setRequestHeader=function(f,v){this.u.append(f,v)},n.getResponseHeader=function(f){return this.h&&this.h.get(f.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const f=[],v=this.h.entries();for(var T=v.next();!T.done;)T=T.value,f.push(T[0]+": "+T[1]),T=v.next();return f.join(`\r
`)};function di(f){f.onreadystatechange&&f.onreadystatechange.call(f)}Object.defineProperty(Fi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(f){this.m=f?"include":"same-origin"}});function Ql(f){let v="";return V(f,function(T,A){v+=A,v+=":",v+=T,v+=`\r
`}),v}function cn(f,v,T){e:{for(A in T){var A=!1;break e}A=!0}A||(T=Ql(T),typeof f=="string"?T!=null&&encodeURIComponent(String(T)):wt(f,v,T))}function _t(f){_e.call(this),this.headers=new Map,this.o=f||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}R(_t,_e);var wo=/^https?$/i,Rs=["POST","PUT"];n=_t.prototype,n.Ha=function(f){this.J=f},n.ea=function(f,v,T,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+f);v=v?v.toUpperCase():"GET",this.D=f,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():nt.g(),this.v=this.o?Li(this.o):Li(nt),this.g.onreadystatechange=E(this.Ea,this);try{this.B=!0,this.g.open(v,String(f),!0),this.B=!1}catch(re){zc(this,re);return}if(f=T||"",T=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var Q in A)T.set(Q,A[Q]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const re of A.keys())T.set(re,A.get(re));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(T.keys()).find(re=>re.toLowerCase()=="content-type"),Q=h.FormData&&f instanceof h.FormData,!(0<=Array.prototype.indexOf.call(Rs,v,void 0))||A||Q||T.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[re,ge]of T)this.g.setRequestHeader(re,ge);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Cs(this),this.u=!0,this.g.send(f),this.u=!1}catch(re){zc(this,re)}};function zc(f,v){f.h=!1,f.g&&(f.j=!0,f.g.abort(),f.j=!1),f.l=v,f.m=5,Ao(f),mi(f)}function Ao(f){f.A||(f.A=!0,Ee(f,"complete"),Ee(f,"error"))}n.abort=function(f){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=f||7,Ee(this,"complete"),Ee(this,"abort"),mi(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),mi(this,!0)),_t.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?Ro(this):this.bb())},n.bb=function(){Ro(this)};function Ro(f){if(f.h&&typeof c<"u"&&(!f.v[1]||Ir(f)!=4||f.Z()!=2)){if(f.u&&Ir(f)==4)yt(f.Ea,0,f);else if(Ee(f,"readystatechange"),Ir(f)==4){f.h=!1;try{const ge=f.Z();e:switch(ge){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var v=!0;break e;default:v=!1}var T;if(!(T=v)){var A;if(A=ge===0){var Q=String(f.D).match(Es)[1]||null;!Q&&h.self&&h.self.location&&(Q=h.self.location.protocol.slice(0,-1)),A=!wo.test(Q?Q.toLowerCase():"")}T=A}if(T)Ee(f,"complete"),Ee(f,"success");else{f.m=6;try{var re=2<Ir(f)?f.g.statusText:""}catch{re=""}f.l=re+" ["+f.Z()+"]",Ao(f)}}finally{mi(f)}}}}function mi(f,v){if(f.g){Cs(f);const T=f.g,A=f.v[0]?()=>{}:null;f.g=null,f.v=null,v||Ee(f,"ready");try{T.onreadystatechange=A}catch{}}}function Cs(f){f.I&&(h.clearTimeout(f.I),f.I=null)}n.isActive=function(){return!!this.g};function Ir(f){return f.g?f.g.readyState:0}n.Z=function(){try{return 2<Ir(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(f){if(this.g){var v=this.g.responseText;return f&&v.indexOf(f)==0&&(v=v.substring(f.length)),Pi(v)}};function Fc(f){try{if(!f.g)return null;if("response"in f.g)return f.g.response;switch(f.H){case"":case"text":return f.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in f.g)return f.g.mozResponseArrayBuffer}return null}catch{return null}}function Fd(f){const v={};f=(f.g&&2<=Ir(f)&&f.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<f.length;A++){if($(f[A]))continue;var T=k(f[A]);const Q=T[0];if(T=T[1],typeof T!="string")continue;T=T.trim();const re=v[Q]||[];v[Q]=re,re.push(T)}O(v,function(A){return A.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Is(f,v,T){return T&&T.internalChannelParams&&T.internalChannelParams[f]||v}function Co(f){this.Aa=0,this.i=[],this.j=new be,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Is("failFast",!1,f),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Is("baseRetryDelayMs",5e3,f),this.cb=Is("retryDelaySeedMs",1e4,f),this.Wa=Is("forwardChannelMaxRetries",2,f),this.wa=Is("forwardChannelRequestTimeoutMs",2e4,f),this.pa=f&&f.xmlHttpFactory||void 0,this.Xa=f&&f.Tb||void 0,this.Ca=f&&f.useFetchStreams||!1,this.L=void 0,this.J=f&&f.supportsCrossDomainXhr||!1,this.K="",this.h=new Bn(f&&f.concurrentRequestLimit),this.Da=new As,this.P=f&&f.fastHandshake||!1,this.O=f&&f.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=f&&f.Rb||!1,f&&f.xa&&this.j.xa(),f&&f.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&f&&f.detectBufferingProxy||!1,this.ja=void 0,f&&f.longPollingTimeout&&0<f.longPollingTimeout&&(this.ja=f.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=Co.prototype,n.la=8,n.G=1,n.connect=function(f,v,T,A){X(0),this.W=f,this.H=v||{},T&&A!==void 0&&(this.H.OSID=T,this.H.OAID=A),this.F=this.X,this.I=Qc(this,null,this.W),Do(this)};function Yl(f){if(Bc(f),f.G==3){var v=f.U++,T=tr(f.I);if(wt(T,"SID",f.K),wt(T,"RID",v),wt(T,"TYPE","terminate"),Ds(f,T),v=new dt(f,f.j,v),v.L=2,v.v=bs(tr(T)),T=!1,h.navigator&&h.navigator.sendBeacon)try{T=h.navigator.sendBeacon(v.v.toString(),"")}catch{}!T&&h.Image&&(new Image().src=v.v,T=!0),T||(v.g=Yc(v.j,null),v.g.ea(v.v)),v.F=Date.now(),Jn(v)}Kc(f)}function Io(f){f.g&&(Os(f),f.g.cancel(),f.g=null)}function Bc(f){Io(f),f.u&&(h.clearTimeout(f.u),f.u=null),Oo(f),f.h.cancel(),f.s&&(typeof f.s=="number"&&h.clearTimeout(f.s),f.s=null)}function Do(f){if(!ui(f.h)&&!f.s){f.s=!0;var v=f.Ga;me||U(),ve||(me(),ve=!0),He.add(v,f),f.B=0}}function Bd(f,v){return Ot(f.h)>=f.h.j-(f.s?1:0)?!1:f.s?(f.i=v.D.concat(f.i),!0):f.G==1||f.G==2||f.B>=(f.Va?0:f.Wa)?!1:(f.s=de(E(f.Ga,f,v),Zl(f,f.B)),f.B++,!0)}n.Ga=function(f){if(this.s)if(this.s=null,this.G==1){if(!f){this.U=Math.floor(1e5*Math.random()),f=this.U++;const Q=new dt(this,this.j,f);let re=this.o;if(this.S&&(re?(re=C(re),j(re,this.S)):re=this.S),this.m!==null||this.O||(Q.H=re,re=null),this.P)e:{for(var v=0,T=0;T<this.i.length;T++){t:{var A=this.i[T];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break t}A=void 0}if(A===void 0)break;if(v+=A,4096<v){v=T;break e}if(v===4096||T===this.i.length-1){v=T+1;break e}}v=1e3}else v=1e3;v=$c(this,Q,v),T=tr(this.I),wt(T,"RID",f),wt(T,"CVER",22),this.D&&wt(T,"X-HTTP-Session-Id",this.D),Ds(this,T),re&&(this.O?v="headers="+encodeURIComponent(String(Ql(re)))+"&"+v:this.m&&cn(T,this.m,re)),Vi(this.h,Q),this.Ua&&wt(T,"TYPE","init"),this.P?(wt(T,"$req",v),wt(T,"SID","null"),Q.T=!0,tn(Q,T,null)):tn(Q,T,v),this.G=2}}else this.G==3&&(f?Xl(this,f):this.i.length==0||ui(this.h)||Xl(this))};function Xl(f,v){var T;v?T=v.l:T=f.U++;const A=tr(f.I);wt(A,"SID",f.K),wt(A,"RID",T),wt(A,"AID",f.T),Ds(f,A),f.m&&f.o&&cn(A,f.m,f.o),T=new dt(f,f.j,T,f.B+1),f.m===null&&(T.H=f.o),v&&(f.i=v.D.concat(f.i)),v=$c(f,T,1e3),T.I=Math.round(.5*f.wa)+Math.round(.5*f.wa*Math.random()),Vi(f.h,T),tn(T,A,v)}function Ds(f,v){f.H&&V(f.H,function(T,A){wt(v,A,T)}),f.l&&$l({},function(T,A){wt(v,A,T)})}function $c(f,v,T){T=Math.min(f.i.length,T);var A=f.l?E(f.l.Na,f.l,f):null;e:{var Q=f.i;let re=-1;for(;;){const ge=["count="+T];re==-1?0<T?(re=Q[0].g,ge.push("ofs="+re)):re=0:ge.push("ofs="+re);let lt=!0;for(let nn=0;nn<T;nn++){let ut=Q[nn].g;const fn=Q[nn].map;if(ut-=re,0>ut)re=Math.max(0,Q[nn].g-100),lt=!1;else try{fi(fn,ge,"req"+ut+"_")}catch{A&&A(fn)}}if(lt){A=ge.join("&");break e}}}return f=f.i.splice(0,T),v.D=f,A}function Hc(f){if(!f.g&&!f.u){f.Y=1;var v=f.Fa;me||U(),ve||(me(),ve=!0),He.add(v,f),f.v=0}}function Wl(f){return f.g||f.u||3<=f.v?!1:(f.Y++,f.u=de(E(f.Fa,f),Zl(f,f.v)),f.v++,!0)}n.Fa=function(){if(this.u=null,qc(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var f=2*this.R;this.j.info("BP detection timer enabled: "+f),this.A=de(E(this.ab,this),f)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,X(10),Io(this),qc(this))};function Os(f){f.A!=null&&(h.clearTimeout(f.A),f.A=null)}function qc(f){f.g=new dt(f,f.j,"rpc",f.Y),f.m===null&&(f.g.H=f.o),f.g.O=0;var v=tr(f.qa);wt(v,"RID","rpc"),wt(v,"SID",f.K),wt(v,"AID",f.T),wt(v,"CI",f.F?"0":"1"),!f.F&&f.ja&&wt(v,"TO",f.ja),wt(v,"TYPE","xmlhttp"),Ds(f,v),f.m&&f.o&&cn(v,f.m,f.o),f.L&&(f.g.I=f.L);var T=f.g;f=f.ia,T.L=1,T.v=bs(tr(v)),T.m=null,T.P=!0,Un(T,f)}n.Za=function(){this.C!=null&&(this.C=null,Io(this),Wl(this),X(19))};function Oo(f){f.C!=null&&(h.clearTimeout(f.C),f.C=null)}function Gc(f,v){var T=null;if(f.g==v){Oo(f),Os(f),f.g=null;var A=2}else if(wr(f.h,v))T=v.D,En(f.h,v),A=1;else return;if(f.G!=0){if(v.o)if(A==1){T=v.m?v.m.length:0,v=Date.now()-v.F;var Q=f.B;A=oi(),Ee(A,new oe(A,T)),Do(f)}else Hc(f);else if(Q=v.s,Q==3||Q==0&&0<v.X||!(A==1&&Bd(f,v)||A==2&&Wl(f)))switch(T&&0<T.length&&(v=f.h,v.i=v.i.concat(T)),Q){case 1:Bi(f,5);break;case 4:Bi(f,10);break;case 3:Bi(f,6);break;default:Bi(f,2)}}}function Zl(f,v){let T=f.Ta+Math.floor(Math.random()*f.cb);return f.isActive()||(T*=2),T*v}function Bi(f,v){if(f.j.info("Error code "+v),v==2){var T=E(f.fb,f),A=f.Xa;const Q=!A;A=new Wt(A||"//www.google.com/images/cleardot.gif"),h.location&&h.location.protocol=="http"||Ts(A,"https"),bs(A),Q?ws(A.toString(),T):Kr(A.toString(),T)}else X(2);f.G=0,f.l&&f.l.sa(v),Kc(f),Bc(f)}n.fb=function(f){f?(this.j.info("Successfully pinged google.com"),X(2)):(this.j.info("Failed to ping google.com"),X(1))};function Kc(f){if(f.G=0,f.ka=[],f.l){const v=Bl(f.h);(v.length!=0||f.i.length!=0)&&(L(f.ka,v),L(f.ka,f.i),f.h.i.length=0,P(f.i),f.i.length=0),f.l.ra()}}function Qc(f,v,T){var A=T instanceof Wt?tr(T):new Wt(T);if(A.g!="")v&&(A.g=v+"."+A.g),Sa(A,A.s);else{var Q=h.location;A=Q.protocol,v=v?v+"."+Q.hostname:Q.hostname,Q=+Q.port;var re=new Wt(null);A&&Ts(re,A),v&&(re.g=v),Q&&Sa(re,Q),T&&(re.l=T),A=re}return T=f.D,v=f.ya,T&&v&&wt(A,T,v),wt(A,"VER",f.la),Ds(f,A),A}function Yc(f,v,T){if(v&&!f.J)throw Error("Can't create secondary domain capable XhrIo object.");return v=f.Ca&&!f.pa?new _t(new wa({eb:T})):new _t(f.pa),v.Ha(f.J),v}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function Xc(){}n=Xc.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function xo(){}xo.prototype.g=function(f,v){return new zn(f,v)};function zn(f,v){_e.call(this),this.g=new Co(v),this.l=f,this.h=v&&v.messageUrlParams||null,f=v&&v.messageHeaders||null,v&&v.clientProtocolHeaderRequired&&(f?f["X-Client-Protocol"]="webchannel":f={"X-Client-Protocol":"webchannel"}),this.g.o=f,f=v&&v.initMessageHeaders||null,v&&v.messageContentType&&(f?f["X-WebChannel-Content-Type"]=v.messageContentType:f={"X-WebChannel-Content-Type":v.messageContentType}),v&&v.va&&(f?f["X-WebChannel-Client-Profile"]=v.va:f={"X-WebChannel-Client-Profile":v.va}),this.g.S=f,(f=v&&v.Sb)&&!$(f)&&(this.g.m=f),this.v=v&&v.supportsCrossDomainXhr||!1,this.u=v&&v.sendRawJson||!1,(v=v&&v.httpSessionIdParam)&&!$(v)&&(this.g.D=v,f=this.h,f!==null&&v in f&&(f=this.h,v in f&&delete f[v])),this.j=new pi(this)}R(zn,_e),zn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},zn.prototype.close=function(){Yl(this.g)},zn.prototype.o=function(f){var v=this.g;if(typeof f=="string"){var T={};T.__data__=f,f=T}else this.u&&(T={},T.__data__=Zn(f),f=T);v.i.push(new er(v.Ya++,f)),v.G==3&&Do(v)},zn.prototype.N=function(){this.g.l=null,delete this.j,Yl(this.g),delete this.g,zn.aa.N.call(this)};function Wc(f){Gr.call(this),f.__headers__&&(this.headers=f.__headers__,this.statusCode=f.__status__,delete f.__headers__,delete f.__status__);var v=f.__sm__;if(v){e:{for(const T in v){f=T;break e}f=void 0}(this.i=f)&&(f=this.i,v=v!==null&&f in v?v[f]:void 0),this.data=v}else this.data=f}R(Wc,Gr);function Zc(){Ea.call(this),this.status=1}R(Zc,Ea);function pi(f){this.g=f}R(pi,Xc),pi.prototype.ua=function(){Ee(this.g,"a")},pi.prototype.ta=function(f){Ee(this.g,new Wc(f))},pi.prototype.sa=function(f){Ee(this.g,new Zc)},pi.prototype.ra=function(){Ee(this.g,"b")},xo.prototype.createWebChannel=xo.prototype.g,zn.prototype.send=zn.prototype.o,zn.prototype.open=zn.prototype.m,zn.prototype.close=zn.prototype.close,OA=function(){return new xo},DA=function(){return oi()},IA=kn,Xg={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Ie.NO_ERROR=0,Ie.TIMEOUT=8,Ie.HTTP_ERROR=6,Ah=Ie,ze.COMPLETE="complete",CA=ze,_s.EventType=br,br.OPEN="a",br.CLOSE="b",br.ERROR="c",br.MESSAGE="d",_e.prototype.listen=_e.prototype.K,Zu=_s,_t.prototype.listenOnce=_t.prototype.L,_t.prototype.getLastError=_t.prototype.Ka,_t.prototype.getLastErrorCode=_t.prototype.Ba,_t.prototype.getStatus=_t.prototype.Z,_t.prototype.getResponseJson=_t.prototype.Oa,_t.prototype.getResponseText=_t.prototype.oa,_t.prototype.send=_t.prototype.ea,_t.prototype.setWithCredentials=_t.prototype.Ha,RA=_t}).apply(typeof oh<"u"?oh:typeof self<"u"?self:typeof window<"u"?window:{});const kb="@firebase/firestore",Ub="4.7.11";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Kn.UNAUTHENTICATED=new Kn(null),Kn.GOOGLE_CREDENTIALS=new Kn("google-credentials-uid"),Kn.FIRST_PARTY=new Kn("first-party-uid"),Kn.MOCK_USER=new Kn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ul="11.6.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lo=new Cy("@firebase/firestore");function fl(){return lo.logLevel}function Te(n,...e){if(lo.logLevel<=at.DEBUG){const t=e.map(Wy);lo.debug(`Firestore (${Ul}): ${n}`,...t)}}function ha(n,...e){if(lo.logLevel<=at.ERROR){const t=e.map(Wy);lo.error(`Firestore (${Ul}): ${n}`,...t)}}function pc(n,...e){if(lo.logLevel<=at.WARN){const t=e.map(Wy);lo.warn(`Firestore (${Ul}): ${n}`,...t)}}function Wy(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $e(n,e,t){let i="Unexpected state";typeof e=="string"?i=e:t=e,xA(n,i,t)}function xA(n,e,t){let i=`FIRESTORE (${Ul}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{i+=" CONTEXT: "+JSON.stringify(t)}catch{i+=" CONTEXT: "+t}throw ha(i),new Error(i)}function Tt(n,e,t,i){let s="Unexpected state";typeof t=="string"?s=t:i=t,n||xA(e,s,i)}function Ye(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const he={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Me extends pa{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class as{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zk{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Jk{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Kn.UNAUTHENTICATED))}shutdown(){}}class eU{constructor(e){this.t=e,this.currentUser=Kn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Tt(this.o===void 0,42304);let i=this.i;const s=m=>this.i!==i?(i=this.i,t(m)):Promise.resolve();let l=new as;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new as,e.enqueueRetryable(()=>s(this.currentUser))};const c=()=>{const m=l;e.enqueueRetryable(async()=>{await m.promise,await s(this.currentUser)})},h=m=>{Te("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=m,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit(m=>h(m)),setTimeout(()=>{if(!this.auth){const m=this.t.getImmediate({optional:!0});m?h(m):(Te("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new as)}},0),c()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(i=>this.i!==e?(Te("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(Tt(typeof i.accessToken=="string",31837,{l:i}),new Zk(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Tt(e===null||typeof e=="string",2055,{h:e}),new Kn(e)}}class tU{constructor(e,t,i){this.P=e,this.T=t,this.I=i,this.type="FirstParty",this.user=Kn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class nU{constructor(e,t,i){this.P=e,this.T=t,this.I=i}getToken(){return Promise.resolve(new tU(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(Kn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class jb{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class rU{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,jr(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){Tt(this.o===void 0,3512);const i=l=>{l.error!=null&&Te("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const c=l.token!==this.m;return this.m=l.token,Te("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?t(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable(()=>i(l))};const s=l=>{Te("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(l=>s(l)),setTimeout(()=>{if(!this.appCheck){const l=this.V.getImmediate({optional:!0});l?s(l):Te("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new jb(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Tt(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new jb(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iU(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let i=0;i<n;i++)t[i]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NA(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MA{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const s=iU(40);for(let l=0;l<s.length;++l)i.length<20&&s[l]<t&&(i+=e.charAt(s[l]%62))}return i}}function Ze(n,e){return n<e?-1:n>e?1:0}function Wg(n,e){let t=0;for(;t<n.length&&t<e.length;){const i=n.codePointAt(t),s=e.codePointAt(t);if(i!==s){if(i<128&&s<128)return Ze(i,s);{const l=NA(),c=aU(l.encode(zb(n,t)),l.encode(zb(e,t)));return c!==0?c:Ze(i,s)}}t+=i>65535?2:1}return Ze(n.length,e.length)}function zb(n,e){return n.codePointAt(e)>65535?n.substring(e,e+2):n.substring(e,e+1)}function aU(n,e){for(let t=0;t<n.length&&t<e.length;++t)if(n[t]!==e[t])return Ze(n[t],e[t]);return Ze(n.length,e.length)}function Rl(n,e,t){return n.length===e.length&&n.every((i,s)=>t(i,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fb=-62135596800,Bb=1e6;class ln{static now(){return ln.fromMillis(Date.now())}static fromDate(e){return ln.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),i=Math.floor((e-1e3*t)*Bb);return new ln(t,i)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Me(he.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Me(he.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<Fb)throw new Me(he.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Me(he.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Bb}_compareTo(e){return this.seconds===e.seconds?Ze(this.nanoseconds,e.nanoseconds):Ze(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-Fb;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ke{static fromTimestamp(e){return new Ke(e)}static min(){return new Ke(new ln(0,0))}static max(){return new Ke(new ln(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $b="__name__";class Si{constructor(e,t,i){t===void 0?t=0:t>e.length&&$e(637,{offset:t,range:e.length}),i===void 0?i=e.length-t:i>e.length-t&&$e(1746,{length:i,range:e.length-t}),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return Si.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Si?e.forEach(i=>{t.push(i)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const i=Math.min(e.length,t.length);for(let s=0;s<i;s++){const l=Si.compareSegments(e.get(s),t.get(s));if(l!==0)return l}return Ze(e.length,t.length)}static compareSegments(e,t){const i=Si.isNumericId(e),s=Si.isNumericId(t);return i&&!s?-1:!i&&s?1:i&&s?Si.extractNumericId(e).compare(Si.extractNumericId(t)):Wg(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return is.fromString(e.substring(4,e.length-2))}}class jt extends Si{construct(e,t,i){return new jt(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const i of e){if(i.indexOf("//")>=0)throw new Me(he.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter(s=>s.length>0))}return new jt(t)}static emptyPath(){return new jt([])}}const sU=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Cn extends Si{construct(e,t,i){return new Cn(e,t,i)}static isValidIdentifier(e){return sU.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Cn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===$b}static keyField(){return new Cn([$b])}static fromServerFormat(e){const t=[];let i="",s=0;const l=()=>{if(i.length===0)throw new Me(he.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(i),i=""};let c=!1;for(;s<e.length;){const h=e[s];if(h==="\\"){if(s+1===e.length)throw new Me(he.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const m=e[s+1];if(m!=="\\"&&m!=="."&&m!=="`")throw new Me(he.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=m,s+=2}else h==="`"?(c=!c,s++):h!=="."||c?(i+=h,s++):(l(),s++)}if(l(),c)throw new Me(he.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Cn(t)}static emptyPath(){return new Cn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ve{constructor(e){this.path=e}static fromPath(e){return new Ve(jt.fromString(e))}static fromName(e){return new Ve(jt.fromString(e).popFirst(5))}static empty(){return new Ve(jt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&jt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return jt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ve(new jt(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gc=-1;function oU(n,e){const t=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,s=Ke.fromTimestamp(i===1e9?new ln(t+1,0):new ln(t,i));return new cs(s,Ve.empty(),e)}function lU(n){return new cs(n.readTime,n.key,gc)}class cs{constructor(e,t,i){this.readTime=e,this.documentKey=t,this.largestBatchId=i}static min(){return new cs(Ke.min(),Ve.empty(),gc)}static max(){return new cs(Ke.max(),Ve.empty(),gc)}}function uU(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=Ve.comparator(n.documentKey,e.documentKey),t!==0?t:Ze(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cU="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class fU{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jl(n){if(n.code!==he.FAILED_PRECONDITION||n.message!==cU)throw n;Te("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ue{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&$e(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new ue((i,s)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(i,s)},this.catchCallback=l=>{this.wrapFailure(t,l).next(i,s)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof ue?t:ue.resolve(t)}catch(t){return ue.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):ue.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):ue.reject(t)}static resolve(e){return new ue((t,i)=>{t(e)})}static reject(e){return new ue((t,i)=>{i(e)})}static waitFor(e){return new ue((t,i)=>{let s=0,l=0,c=!1;e.forEach(h=>{++s,h.next(()=>{++l,c&&l===s&&t()},m=>i(m))}),c=!0,l===s&&t()})}static or(e){let t=ue.resolve(!1);for(const i of e)t=t.next(s=>s?ue.resolve(s):i());return t}static forEach(e,t){const i=[];return e.forEach((s,l)=>{i.push(t.call(this,s,l))}),this.waitFor(i)}static mapArray(e,t){return new ue((i,s)=>{const l=e.length,c=new Array(l);let h=0;for(let m=0;m<l;m++){const p=m;t(e[p]).next(y=>{c[p]=y,++h,h===l&&i(c)},y=>s(y))}})}static doWhile(e,t){return new ue((i,s)=>{const l=()=>{e()===!0?t().next(()=>{l()},s):i()};l()})}}function hU(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function zl(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sd{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=i=>this.ue(i),this.ce=i=>t.writeSequenceNumber(i))}ue(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ce&&this.ce(e),e}}Sd.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zy=-1;function wd(n){return n==null}function Kh(n){return n===0&&1/n==-1/0}function dU(n){return typeof n=="number"&&Number.isInteger(n)&&!Kh(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PA="";function mU(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=Hb(e)),e=pU(n.get(t),e);return Hb(e)}function pU(n,e){let t=e;const i=n.length;for(let s=0;s<i;s++){const l=n.charAt(s);switch(l){case"\0":t+="";break;case PA:t+="";break;default:t+=l}}return t}function Hb(n){return n+PA+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qb(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function vo(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function LA(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ft{constructor(e,t){this.comparator=e,this.root=t||An.EMPTY}insert(e,t){return new Ft(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,An.BLACK,null,null))}remove(e){return new Ft(this.comparator,this.root.remove(e,this.comparator).copy(null,null,An.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const i=this.comparator(e,t.key);if(i===0)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){const s=this.comparator(e,i.key);if(s===0)return t+i.left.size;s<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,i)=>(e(t,i),!1))}toString(){const e=[];return this.inorderTraversal((t,i)=>(e.push(`${t}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new lh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new lh(this.root,e,this.comparator,!1)}getReverseIterator(){return new lh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new lh(this.root,e,this.comparator,!0)}}class lh{constructor(e,t,i,s){this.isReverse=s,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=t?i(e.key,t):1,t&&s&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class An{constructor(e,t,i,s,l){this.key=e,this.value=t,this.color=i??An.RED,this.left=s??An.EMPTY,this.right=l??An.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,s,l){return new An(e??this.key,t??this.value,i??this.color,s??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let s=this;const l=i(e,s.key);return s=l<0?s.copy(null,null,null,s.left.insert(e,t,i),null):l===0?s.copy(null,t,null,null,null):s.copy(null,null,null,null,s.right.insert(e,t,i)),s.fixUp()}removeMin(){if(this.left.isEmpty())return An.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let i,s=this;if(t(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,t),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),t(e,s.key)===0){if(s.right.isEmpty())return An.EMPTY;i=s.right.min(),s=s.copy(i.key,i.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,t))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,An.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,An.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw $e(43730,{key:this.key,value:this.value});if(this.right.isRed())throw $e(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw $e(27949);return e+(this.isRed()?0:1)}}An.EMPTY=null,An.RED=!0,An.BLACK=!1;An.EMPTY=new class{constructor(){this.size=0}get key(){throw $e(57766)}get value(){throw $e(16141)}get color(){throw $e(16727)}get left(){throw $e(29726)}get right(){throw $e(36894)}copy(e,t,i,s,l){return this}insert(e,t,i){return new An(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class un{constructor(e){this.comparator=e,this.data=new Ft(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,i)=>(e(t),!1))}forEachInRange(e,t){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const s=i.getNext();if(this.comparator(s.key,e[1])>=0)return;t(s.key)}}forEachWhile(e,t){let i;for(i=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Gb(this.data.getIterator())}getIteratorFrom(e){return new Gb(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(i=>{t=t.add(i)}),t}isEqual(e){if(!(e instanceof un)||this.size!==e.size)return!1;const t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){const s=t.getNext().key,l=i.getNext().key;if(this.comparator(s,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new un(this.comparator);return t.data=e,t}}class Gb{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zr{constructor(e){this.fields=e,e.sort(Cn.comparator)}static empty(){return new Zr([])}unionWith(e){let t=new un(Cn.comparator);for(const i of this.fields)t=t.add(i);for(const i of e)t=t.add(i);return new Zr(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Rl(this.fields,e.fields,(t,i)=>t.isEqual(i))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VA extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class In{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(s){try{return atob(s)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new VA("Invalid base64 string: "+l):l}}(e);return new In(t)}static fromUint8Array(e){const t=function(s){let l="";for(let c=0;c<s.length;++c)l+=String.fromCharCode(s[c]);return l}(e);return new In(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const i=new Uint8Array(t.length);for(let s=0;s<t.length;s++)i[s]=t.charCodeAt(s);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ze(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}In.EMPTY_BYTE_STRING=new In("");const gU=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function fs(n){if(Tt(!!n,39018),typeof n=="string"){let e=0;const t=gU.exec(n);if(Tt(!!t,46558,{timestamp:n}),t[1]){let s=t[1];s=(s+"000000000").substr(0,9),e=Number(s)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:Qt(n.seconds),nanos:Qt(n.nanos)}}function Qt(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function hs(n){return typeof n=="string"?In.fromBase64String(n):In.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kA="server_timestamp",UA="__type__",jA="__previous_value__",zA="__local_write_time__";function Jy(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[UA])===null||t===void 0?void 0:t.stringValue)===kA}function Ad(n){const e=n.mapValue.fields[jA];return Jy(e)?Ad(e):e}function yc(n){const e=fs(n.mapValue.fields[zA].timestampValue);return new ln(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yU{constructor(e,t,i,s,l,c,h,m,p){this.databaseId=e,this.appId=t,this.persistenceKey=i,this.host=s,this.ssl=l,this.forceLongPolling=c,this.autoDetectLongPolling=h,this.longPollingOptions=m,this.useFetchStreams=p}}const Qh="(default)";class vc{constructor(e,t){this.projectId=e,this.database=t||Qh}static empty(){return new vc("","")}get isDefaultDatabase(){return this.database===Qh}isEqual(e){return e instanceof vc&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FA="__type__",vU="__max__",uh={mapValue:{}},BA="__vector__",Yh="value";function ds(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Jy(n)?4:EU(n)?9007199254740991:_U(n)?10:11:$e(28295,{value:n})}function Oi(n,e){if(n===e)return!0;const t=ds(n);if(t!==ds(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return yc(n).isEqual(yc(e));case 3:return function(s,l){if(typeof s.timestampValue=="string"&&typeof l.timestampValue=="string"&&s.timestampValue.length===l.timestampValue.length)return s.timestampValue===l.timestampValue;const c=fs(s.timestampValue),h=fs(l.timestampValue);return c.seconds===h.seconds&&c.nanos===h.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(s,l){return hs(s.bytesValue).isEqual(hs(l.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(s,l){return Qt(s.geoPointValue.latitude)===Qt(l.geoPointValue.latitude)&&Qt(s.geoPointValue.longitude)===Qt(l.geoPointValue.longitude)}(n,e);case 2:return function(s,l){if("integerValue"in s&&"integerValue"in l)return Qt(s.integerValue)===Qt(l.integerValue);if("doubleValue"in s&&"doubleValue"in l){const c=Qt(s.doubleValue),h=Qt(l.doubleValue);return c===h?Kh(c)===Kh(h):isNaN(c)&&isNaN(h)}return!1}(n,e);case 9:return Rl(n.arrayValue.values||[],e.arrayValue.values||[],Oi);case 10:case 11:return function(s,l){const c=s.mapValue.fields||{},h=l.mapValue.fields||{};if(qb(c)!==qb(h))return!1;for(const m in c)if(c.hasOwnProperty(m)&&(h[m]===void 0||!Oi(c[m],h[m])))return!1;return!0}(n,e);default:return $e(52216,{left:n})}}function _c(n,e){return(n.values||[]).find(t=>Oi(t,e))!==void 0}function Cl(n,e){if(n===e)return 0;const t=ds(n),i=ds(e);if(t!==i)return Ze(t,i);switch(t){case 0:case 9007199254740991:return 0;case 1:return Ze(n.booleanValue,e.booleanValue);case 2:return function(l,c){const h=Qt(l.integerValue||l.doubleValue),m=Qt(c.integerValue||c.doubleValue);return h<m?-1:h>m?1:h===m?0:isNaN(h)?isNaN(m)?0:-1:1}(n,e);case 3:return Kb(n.timestampValue,e.timestampValue);case 4:return Kb(yc(n),yc(e));case 5:return Wg(n.stringValue,e.stringValue);case 6:return function(l,c){const h=hs(l),m=hs(c);return h.compareTo(m)}(n.bytesValue,e.bytesValue);case 7:return function(l,c){const h=l.split("/"),m=c.split("/");for(let p=0;p<h.length&&p<m.length;p++){const y=Ze(h[p],m[p]);if(y!==0)return y}return Ze(h.length,m.length)}(n.referenceValue,e.referenceValue);case 8:return function(l,c){const h=Ze(Qt(l.latitude),Qt(c.latitude));return h!==0?h:Ze(Qt(l.longitude),Qt(c.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return Qb(n.arrayValue,e.arrayValue);case 10:return function(l,c){var h,m,p,y;const _=l.fields||{},E=c.fields||{},w=(h=_[Yh])===null||h===void 0?void 0:h.arrayValue,R=(m=E[Yh])===null||m===void 0?void 0:m.arrayValue,P=Ze(((p=w==null?void 0:w.values)===null||p===void 0?void 0:p.length)||0,((y=R==null?void 0:R.values)===null||y===void 0?void 0:y.length)||0);return P!==0?P:Qb(w,R)}(n.mapValue,e.mapValue);case 11:return function(l,c){if(l===uh.mapValue&&c===uh.mapValue)return 0;if(l===uh.mapValue)return 1;if(c===uh.mapValue)return-1;const h=l.fields||{},m=Object.keys(h),p=c.fields||{},y=Object.keys(p);m.sort(),y.sort();for(let _=0;_<m.length&&_<y.length;++_){const E=Wg(m[_],y[_]);if(E!==0)return E;const w=Cl(h[m[_]],p[y[_]]);if(w!==0)return w}return Ze(m.length,y.length)}(n.mapValue,e.mapValue);default:throw $e(23264,{Pe:t})}}function Kb(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return Ze(n,e);const t=fs(n),i=fs(e),s=Ze(t.seconds,i.seconds);return s!==0?s:Ze(t.nanos,i.nanos)}function Qb(n,e){const t=n.values||[],i=e.values||[];for(let s=0;s<t.length&&s<i.length;++s){const l=Cl(t[s],i[s]);if(l)return l}return Ze(t.length,i.length)}function Il(n){return Zg(n)}function Zg(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const i=fs(t);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return hs(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return Ve.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let i="[",s=!0;for(const l of t.values||[])s?s=!1:i+=",",i+=Zg(l);return i+"]"}(n.arrayValue):"mapValue"in n?function(t){const i=Object.keys(t.fields||{}).sort();let s="{",l=!0;for(const c of i)l?l=!1:s+=",",s+=`${c}:${Zg(t.fields[c])}`;return s+"}"}(n.mapValue):$e(61005,{value:n})}function Rh(n){switch(ds(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Ad(n);return e?16+Rh(e):16;case 5:return 2*n.stringValue.length;case 6:return hs(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(i){return(i.values||[]).reduce((s,l)=>s+Rh(l),0)}(n.arrayValue);case 10:case 11:return function(i){let s=0;return vo(i.fields,(l,c)=>{s+=l.length+Rh(c)}),s}(n.mapValue);default:throw $e(13486,{value:n})}}function Jg(n){return!!n&&"integerValue"in n}function ev(n){return!!n&&"arrayValue"in n}function Yb(n){return!!n&&"nullValue"in n}function Xb(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Ch(n){return!!n&&"mapValue"in n}function _U(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[FA])===null||t===void 0?void 0:t.stringValue)===BA}function ic(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return vo(n.mapValue.fields,(t,i)=>e.mapValue.fields[t]=ic(i)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=ic(n.arrayValue.values[t]);return e}return Object.assign({},n)}function EU(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===vU}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zr{constructor(e){this.value=e}static empty(){return new zr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let i=0;i<e.length-1;++i)if(t=(t.mapValue.fields||{})[e.get(i)],!Ch(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=ic(t)}setAll(e){let t=Cn.emptyPath(),i={},s=[];e.forEach((c,h)=>{if(!t.isImmediateParentOf(h)){const m=this.getFieldsMap(t);this.applyChanges(m,i,s),i={},s=[],t=h.popLast()}c?i[h.lastSegment()]=ic(c):s.push(h.lastSegment())});const l=this.getFieldsMap(t);this.applyChanges(l,i,s)}delete(e){const t=this.field(e.popLast());Ch(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Oi(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let i=0;i<e.length;++i){let s=t.mapValue.fields[e.get(i)];Ch(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},t.mapValue.fields[e.get(i)]=s),t=s}return t.mapValue.fields}applyChanges(e,t,i){vo(t,(s,l)=>e[s]=l);for(const s of i)delete e[s]}clone(){return new zr(ic(this.value))}}function $A(n){const e=[];return vo(n.fields,(t,i)=>{const s=new Cn([t]);if(Ch(i)){const l=$A(i.mapValue).fields;if(l.length===0)e.push(s);else for(const c of l)e.push(s.child(c))}else e.push(s)}),new Zr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pn{constructor(e,t,i,s,l,c,h){this.key=e,this.documentType=t,this.version=i,this.readTime=s,this.createTime=l,this.data=c,this.documentState=h}static newInvalidDocument(e){return new Pn(e,0,Ke.min(),Ke.min(),Ke.min(),zr.empty(),0)}static newFoundDocument(e,t,i,s){return new Pn(e,1,t,Ke.min(),i,s,0)}static newNoDocument(e,t){return new Pn(e,2,t,Ke.min(),Ke.min(),zr.empty(),0)}static newUnknownDocument(e,t){return new Pn(e,3,t,Ke.min(),Ke.min(),zr.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Ke.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=zr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=zr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ke.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Pn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Pn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xh{constructor(e,t){this.position=e,this.inclusive=t}}function Wb(n,e,t){let i=0;for(let s=0;s<n.position.length;s++){const l=e[s],c=n.position[s];if(l.field.isKeyField()?i=Ve.comparator(Ve.fromName(c.referenceValue),t.key):i=Cl(c,t.data.field(l.field)),l.dir==="desc"&&(i*=-1),i!==0)break}return i}function Zb(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Oi(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wh{constructor(e,t="asc"){this.field=e,this.dir=t}}function TU(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HA{}class on extends HA{constructor(e,t,i){super(),this.field=e,this.op=t,this.value=i}static create(e,t,i){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,i):new SU(e,t,i):t==="array-contains"?new RU(e,i):t==="in"?new CU(e,i):t==="not-in"?new IU(e,i):t==="array-contains-any"?new DU(e,i):new on(e,t,i)}static createKeyFieldInFilter(e,t,i){return t==="in"?new wU(e,i):new AU(e,i)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(Cl(t,this.value)):t!==null&&ds(this.value)===ds(t)&&this.matchesComparison(Cl(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return $e(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class xi extends HA{constructor(e,t){super(),this.filters=e,this.op=t,this.Te=null}static create(e,t){return new xi(e,t)}matches(e){return qA(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function qA(n){return n.op==="and"}function GA(n){return bU(n)&&qA(n)}function bU(n){for(const e of n.filters)if(e instanceof xi)return!1;return!0}function ey(n){if(n instanceof on)return n.field.canonicalString()+n.op.toString()+Il(n.value);if(GA(n))return n.filters.map(e=>ey(e)).join(",");{const e=n.filters.map(t=>ey(t)).join(",");return`${n.op}(${e})`}}function KA(n,e){return n instanceof on?function(i,s){return s instanceof on&&i.op===s.op&&i.field.isEqual(s.field)&&Oi(i.value,s.value)}(n,e):n instanceof xi?function(i,s){return s instanceof xi&&i.op===s.op&&i.filters.length===s.filters.length?i.filters.reduce((l,c,h)=>l&&KA(c,s.filters[h]),!0):!1}(n,e):void $e(19439)}function QA(n){return n instanceof on?function(t){return`${t.field.canonicalString()} ${t.op} ${Il(t.value)}`}(n):n instanceof xi?function(t){return t.op.toString()+" {"+t.getFilters().map(QA).join(" ,")+"}"}(n):"Filter"}class SU extends on{constructor(e,t,i){super(e,t,i),this.key=Ve.fromName(i.referenceValue)}matches(e){const t=Ve.comparator(e.key,this.key);return this.matchesComparison(t)}}class wU extends on{constructor(e,t){super(e,"in",t),this.keys=YA("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class AU extends on{constructor(e,t){super(e,"not-in",t),this.keys=YA("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function YA(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(i=>Ve.fromName(i.referenceValue))}class RU extends on{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return ev(t)&&_c(t.arrayValue,this.value)}}class CU extends on{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&_c(this.value.arrayValue,t)}}class IU extends on{constructor(e,t){super(e,"not-in",t)}matches(e){if(_c(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!_c(this.value.arrayValue,t)}}class DU extends on{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!ev(t)||!t.arrayValue.values)&&t.arrayValue.values.some(i=>_c(this.value.arrayValue,i))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OU{constructor(e,t=null,i=[],s=[],l=null,c=null,h=null){this.path=e,this.collectionGroup=t,this.orderBy=i,this.filters=s,this.limit=l,this.startAt=c,this.endAt=h,this.Ie=null}}function Jb(n,e=null,t=[],i=[],s=null,l=null,c=null){return new OU(n,e,t,i,s,l,c)}function tv(n){const e=Ye(n);if(e.Ie===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(i=>ey(i)).join(","),t+="|ob:",t+=e.orderBy.map(i=>function(l){return l.field.canonicalString()+l.dir}(i)).join(","),wd(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(i=>Il(i)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(i=>Il(i)).join(",")),e.Ie=t}return e.Ie}function nv(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!TU(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!KA(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!Zb(n.startAt,e.startAt)&&Zb(n.endAt,e.endAt)}function ty(n){return Ve.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rd{constructor(e,t=null,i=[],s=[],l=null,c="F",h=null,m=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=s,this.limit=l,this.limitType=c,this.startAt=h,this.endAt=m,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function xU(n,e,t,i,s,l,c,h){return new Rd(n,e,t,i,s,l,c,h)}function XA(n){return new Rd(n)}function eS(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function NU(n){return n.collectionGroup!==null}function ac(n){const e=Ye(n);if(e.Ee===null){e.Ee=[];const t=new Set;for(const l of e.explicitOrderBy)e.Ee.push(l),t.add(l.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(c){let h=new un(Cn.comparator);return c.filters.forEach(m=>{m.getFlattenedFilters().forEach(p=>{p.isInequality()&&(h=h.add(p.field))})}),h})(e).forEach(l=>{t.has(l.canonicalString())||l.isKeyField()||e.Ee.push(new Wh(l,i))}),t.has(Cn.keyField().canonicalString())||e.Ee.push(new Wh(Cn.keyField(),i))}return e.Ee}function Ii(n){const e=Ye(n);return e.de||(e.de=MU(e,ac(n))),e.de}function MU(n,e){if(n.limitType==="F")return Jb(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(s=>{const l=s.dir==="desc"?"asc":"desc";return new Wh(s.field,l)});const t=n.endAt?new Xh(n.endAt.position,n.endAt.inclusive):null,i=n.startAt?new Xh(n.startAt.position,n.startAt.inclusive):null;return Jb(n.path,n.collectionGroup,e,n.filters,n.limit,t,i)}}function ny(n,e,t){return new Rd(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Cd(n,e){return nv(Ii(n),Ii(e))&&n.limitType===e.limitType}function WA(n){return`${tv(Ii(n))}|lt:${n.limitType}`}function hl(n){return`Query(target=${function(t){let i=t.path.canonicalString();return t.collectionGroup!==null&&(i+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(i+=`, filters: [${t.filters.map(s=>QA(s)).join(", ")}]`),wd(t.limit)||(i+=", limit: "+t.limit),t.orderBy.length>0&&(i+=`, orderBy: [${t.orderBy.map(s=>function(c){return`${c.field.canonicalString()} (${c.dir})`}(s)).join(", ")}]`),t.startAt&&(i+=", startAt: ",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map(s=>Il(s)).join(",")),t.endAt&&(i+=", endAt: ",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map(s=>Il(s)).join(",")),`Target(${i})`}(Ii(n))}; limitType=${n.limitType})`}function Id(n,e){return e.isFoundDocument()&&function(i,s){const l=s.key.path;return i.collectionGroup!==null?s.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(l):Ve.isDocumentKey(i.path)?i.path.isEqual(l):i.path.isImmediateParentOf(l)}(n,e)&&function(i,s){for(const l of ac(i))if(!l.field.isKeyField()&&s.data.field(l.field)===null)return!1;return!0}(n,e)&&function(i,s){for(const l of i.filters)if(!l.matches(s))return!1;return!0}(n,e)&&function(i,s){return!(i.startAt&&!function(c,h,m){const p=Wb(c,h,m);return c.inclusive?p<=0:p<0}(i.startAt,ac(i),s)||i.endAt&&!function(c,h,m){const p=Wb(c,h,m);return c.inclusive?p>=0:p>0}(i.endAt,ac(i),s))}(n,e)}function PU(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function ZA(n){return(e,t)=>{let i=!1;for(const s of ac(n)){const l=LU(s,e,t);if(l!==0)return l;i=i||s.field.isKeyField()}return 0}}function LU(n,e,t){const i=n.field.isKeyField()?Ve.comparator(e.key,t.key):function(l,c,h){const m=c.data.field(l),p=h.data.field(l);return m!==null&&p!==null?Cl(m,p):$e(42886)}(n.field,e,t);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return $e(19790,{direction:n.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _o{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i!==void 0){for(const[s,l]of i)if(this.equalsFn(s,e))return l}}has(e){return this.get(e)!==void 0}set(e,t){const i=this.mapKeyFn(e),s=this.inner[i];if(s===void 0)return this.inner[i]=[[e,t]],void this.innerSize++;for(let l=0;l<s.length;l++)if(this.equalsFn(s[l][0],e))return void(s[l]=[e,t]);s.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i===void 0)return!1;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return i.length===1?delete this.inner[t]:i.splice(s,1),this.innerSize--,!0;return!1}forEach(e){vo(this.inner,(t,i)=>{for(const[s,l]of i)e(s,l)})}isEmpty(){return LA(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VU=new Ft(Ve.comparator);function da(){return VU}const JA=new Ft(Ve.comparator);function Ju(...n){let e=JA;for(const t of n)e=e.insert(t.key,t);return e}function eR(n){let e=JA;return n.forEach((t,i)=>e=e.insert(t,i.overlayedDocument)),e}function eo(){return sc()}function tR(){return sc()}function sc(){return new _o(n=>n.toString(),(n,e)=>n.isEqual(e))}const kU=new Ft(Ve.comparator),UU=new un(Ve.comparator);function st(...n){let e=UU;for(const t of n)e=e.add(t);return e}const jU=new un(Ze);function zU(){return jU}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rv(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Kh(e)?"-0":e}}function nR(n){return{integerValue:""+n}}function FU(n,e){return dU(e)?nR(e):rv(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dd{constructor(){this._=void 0}}function BU(n,e,t){return n instanceof Zh?function(s,l){const c={fields:{[UA]:{stringValue:kA},[zA]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return l&&Jy(l)&&(l=Ad(l)),l&&(c.fields[jA]=l),{mapValue:c}}(t,e):n instanceof Ec?iR(n,e):n instanceof Tc?aR(n,e):function(s,l){const c=rR(s,l),h=tS(c)+tS(s.Re);return Jg(c)&&Jg(s.Re)?nR(h):rv(s.serializer,h)}(n,e)}function $U(n,e,t){return n instanceof Ec?iR(n,e):n instanceof Tc?aR(n,e):t}function rR(n,e){return n instanceof Jh?function(i){return Jg(i)||function(l){return!!l&&"doubleValue"in l}(i)}(e)?e:{integerValue:0}:null}class Zh extends Dd{}class Ec extends Dd{constructor(e){super(),this.elements=e}}function iR(n,e){const t=sR(e);for(const i of n.elements)t.some(s=>Oi(s,i))||t.push(i);return{arrayValue:{values:t}}}class Tc extends Dd{constructor(e){super(),this.elements=e}}function aR(n,e){let t=sR(e);for(const i of n.elements)t=t.filter(s=>!Oi(s,i));return{arrayValue:{values:t}}}class Jh extends Dd{constructor(e,t){super(),this.serializer=e,this.Re=t}}function tS(n){return Qt(n.integerValue||n.doubleValue)}function sR(n){return ev(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function HU(n,e){return n.field.isEqual(e.field)&&function(i,s){return i instanceof Ec&&s instanceof Ec||i instanceof Tc&&s instanceof Tc?Rl(i.elements,s.elements,Oi):i instanceof Jh&&s instanceof Jh?Oi(i.Re,s.Re):i instanceof Zh&&s instanceof Zh}(n.transform,e.transform)}class qU{constructor(e,t){this.version=e,this.transformResults=t}}class la{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new la}static exists(e){return new la(void 0,e)}static updateTime(e){return new la(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Ih(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class Od{}function oR(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new uR(n.key,la.none()):new Pc(n.key,n.data,la.none());{const t=n.data,i=zr.empty();let s=new un(Cn.comparator);for(let l of e.fields)if(!s.has(l)){let c=t.field(l);c===null&&l.length>1&&(l=l.popLast(),c=t.field(l)),c===null?i.delete(l):i.set(l,c),s=s.add(l)}return new Eo(n.key,i,new Zr(s.toArray()),la.none())}}function GU(n,e,t){n instanceof Pc?function(s,l,c){const h=s.value.clone(),m=rS(s.fieldTransforms,l,c.transformResults);h.setAll(m),l.convertToFoundDocument(c.version,h).setHasCommittedMutations()}(n,e,t):n instanceof Eo?function(s,l,c){if(!Ih(s.precondition,l))return void l.convertToUnknownDocument(c.version);const h=rS(s.fieldTransforms,l,c.transformResults),m=l.data;m.setAll(lR(s)),m.setAll(h),l.convertToFoundDocument(c.version,m).setHasCommittedMutations()}(n,e,t):function(s,l,c){l.convertToNoDocument(c.version).setHasCommittedMutations()}(0,e,t)}function oc(n,e,t,i){return n instanceof Pc?function(l,c,h,m){if(!Ih(l.precondition,c))return h;const p=l.value.clone(),y=iS(l.fieldTransforms,m,c);return p.setAll(y),c.convertToFoundDocument(c.version,p).setHasLocalMutations(),null}(n,e,t,i):n instanceof Eo?function(l,c,h,m){if(!Ih(l.precondition,c))return h;const p=iS(l.fieldTransforms,m,c),y=c.data;return y.setAll(lR(l)),y.setAll(p),c.convertToFoundDocument(c.version,y).setHasLocalMutations(),h===null?null:h.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map(_=>_.field))}(n,e,t,i):function(l,c,h){return Ih(l.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):h}(n,e,t)}function KU(n,e){let t=null;for(const i of n.fieldTransforms){const s=e.data.field(i.field),l=rR(i.transform,s||null);l!=null&&(t===null&&(t=zr.empty()),t.set(i.field,l))}return t||null}function nS(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(i,s){return i===void 0&&s===void 0||!(!i||!s)&&Rl(i,s,(l,c)=>HU(l,c))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class Pc extends Od{constructor(e,t,i,s=[]){super(),this.key=e,this.value=t,this.precondition=i,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class Eo extends Od{constructor(e,t,i,s,l=[]){super(),this.key=e,this.data=t,this.fieldMask=i,this.precondition=s,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function lR(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const i=n.data.field(t);e.set(t,i)}}),e}function rS(n,e,t){const i=new Map;Tt(n.length===t.length,32656,{Ve:t.length,me:n.length});for(let s=0;s<t.length;s++){const l=n[s],c=l.transform,h=e.data.field(l.field);i.set(l.field,$U(c,h,t[s]))}return i}function iS(n,e,t){const i=new Map;for(const s of n){const l=s.transform,c=t.data.field(s.field);i.set(s.field,BU(l,c,e))}return i}class uR extends Od{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class QU extends Od{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YU{constructor(e,t,i,s){this.batchId=e,this.localWriteTime=t,this.baseMutations=i,this.mutations=s}applyToRemoteDocument(e,t){const i=t.mutationResults;for(let s=0;s<this.mutations.length;s++){const l=this.mutations[s];l.key.isEqual(e.key)&&GU(l,e,i[s])}}applyToLocalView(e,t){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(t=oc(i,e,t,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(t=oc(i,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const i=tR();return this.mutations.forEach(s=>{const l=e.get(s.key),c=l.overlayedDocument;let h=this.applyToLocalView(c,l.mutatedFields);h=t.has(s.key)?null:h;const m=oR(c,h);m!==null&&i.set(s.key,m),c.isValidDocument()||c.convertToNoDocument(Ke.min())}),i}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),st())}isEqual(e){return this.batchId===e.batchId&&Rl(this.mutations,e.mutations,(t,i)=>nS(t,i))&&Rl(this.baseMutations,e.baseMutations,(t,i)=>nS(t,i))}}class iv{constructor(e,t,i,s){this.batch=e,this.commitVersion=t,this.mutationResults=i,this.docVersions=s}static from(e,t,i){Tt(e.mutations.length===i.length,58842,{fe:e.mutations.length,ge:i.length});let s=function(){return kU}();const l=e.mutations;for(let c=0;c<l.length;c++)s=s.insert(l[c].key,i[c].version);return new iv(e,t,i,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XU{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WU{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var en,ft;function ZU(n){switch(n){case he.OK:return $e(64938);case he.CANCELLED:case he.UNKNOWN:case he.DEADLINE_EXCEEDED:case he.RESOURCE_EXHAUSTED:case he.INTERNAL:case he.UNAVAILABLE:case he.UNAUTHENTICATED:return!1;case he.INVALID_ARGUMENT:case he.NOT_FOUND:case he.ALREADY_EXISTS:case he.PERMISSION_DENIED:case he.FAILED_PRECONDITION:case he.ABORTED:case he.OUT_OF_RANGE:case he.UNIMPLEMENTED:case he.DATA_LOSS:return!0;default:return $e(15467,{code:n})}}function cR(n){if(n===void 0)return ha("GRPC error has no .code"),he.UNKNOWN;switch(n){case en.OK:return he.OK;case en.CANCELLED:return he.CANCELLED;case en.UNKNOWN:return he.UNKNOWN;case en.DEADLINE_EXCEEDED:return he.DEADLINE_EXCEEDED;case en.RESOURCE_EXHAUSTED:return he.RESOURCE_EXHAUSTED;case en.INTERNAL:return he.INTERNAL;case en.UNAVAILABLE:return he.UNAVAILABLE;case en.UNAUTHENTICATED:return he.UNAUTHENTICATED;case en.INVALID_ARGUMENT:return he.INVALID_ARGUMENT;case en.NOT_FOUND:return he.NOT_FOUND;case en.ALREADY_EXISTS:return he.ALREADY_EXISTS;case en.PERMISSION_DENIED:return he.PERMISSION_DENIED;case en.FAILED_PRECONDITION:return he.FAILED_PRECONDITION;case en.ABORTED:return he.ABORTED;case en.OUT_OF_RANGE:return he.OUT_OF_RANGE;case en.UNIMPLEMENTED:return he.UNIMPLEMENTED;case en.DATA_LOSS:return he.DATA_LOSS;default:return $e(39323,{code:n})}}(ft=en||(en={}))[ft.OK=0]="OK",ft[ft.CANCELLED=1]="CANCELLED",ft[ft.UNKNOWN=2]="UNKNOWN",ft[ft.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ft[ft.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ft[ft.NOT_FOUND=5]="NOT_FOUND",ft[ft.ALREADY_EXISTS=6]="ALREADY_EXISTS",ft[ft.PERMISSION_DENIED=7]="PERMISSION_DENIED",ft[ft.UNAUTHENTICATED=16]="UNAUTHENTICATED",ft[ft.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ft[ft.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ft[ft.ABORTED=10]="ABORTED",ft[ft.OUT_OF_RANGE=11]="OUT_OF_RANGE",ft[ft.UNIMPLEMENTED=12]="UNIMPLEMENTED",ft[ft.INTERNAL=13]="INTERNAL",ft[ft.UNAVAILABLE=14]="UNAVAILABLE",ft[ft.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JU=new is([4294967295,4294967295],0);function aS(n){const e=NA().encode(n),t=new AA;return t.update(e),new Uint8Array(t.digest())}function sS(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),i=e.getUint32(4,!0),s=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new is([t,i],0),new is([s,l],0)]}class av{constructor(e,t,i){if(this.bitmap=e,this.padding=t,this.hashCount=i,t<0||t>=8)throw new ec(`Invalid padding: ${t}`);if(i<0)throw new ec(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new ec(`Invalid hash count: ${i}`);if(e.length===0&&t!==0)throw new ec(`Invalid padding when bitmap length is 0: ${t}`);this.pe=8*e.length-t,this.ye=is.fromNumber(this.pe)}we(e,t,i){let s=e.add(t.multiply(is.fromNumber(i)));return s.compare(JU)===1&&(s=new is([s.getBits(0),s.getBits(1)],0)),s.modulo(this.ye).toNumber()}be(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.pe===0)return!1;const t=aS(e),[i,s]=sS(t);for(let l=0;l<this.hashCount;l++){const c=this.we(i,s,l);if(!this.be(c))return!1}return!0}static create(e,t,i){const s=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),c=new av(l,s,t);return i.forEach(h=>c.insert(h)),c}insert(e){if(this.pe===0)return;const t=aS(e),[i,s]=sS(t);for(let l=0;l<this.hashCount;l++){const c=this.we(i,s,l);this.Se(c)}}Se(e){const t=Math.floor(e/8),i=e%8;this.bitmap[t]|=1<<i}}class ec extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xd{constructor(e,t,i,s,l){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=i,this.documentUpdates=s,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,t,i){const s=new Map;return s.set(e,Lc.createSynthesizedTargetChangeForCurrentChange(e,t,i)),new xd(Ke.min(),s,new Ft(Ze),da(),st())}}class Lc{constructor(e,t,i,s,l){this.resumeToken=e,this.current=t,this.addedDocuments=i,this.modifiedDocuments=s,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,t,i){return new Lc(i,t,st(),st(),st())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dh{constructor(e,t,i,s){this.De=e,this.removedTargetIds=t,this.key=i,this.ve=s}}class fR{constructor(e,t){this.targetId=e,this.Ce=t}}class hR{constructor(e,t,i=In.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=t,this.resumeToken=i,this.cause=s}}class oS{constructor(){this.Fe=0,this.Me=lS(),this.xe=In.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=st(),t=st(),i=st();return this.Me.forEach((s,l)=>{switch(l){case 0:e=e.add(s);break;case 2:t=t.add(s);break;case 1:i=i.add(s);break;default:$e(38017,{changeType:l})}}),new Lc(this.xe,this.Oe,e,t,i)}Qe(){this.Ne=!1,this.Me=lS()}$e(e,t){this.Ne=!0,this.Me=this.Me.insert(e,t)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,Tt(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class e3{constructor(e){this.ze=e,this.je=new Map,this.He=da(),this.Je=ch(),this.Ye=ch(),this.Ze=new Ft(Ze)}Xe(e){for(const t of e.De)e.ve&&e.ve.isFoundDocument()?this.et(t,e.ve):this.tt(t,e.key,e.ve);for(const t of e.removedTargetIds)this.tt(t,e.key,e.ve)}nt(e){this.forEachTarget(e,t=>{const i=this.rt(t);switch(e.state){case 0:this.it(t)&&i.ke(e.resumeToken);break;case 1:i.We(),i.Be||i.Qe(),i.ke(e.resumeToken);break;case 2:i.We(),i.Be||this.removeTarget(t);break;case 3:this.it(t)&&(i.Ge(),i.ke(e.resumeToken));break;case 4:this.it(t)&&(this.st(t),i.ke(e.resumeToken));break;default:$e(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.je.forEach((i,s)=>{this.it(s)&&t(s)})}ot(e){const t=e.targetId,i=e.Ce.count,s=this._t(t);if(s){const l=s.target;if(ty(l))if(i===0){const c=new Ve(l.path);this.tt(t,c,Pn.newNoDocument(c,Ke.min()))}else Tt(i===1,20013,{expectedCount:i});else{const c=this.ut(t);if(c!==i){const h=this.ct(e),m=h?this.lt(h,e,c):1;if(m!==0){this.st(t);const p=m===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(t,p)}}}}}ct(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:i="",padding:s=0},hashCount:l=0}=t;let c,h;try{c=hs(i).toUint8Array()}catch(m){if(m instanceof VA)return pc("Decoding the base64 bloom filter in existence filter failed ("+m.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw m}try{h=new av(c,s,l)}catch(m){return pc(m instanceof ec?"BloomFilter error: ":"Applying bloom filter failed: ",m),null}return h.pe===0?null:h}lt(e,t,i){return t.Ce.count===i-this.Tt(e,t.targetId)?0:2}Tt(e,t){const i=this.ze.getRemoteKeysForTarget(t);let s=0;return i.forEach(l=>{const c=this.ze.Pt(),h=`projects/${c.projectId}/databases/${c.database}/documents/${l.path.canonicalString()}`;e.mightContain(h)||(this.tt(t,l,null),s++)}),s}It(e){const t=new Map;this.je.forEach((l,c)=>{const h=this._t(c);if(h){if(l.current&&ty(h.target)){const m=new Ve(h.target.path);this.Et(m).has(c)||this.dt(c,m)||this.tt(c,m,Pn.newNoDocument(m,e))}l.Le&&(t.set(c,l.qe()),l.Qe())}});let i=st();this.Ye.forEach((l,c)=>{let h=!0;c.forEachWhile(m=>{const p=this._t(m);return!p||p.purpose==="TargetPurposeLimboResolution"||(h=!1,!1)}),h&&(i=i.add(l))}),this.He.forEach((l,c)=>c.setReadTime(e));const s=new xd(e,t,this.Ze,this.He,i);return this.He=da(),this.Je=ch(),this.Ye=ch(),this.Ze=new Ft(Ze),s}et(e,t){if(!this.it(e))return;const i=this.dt(e,t.key)?2:0;this.rt(e).$e(t.key,i),this.He=this.He.insert(t.key,t),this.Je=this.Je.insert(t.key,this.Et(t.key).add(e)),this.Ye=this.Ye.insert(t.key,this.At(t.key).add(e))}tt(e,t,i){if(!this.it(e))return;const s=this.rt(e);this.dt(e,t)?s.$e(t,1):s.Ue(t),this.Ye=this.Ye.insert(t,this.At(t).delete(e)),this.Ye=this.Ye.insert(t,this.At(t).add(e)),i&&(this.He=this.He.insert(t,i))}removeTarget(e){this.je.delete(e)}ut(e){const t=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let t=this.je.get(e);return t||(t=new oS,this.je.set(e,t)),t}At(e){let t=this.Ye.get(e);return t||(t=new un(Ze),this.Ye=this.Ye.insert(e,t)),t}Et(e){let t=this.Je.get(e);return t||(t=new un(Ze),this.Je=this.Je.insert(e,t)),t}it(e){const t=this._t(e)!==null;return t||Te("WatchChangeAggregator","Detected inactive target",e),t}_t(e){const t=this.je.get(e);return t&&t.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new oS),this.ze.getRemoteKeysForTarget(e).forEach(t=>{this.tt(e,t,null)})}dt(e,t){return this.ze.getRemoteKeysForTarget(e).has(t)}}function ch(){return new Ft(Ve.comparator)}function lS(){return new Ft(Ve.comparator)}const t3={asc:"ASCENDING",desc:"DESCENDING"},n3={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},r3={and:"AND",or:"OR"};class i3{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function ry(n,e){return n.useProto3Json||wd(e)?e:{value:e}}function ed(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function dR(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function a3(n,e){return ed(n,e.toTimestamp())}function Di(n){return Tt(!!n,49232),Ke.fromTimestamp(function(t){const i=fs(t);return new ln(i.seconds,i.nanos)}(n))}function sv(n,e){return iy(n,e).canonicalString()}function iy(n,e){const t=function(s){return new jt(["projects",s.projectId,"databases",s.database])}(n).child("documents");return e===void 0?t:t.child(e)}function mR(n){const e=jt.fromString(n);return Tt(_R(e),10190,{key:e.toString()}),e}function ay(n,e){return sv(n.databaseId,e.path)}function hg(n,e){const t=mR(e);if(t.get(1)!==n.databaseId.projectId)throw new Me(he.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Me(he.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Ve(gR(t))}function pR(n,e){return sv(n.databaseId,e)}function s3(n){const e=mR(n);return e.length===4?jt.emptyPath():gR(e)}function sy(n){return new jt(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function gR(n){return Tt(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function uS(n,e,t){return{name:ay(n,e),fields:t.value.mapValue.fields}}function o3(n,e){let t;if("targetChange"in e){e.targetChange;const i=function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:$e(39313,{state:p})}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],l=function(p,y){return p.useProto3Json?(Tt(y===void 0||typeof y=="string",58123),In.fromBase64String(y||"")):(Tt(y===void 0||y instanceof Buffer||y instanceof Uint8Array,16193),In.fromUint8Array(y||new Uint8Array))}(n,e.targetChange.resumeToken),c=e.targetChange.cause,h=c&&function(p){const y=p.code===void 0?he.UNKNOWN:cR(p.code);return new Me(y,p.message||"")}(c);t=new hR(i,s,l,h||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const s=hg(n,i.document.name),l=Di(i.document.updateTime),c=i.document.createTime?Di(i.document.createTime):Ke.min(),h=new zr({mapValue:{fields:i.document.fields}}),m=Pn.newFoundDocument(s,l,c,h),p=i.targetIds||[],y=i.removedTargetIds||[];t=new Dh(p,y,m.key,m)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const s=hg(n,i.document),l=i.readTime?Di(i.readTime):Ke.min(),c=Pn.newNoDocument(s,l),h=i.removedTargetIds||[];t=new Dh([],h,c.key,c)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const s=hg(n,i.document),l=i.removedTargetIds||[];t=new Dh([],l,s,null)}else{if(!("filter"in e))return $e(11601,{Vt:e});{e.filter;const i=e.filter;i.targetId;const{count:s=0,unchangedNames:l}=i,c=new WU(s,l),h=i.targetId;t=new fR(h,c)}}return t}function l3(n,e){let t;if(e instanceof Pc)t={update:uS(n,e.key,e.value)};else if(e instanceof uR)t={delete:ay(n,e.key)};else if(e instanceof Eo)t={update:uS(n,e.key,e.data),updateMask:y3(e.fieldMask)};else{if(!(e instanceof QU))return $e(16599,{ft:e.type});t={verify:ay(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(i=>function(l,c){const h=c.transform;if(h instanceof Zh)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(h instanceof Ec)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:h.elements}};if(h instanceof Tc)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:h.elements}};if(h instanceof Jh)return{fieldPath:c.field.canonicalString(),increment:h.Re};throw $e(20930,{transform:c.transform})}(0,i))),e.precondition.isNone||(t.currentDocument=function(s,l){return l.updateTime!==void 0?{updateTime:a3(s,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:$e(27497)}(n,e.precondition)),t}function u3(n,e){return n&&n.length>0?(Tt(e!==void 0,14353),n.map(t=>function(s,l){let c=s.updateTime?Di(s.updateTime):Di(l);return c.isEqual(Ke.min())&&(c=Di(l)),new qU(c,s.transformResults||[])}(t,e))):[]}function c3(n,e){return{documents:[pR(n,e.path)]}}function f3(n,e){const t={structuredQuery:{}},i=e.path;let s;e.collectionGroup!==null?(s=i,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=i.popLast(),t.structuredQuery.from=[{collectionId:i.lastSegment()}]),t.parent=pR(n,s);const l=function(p){if(p.length!==0)return vR(xi.create(p,"and"))}(e.filters);l&&(t.structuredQuery.where=l);const c=function(p){if(p.length!==0)return p.map(y=>function(E){return{field:dl(E.field),direction:m3(E.dir)}}(y))}(e.orderBy);c&&(t.structuredQuery.orderBy=c);const h=ry(n,e.limit);return h!==null&&(t.structuredQuery.limit=h),e.startAt&&(t.structuredQuery.startAt=function(p){return{before:p.inclusive,values:p.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(p){return{before:!p.inclusive,values:p.position}}(e.endAt)),{gt:t,parent:s}}function h3(n){let e=s3(n.parent);const t=n.structuredQuery,i=t.from?t.from.length:0;let s=null;if(i>0){Tt(i===1,65062);const y=t.from[0];y.allDescendants?s=y.collectionId:e=e.child(y.collectionId)}let l=[];t.where&&(l=function(_){const E=yR(_);return E instanceof xi&&GA(E)?E.getFilters():[E]}(t.where));let c=[];t.orderBy&&(c=function(_){return _.map(E=>function(R){return new Wh(ml(R.field),function(L){switch(L){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(R.direction))}(E))}(t.orderBy));let h=null;t.limit&&(h=function(_){let E;return E=typeof _=="object"?_.value:_,wd(E)?null:E}(t.limit));let m=null;t.startAt&&(m=function(_){const E=!!_.before,w=_.values||[];return new Xh(w,E)}(t.startAt));let p=null;return t.endAt&&(p=function(_){const E=!_.before,w=_.values||[];return new Xh(w,E)}(t.endAt)),xU(e,s,c,l,h,"F",m,p)}function d3(n,e){const t=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return $e(28987,{purpose:s})}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function yR(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const i=ml(t.unaryFilter.field);return on.create(i,"==",{doubleValue:NaN});case"IS_NULL":const s=ml(t.unaryFilter.field);return on.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=ml(t.unaryFilter.field);return on.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=ml(t.unaryFilter.field);return on.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return $e(61313);default:return $e(60726)}}(n):n.fieldFilter!==void 0?function(t){return on.create(ml(t.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return $e(58110);default:return $e(50506)}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return xi.create(t.compositeFilter.filters.map(i=>yR(i)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return $e(1026)}}(t.compositeFilter.op))}(n):$e(30097,{filter:n})}function m3(n){return t3[n]}function p3(n){return n3[n]}function g3(n){return r3[n]}function dl(n){return{fieldPath:n.canonicalString()}}function ml(n){return Cn.fromServerFormat(n.fieldPath)}function vR(n){return n instanceof on?function(t){if(t.op==="=="){if(Xb(t.value))return{unaryFilter:{field:dl(t.field),op:"IS_NAN"}};if(Yb(t.value))return{unaryFilter:{field:dl(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(Xb(t.value))return{unaryFilter:{field:dl(t.field),op:"IS_NOT_NAN"}};if(Yb(t.value))return{unaryFilter:{field:dl(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:dl(t.field),op:p3(t.op),value:t.value}}}(n):n instanceof xi?function(t){const i=t.getFilters().map(s=>vR(s));return i.length===1?i[0]:{compositeFilter:{op:g3(t.op),filters:i}}}(n):$e(54877,{filter:n})}function y3(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function _R(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ja{constructor(e,t,i,s,l=Ke.min(),c=Ke.min(),h=In.EMPTY_BYTE_STRING,m=null){this.target=e,this.targetId=t,this.purpose=i,this.sequenceNumber=s,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=h,this.expectedCount=m}withSequenceNumber(e){return new Ja(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Ja(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ja(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ja(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v3{constructor(e){this.wt=e}}function _3(n){const e=h3({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?ny(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E3{constructor(){this.yn=new T3}addToCollectionParentIndex(e,t){return this.yn.add(t),ue.resolve()}getCollectionParents(e,t){return ue.resolve(this.yn.getEntries(t))}addFieldIndex(e,t){return ue.resolve()}deleteFieldIndex(e,t){return ue.resolve()}deleteAllFieldIndexes(e){return ue.resolve()}createTargetIndexes(e,t){return ue.resolve()}getDocumentsMatchingTarget(e,t){return ue.resolve(null)}getIndexType(e,t){return ue.resolve(0)}getFieldIndexes(e,t){return ue.resolve([])}getNextCollectionGroupToUpdate(e){return ue.resolve(null)}getMinOffset(e,t){return ue.resolve(cs.min())}getMinOffsetFromCollectionGroup(e,t){return ue.resolve(cs.min())}updateCollectionGroup(e,t,i){return ue.resolve()}updateIndexEntries(e,t){return ue.resolve()}}class T3{constructor(){this.index={}}add(e){const t=e.lastSegment(),i=e.popLast(),s=this.index[t]||new un(jt.comparator),l=!s.has(i);return this.index[t]=s.add(i),l}has(e){const t=e.lastSegment(),i=e.popLast(),s=this.index[t];return s&&s.has(i)}getEntries(e){return(this.index[e]||new un(jt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cS={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},ER=41943040;class Qn{static withCacheSize(e){return new Qn(e,Qn.DEFAULT_COLLECTION_PERCENTILE,Qn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Qn.DEFAULT_COLLECTION_PERCENTILE=10,Qn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Qn.DEFAULT=new Qn(ER,Qn.DEFAULT_COLLECTION_PERCENTILE,Qn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Qn.DISABLED=new Qn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dl{constructor(e){this.nr=e}next(){return this.nr+=2,this.nr}static rr(){return new Dl(0)}static ir(){return new Dl(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fS="LruGarbageCollector",TR=1048576;function hS([n,e],[t,i]){const s=Ze(n,t);return s===0?Ze(e,i):s}class b3{constructor(e){this.cr=e,this.buffer=new un(hS),this.lr=0}hr(){return++this.lr}Pr(e){const t=[e,this.hr()];if(this.buffer.size<this.cr)this.buffer=this.buffer.add(t);else{const i=this.buffer.last();hS(t,i)<0&&(this.buffer=this.buffer.delete(i).add(t))}}get maxValue(){return this.buffer.last()[0]}}class S3{constructor(e,t,i){this.garbageCollector=e,this.asyncQueue=t,this.localStore=i,this.Tr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ir(6e4)}stop(){this.Tr&&(this.Tr.cancel(),this.Tr=null)}get started(){return this.Tr!==null}Ir(e){Te(fS,`Garbage collection scheduled in ${e}ms`),this.Tr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Tr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){zl(t)?Te(fS,"Ignoring IndexedDB error during garbage collection: ",t):await jl(t)}await this.Ir(3e5)})}}class w3{constructor(e,t){this.Er=e,this.params=t}calculateTargetCount(e,t){return this.Er.dr(e).next(i=>Math.floor(t/100*i))}nthSequenceNumber(e,t){if(t===0)return ue.resolve(Sd.le);const i=new b3(t);return this.Er.forEachTarget(e,s=>i.Pr(s.sequenceNumber)).next(()=>this.Er.Ar(e,s=>i.Pr(s))).next(()=>i.maxValue)}removeTargets(e,t,i){return this.Er.removeTargets(e,t,i)}removeOrphanedDocuments(e,t){return this.Er.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(Te("LruGarbageCollector","Garbage collection skipped; disabled"),ue.resolve(cS)):this.getCacheSize(e).next(i=>i<this.params.cacheSizeCollectionThreshold?(Te("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),cS):this.Rr(e,t))}getCacheSize(e){return this.Er.getCacheSize(e)}Rr(e,t){let i,s,l,c,h,m,p;const y=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(_=>(_>this.params.maximumSequenceNumbersToCollect?(Te("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${_}`),s=this.params.maximumSequenceNumbersToCollect):s=_,c=Date.now(),this.nthSequenceNumber(e,s))).next(_=>(i=_,h=Date.now(),this.removeTargets(e,i,t))).next(_=>(l=_,m=Date.now(),this.removeOrphanedDocuments(e,i))).next(_=>(p=Date.now(),fl()<=at.DEBUG&&Te("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-y}ms
	Determined least recently used ${s} in `+(h-c)+`ms
	Removed ${l} targets in `+(m-h)+`ms
	Removed ${_} documents in `+(p-m)+`ms
Total Duration: ${p-y}ms`),ue.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:l,documentsRemoved:_})))}}function A3(n,e){return new w3(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R3{constructor(){this.changes=new _o(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Pn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const i=this.changes.get(t);return i!==void 0?ue.resolve(i):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C3{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I3{constructor(e,t,i,s){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=i,this.indexManager=s}getDocument(e,t){let i=null;return this.documentOverlayCache.getOverlay(e,t).next(s=>(i=s,this.remoteDocumentCache.getEntry(e,t))).next(s=>(i!==null&&oc(i.mutation,s,Zr.empty(),ln.now()),s))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.getLocalViewOfDocuments(e,i,st()).next(()=>i))}getLocalViewOfDocuments(e,t,i=st()){const s=eo();return this.populateOverlays(e,s,t).next(()=>this.computeViews(e,t,s,i).next(l=>{let c=Ju();return l.forEach((h,m)=>{c=c.insert(h,m.overlayedDocument)}),c}))}getOverlayedDocuments(e,t){const i=eo();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,st()))}populateOverlays(e,t,i){const s=[];return i.forEach(l=>{t.has(l)||s.push(l)}),this.documentOverlayCache.getOverlays(e,s).next(l=>{l.forEach((c,h)=>{t.set(c,h)})})}computeViews(e,t,i,s){let l=da();const c=sc(),h=function(){return sc()}();return t.forEach((m,p)=>{const y=i.get(p.key);s.has(p.key)&&(y===void 0||y.mutation instanceof Eo)?l=l.insert(p.key,p):y!==void 0?(c.set(p.key,y.mutation.getFieldMask()),oc(y.mutation,p,y.mutation.getFieldMask(),ln.now())):c.set(p.key,Zr.empty())}),this.recalculateAndSaveOverlays(e,l).next(m=>(m.forEach((p,y)=>c.set(p,y)),t.forEach((p,y)=>{var _;return h.set(p,new C3(y,(_=c.get(p))!==null&&_!==void 0?_:null))}),h))}recalculateAndSaveOverlays(e,t){const i=sc();let s=new Ft((c,h)=>c-h),l=st();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(c=>{for(const h of c)h.keys().forEach(m=>{const p=t.get(m);if(p===null)return;let y=i.get(m)||Zr.empty();y=h.applyToLocalView(p,y),i.set(m,y);const _=(s.get(h.batchId)||st()).add(m);s=s.insert(h.batchId,_)})}).next(()=>{const c=[],h=s.getReverseIterator();for(;h.hasNext();){const m=h.getNext(),p=m.key,y=m.value,_=tR();y.forEach(E=>{if(!l.has(E)){const w=oR(t.get(E),i.get(E));w!==null&&_.set(E,w),l=l.add(E)}}),c.push(this.documentOverlayCache.saveOverlays(e,p,_))}return ue.waitFor(c)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,t,i,s){return function(c){return Ve.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):NU(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,i,s):this.getDocumentsMatchingCollectionQuery(e,t,i,s)}getNextDocuments(e,t,i,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,i,s).next(l=>{const c=s-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,i.largestBatchId,s-l.size):ue.resolve(eo());let h=gc,m=l;return c.next(p=>ue.forEach(p,(y,_)=>(h<_.largestBatchId&&(h=_.largestBatchId),l.get(y)?ue.resolve():this.remoteDocumentCache.getEntry(e,y).next(E=>{m=m.insert(y,E)}))).next(()=>this.populateOverlays(e,p,l)).next(()=>this.computeViews(e,m,p,st())).next(y=>({batchId:h,changes:eR(y)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Ve(t)).next(i=>{let s=Ju();return i.isFoundDocument()&&(s=s.insert(i.key,i)),s})}getDocumentsMatchingCollectionGroupQuery(e,t,i,s){const l=t.collectionGroup;let c=Ju();return this.indexManager.getCollectionParents(e,l).next(h=>ue.forEach(h,m=>{const p=function(_,E){return new Rd(E,null,_.explicitOrderBy.slice(),_.filters.slice(),_.limit,_.limitType,_.startAt,_.endAt)}(t,m.child(l));return this.getDocumentsMatchingCollectionQuery(e,p,i,s).next(y=>{y.forEach((_,E)=>{c=c.insert(_,E)})})}).next(()=>c))}getDocumentsMatchingCollectionQuery(e,t,i,s){let l;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,i.largestBatchId).next(c=>(l=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,i,l,s))).next(c=>{l.forEach((m,p)=>{const y=p.getKey();c.get(y)===null&&(c=c.insert(y,Pn.newInvalidDocument(y)))});let h=Ju();return c.forEach((m,p)=>{const y=l.get(m);y!==void 0&&oc(y.mutation,p,Zr.empty(),ln.now()),Id(t,p)&&(h=h.insert(m,p))}),h})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D3{constructor(e){this.serializer=e,this.Fr=new Map,this.Mr=new Map}getBundleMetadata(e,t){return ue.resolve(this.Fr.get(t))}saveBundleMetadata(e,t){return this.Fr.set(t.id,function(s){return{id:s.id,version:s.version,createTime:Di(s.createTime)}}(t)),ue.resolve()}getNamedQuery(e,t){return ue.resolve(this.Mr.get(t))}saveNamedQuery(e,t){return this.Mr.set(t.name,function(s){return{name:s.name,query:_3(s.bundledQuery),readTime:Di(s.readTime)}}(t)),ue.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O3{constructor(){this.overlays=new Ft(Ve.comparator),this.Or=new Map}getOverlay(e,t){return ue.resolve(this.overlays.get(t))}getOverlays(e,t){const i=eo();return ue.forEach(t,s=>this.getOverlay(e,s).next(l=>{l!==null&&i.set(s,l)})).next(()=>i)}saveOverlays(e,t,i){return i.forEach((s,l)=>{this.St(e,t,l)}),ue.resolve()}removeOverlaysForBatchId(e,t,i){const s=this.Or.get(i);return s!==void 0&&(s.forEach(l=>this.overlays=this.overlays.remove(l)),this.Or.delete(i)),ue.resolve()}getOverlaysForCollection(e,t,i){const s=eo(),l=t.length+1,c=new Ve(t.child("")),h=this.overlays.getIteratorFrom(c);for(;h.hasNext();){const m=h.getNext().value,p=m.getKey();if(!t.isPrefixOf(p.path))break;p.path.length===l&&m.largestBatchId>i&&s.set(m.getKey(),m)}return ue.resolve(s)}getOverlaysForCollectionGroup(e,t,i,s){let l=new Ft((p,y)=>p-y);const c=this.overlays.getIterator();for(;c.hasNext();){const p=c.getNext().value;if(p.getKey().getCollectionGroup()===t&&p.largestBatchId>i){let y=l.get(p.largestBatchId);y===null&&(y=eo(),l=l.insert(p.largestBatchId,y)),y.set(p.getKey(),p)}}const h=eo(),m=l.getIterator();for(;m.hasNext()&&(m.getNext().value.forEach((p,y)=>h.set(p,y)),!(h.size()>=s)););return ue.resolve(h)}St(e,t,i){const s=this.overlays.get(i.key);if(s!==null){const c=this.Or.get(s.largestBatchId).delete(i.key);this.Or.set(s.largestBatchId,c)}this.overlays=this.overlays.insert(i.key,new XU(t,i));let l=this.Or.get(t);l===void 0&&(l=st(),this.Or.set(t,l)),this.Or.set(t,l.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x3{constructor(){this.sessionToken=In.EMPTY_BYTE_STRING}getSessionToken(e){return ue.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,ue.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ov{constructor(){this.Nr=new un(gn.Br),this.Lr=new un(gn.kr)}isEmpty(){return this.Nr.isEmpty()}addReference(e,t){const i=new gn(e,t);this.Nr=this.Nr.add(i),this.Lr=this.Lr.add(i)}qr(e,t){e.forEach(i=>this.addReference(i,t))}removeReference(e,t){this.Qr(new gn(e,t))}$r(e,t){e.forEach(i=>this.removeReference(i,t))}Ur(e){const t=new Ve(new jt([])),i=new gn(t,e),s=new gn(t,e+1),l=[];return this.Lr.forEachInRange([i,s],c=>{this.Qr(c),l.push(c.key)}),l}Kr(){this.Nr.forEach(e=>this.Qr(e))}Qr(e){this.Nr=this.Nr.delete(e),this.Lr=this.Lr.delete(e)}Wr(e){const t=new Ve(new jt([])),i=new gn(t,e),s=new gn(t,e+1);let l=st();return this.Lr.forEachInRange([i,s],c=>{l=l.add(c.key)}),l}containsKey(e){const t=new gn(e,0),i=this.Nr.firstAfterOrEqual(t);return i!==null&&e.isEqual(i.key)}}class gn{constructor(e,t){this.key=e,this.Gr=t}static Br(e,t){return Ve.comparator(e.key,t.key)||Ze(e.Gr,t.Gr)}static kr(e,t){return Ze(e.Gr,t.Gr)||Ve.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N3{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Jn=1,this.zr=new un(gn.Br)}checkEmpty(e){return ue.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,i,s){const l=this.Jn;this.Jn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new YU(l,t,i,s);this.mutationQueue.push(c);for(const h of s)this.zr=this.zr.add(new gn(h.key,l)),this.indexManager.addToCollectionParentIndex(e,h.key.path.popLast());return ue.resolve(c)}lookupMutationBatch(e,t){return ue.resolve(this.jr(t))}getNextMutationBatchAfterBatchId(e,t){const i=t+1,s=this.Hr(i),l=s<0?0:s;return ue.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return ue.resolve(this.mutationQueue.length===0?Zy:this.Jn-1)}getAllMutationBatches(e){return ue.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const i=new gn(t,0),s=new gn(t,Number.POSITIVE_INFINITY),l=[];return this.zr.forEachInRange([i,s],c=>{const h=this.jr(c.Gr);l.push(h)}),ue.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new un(Ze);return t.forEach(s=>{const l=new gn(s,0),c=new gn(s,Number.POSITIVE_INFINITY);this.zr.forEachInRange([l,c],h=>{i=i.add(h.Gr)})}),ue.resolve(this.Jr(i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,s=i.length+1;let l=i;Ve.isDocumentKey(l)||(l=l.child(""));const c=new gn(new Ve(l),0);let h=new un(Ze);return this.zr.forEachWhile(m=>{const p=m.key.path;return!!i.isPrefixOf(p)&&(p.length===s&&(h=h.add(m.Gr)),!0)},c),ue.resolve(this.Jr(h))}Jr(e){const t=[];return e.forEach(i=>{const s=this.jr(i);s!==null&&t.push(s)}),t}removeMutationBatch(e,t){Tt(this.Yr(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let i=this.zr;return ue.forEach(t.mutations,s=>{const l=new gn(s.key,t.batchId);return i=i.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.zr=i})}Xn(e){}containsKey(e,t){const i=new gn(t,0),s=this.zr.firstAfterOrEqual(i);return ue.resolve(t.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,ue.resolve()}Yr(e,t){return this.Hr(e)}Hr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}jr(e){const t=this.Hr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M3{constructor(e){this.Zr=e,this.docs=function(){return new Ft(Ve.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const i=t.key,s=this.docs.get(i),l=s?s.size:0,c=this.Zr(t);return this.docs=this.docs.insert(i,{document:t.mutableCopy(),size:c}),this.size+=c-l,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const i=this.docs.get(t);return ue.resolve(i?i.document.mutableCopy():Pn.newInvalidDocument(t))}getEntries(e,t){let i=da();return t.forEach(s=>{const l=this.docs.get(s);i=i.insert(s,l?l.document.mutableCopy():Pn.newInvalidDocument(s))}),ue.resolve(i)}getDocumentsMatchingQuery(e,t,i,s){let l=da();const c=t.path,h=new Ve(c.child("__id-9223372036854775808__")),m=this.docs.getIteratorFrom(h);for(;m.hasNext();){const{key:p,value:{document:y}}=m.getNext();if(!c.isPrefixOf(p.path))break;p.path.length>c.length+1||uU(lU(y),i)<=0||(s.has(y.key)||Id(t,y))&&(l=l.insert(y.key,y.mutableCopy()))}return ue.resolve(l)}getAllFromCollectionGroup(e,t,i,s){$e(9500)}Xr(e,t){return ue.forEach(this.docs,i=>t(i))}newChangeBuffer(e){return new P3(this)}getSize(e){return ue.resolve(this.size)}}class P3 extends R3{constructor(e){super(),this.vr=e}applyChanges(e){const t=[];return this.changes.forEach((i,s)=>{s.isValidDocument()?t.push(this.vr.addEntry(e,s)):this.vr.removeEntry(i)}),ue.waitFor(t)}getFromCache(e,t){return this.vr.getEntry(e,t)}getAllFromCache(e,t){return this.vr.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L3{constructor(e){this.persistence=e,this.ei=new _o(t=>tv(t),nv),this.lastRemoteSnapshotVersion=Ke.min(),this.highestTargetId=0,this.ti=0,this.ni=new ov,this.targetCount=0,this.ri=Dl.rr()}forEachTarget(e,t){return this.ei.forEach((i,s)=>t(s)),ue.resolve()}getLastRemoteSnapshotVersion(e){return ue.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ue.resolve(this.ti)}allocateTargetId(e){return this.highestTargetId=this.ri.next(),ue.resolve(this.highestTargetId)}setTargetsMetadata(e,t,i){return i&&(this.lastRemoteSnapshotVersion=i),t>this.ti&&(this.ti=t),ue.resolve()}ar(e){this.ei.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ri=new Dl(t),this.highestTargetId=t),e.sequenceNumber>this.ti&&(this.ti=e.sequenceNumber)}addTargetData(e,t){return this.ar(t),this.targetCount+=1,ue.resolve()}updateTargetData(e,t){return this.ar(t),ue.resolve()}removeTargetData(e,t){return this.ei.delete(t.target),this.ni.Ur(t.targetId),this.targetCount-=1,ue.resolve()}removeTargets(e,t,i){let s=0;const l=[];return this.ei.forEach((c,h)=>{h.sequenceNumber<=t&&i.get(h.targetId)===null&&(this.ei.delete(c),l.push(this.removeMatchingKeysForTargetId(e,h.targetId)),s++)}),ue.waitFor(l).next(()=>s)}getTargetCount(e){return ue.resolve(this.targetCount)}getTargetData(e,t){const i=this.ei.get(t)||null;return ue.resolve(i)}addMatchingKeys(e,t,i){return this.ni.qr(t,i),ue.resolve()}removeMatchingKeys(e,t,i){this.ni.$r(t,i);const s=this.persistence.referenceDelegate,l=[];return s&&t.forEach(c=>{l.push(s.markPotentiallyOrphaned(e,c))}),ue.waitFor(l)}removeMatchingKeysForTargetId(e,t){return this.ni.Ur(t),ue.resolve()}getMatchingKeysForTargetId(e,t){const i=this.ni.Wr(t);return ue.resolve(i)}containsKey(e,t){return ue.resolve(this.ni.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bR{constructor(e,t){this.ii={},this.overlays={},this.si=new Sd(0),this.oi=!1,this.oi=!0,this._i=new x3,this.referenceDelegate=e(this),this.ai=new L3(this),this.indexManager=new E3,this.remoteDocumentCache=function(s){return new M3(s)}(i=>this.referenceDelegate.ui(i)),this.serializer=new v3(t),this.ci=new D3(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.oi=!1,Promise.resolve()}get started(){return this.oi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new O3,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let i=this.ii[e.toKey()];return i||(i=new N3(t,this.referenceDelegate),this.ii[e.toKey()]=i),i}getGlobalsCache(){return this._i}getTargetCache(){return this.ai}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.ci}runTransaction(e,t,i){Te("MemoryPersistence","Starting transaction:",e);const s=new V3(this.si.next());return this.referenceDelegate.li(),i(s).next(l=>this.referenceDelegate.hi(s).next(()=>l)).toPromise().then(l=>(s.raiseOnCommittedEvent(),l))}Pi(e,t){return ue.or(Object.values(this.ii).map(i=>()=>i.containsKey(e,t)))}}class V3 extends fU{constructor(e){super(),this.currentSequenceNumber=e}}class lv{constructor(e){this.persistence=e,this.Ti=new ov,this.Ii=null}static Ei(e){return new lv(e)}get di(){if(this.Ii)return this.Ii;throw $e(60996)}addReference(e,t,i){return this.Ti.addReference(i,t),this.di.delete(i.toString()),ue.resolve()}removeReference(e,t,i){return this.Ti.removeReference(i,t),this.di.add(i.toString()),ue.resolve()}markPotentiallyOrphaned(e,t){return this.di.add(t.toString()),ue.resolve()}removeTarget(e,t){this.Ti.Ur(t.targetId).forEach(s=>this.di.add(s.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next(s=>{s.forEach(l=>this.di.add(l.toString()))}).next(()=>i.removeTargetData(e,t))}li(){this.Ii=new Set}hi(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ue.forEach(this.di,i=>{const s=Ve.fromPath(i);return this.Ai(e,s).next(l=>{l||t.removeEntry(s,Ke.min())})}).next(()=>(this.Ii=null,t.apply(e)))}updateLimboDocument(e,t){return this.Ai(e,t).next(i=>{i?this.di.delete(t.toString()):this.di.add(t.toString())})}ui(e){return 0}Ai(e,t){return ue.or([()=>ue.resolve(this.Ti.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Pi(e,t)])}}class td{constructor(e,t){this.persistence=e,this.Ri=new _o(i=>mU(i.path),(i,s)=>i.isEqual(s)),this.garbageCollector=A3(this,t)}static Ei(e,t){return new td(e,t)}li(){}hi(e){return ue.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}dr(e){const t=this.Vr(e);return this.persistence.getTargetCache().getTargetCount(e).next(i=>t.next(s=>i+s))}Vr(e){let t=0;return this.Ar(e,i=>{t++}).next(()=>t)}Ar(e,t){return ue.forEach(this.Ri,(i,s)=>this.gr(e,i,s).next(l=>l?ue.resolve():t(s)))}removeTargets(e,t,i){return this.persistence.getTargetCache().removeTargets(e,t,i)}removeOrphanedDocuments(e,t){let i=0;const s=this.persistence.getRemoteDocumentCache(),l=s.newChangeBuffer();return s.Xr(e,c=>this.gr(e,c,t).next(h=>{h||(i++,l.removeEntry(c,Ke.min()))})).next(()=>l.apply(e)).next(()=>i)}markPotentiallyOrphaned(e,t){return this.Ri.set(t,e.currentSequenceNumber),ue.resolve()}removeTarget(e,t){const i=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,i)}addReference(e,t,i){return this.Ri.set(i,e.currentSequenceNumber),ue.resolve()}removeReference(e,t,i){return this.Ri.set(i,e.currentSequenceNumber),ue.resolve()}updateLimboDocument(e,t){return this.Ri.set(t,e.currentSequenceNumber),ue.resolve()}ui(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Rh(e.data.value)),t}gr(e,t,i){return ue.or([()=>this.persistence.Pi(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const s=this.Ri.get(t);return ue.resolve(s!==void 0&&s>i)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uv{constructor(e,t,i,s){this.targetId=e,this.fromCache=t,this.ls=i,this.hs=s}static Ps(e,t){let i=st(),s=st();for(const l of t.docChanges)switch(l.type){case 0:i=i.add(l.doc.key);break;case 1:s=s.add(l.doc.key)}return new uv(e,t.fromCache,i,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k3{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U3{constructor(){this.Ts=!1,this.Is=!1,this.Es=100,this.ds=function(){return _x()?8:hU(Ln())>0?6:4}()}initialize(e,t){this.As=e,this.indexManager=t,this.Ts=!0}getDocumentsMatchingQuery(e,t,i,s){const l={result:null};return this.Rs(e,t).next(c=>{l.result=c}).next(()=>{if(!l.result)return this.Vs(e,t,s,i).next(c=>{l.result=c})}).next(()=>{if(l.result)return;const c=new k3;return this.fs(e,t,c).next(h=>{if(l.result=h,this.Is)return this.gs(e,t,c,h.size)})}).next(()=>l.result)}gs(e,t,i,s){return i.documentReadCount<this.Es?(fl()<=at.DEBUG&&Te("QueryEngine","SDK will not create cache indexes for query:",hl(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Es,"documents"),ue.resolve()):(fl()<=at.DEBUG&&Te("QueryEngine","Query:",hl(t),"scans",i.documentReadCount,"local documents and returns",s,"documents as results."),i.documentReadCount>this.ds*s?(fl()<=at.DEBUG&&Te("QueryEngine","The SDK decides to create cache indexes for query:",hl(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ii(t))):ue.resolve())}Rs(e,t){if(eS(t))return ue.resolve(null);let i=Ii(t);return this.indexManager.getIndexType(e,i).next(s=>s===0?null:(t.limit!==null&&s===1&&(t=ny(t,null,"F"),i=Ii(t)),this.indexManager.getDocumentsMatchingTarget(e,i).next(l=>{const c=st(...l);return this.As.getDocuments(e,c).next(h=>this.indexManager.getMinOffset(e,i).next(m=>{const p=this.ps(t,h);return this.ys(t,p,c,m.readTime)?this.Rs(e,ny(t,null,"F")):this.ws(e,p,t,m)}))})))}Vs(e,t,i,s){return eS(t)||s.isEqual(Ke.min())?ue.resolve(null):this.As.getDocuments(e,i).next(l=>{const c=this.ps(t,l);return this.ys(t,c,i,s)?ue.resolve(null):(fl()<=at.DEBUG&&Te("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),hl(t)),this.ws(e,c,t,oU(s,gc)).next(h=>h))})}ps(e,t){let i=new un(ZA(e));return t.forEach((s,l)=>{Id(e,l)&&(i=i.add(l))}),i}ys(e,t,i,s){if(e.limit===null)return!1;if(i.size!==t.size)return!0;const l=e.limitType==="F"?t.last():t.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(s)>0)}fs(e,t,i){return fl()<=at.DEBUG&&Te("QueryEngine","Using full collection scan to execute query:",hl(t)),this.As.getDocumentsMatchingQuery(e,t,cs.min(),i)}ws(e,t,i,s){return this.As.getDocumentsMatchingQuery(e,i,s).next(l=>(t.forEach(c=>{l=l.insert(c.key,c)}),l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cv="LocalStore",j3=3e8;class z3{constructor(e,t,i,s){this.persistence=e,this.bs=t,this.serializer=s,this.Ss=new Ft(Ze),this.Ds=new _o(l=>tv(l),nv),this.vs=new Map,this.Cs=e.getRemoteDocumentCache(),this.ai=e.getTargetCache(),this.ci=e.getBundleCache(),this.Fs(i)}Fs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new I3(this.Cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Cs.setIndexManager(this.indexManager),this.bs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ss))}}function F3(n,e,t,i){return new z3(n,e,t,i)}async function SR(n,e){const t=Ye(n);return await t.persistence.runTransaction("Handle user change","readonly",i=>{let s;return t.mutationQueue.getAllMutationBatches(i).next(l=>(s=l,t.Fs(e),t.mutationQueue.getAllMutationBatches(i))).next(l=>{const c=[],h=[];let m=st();for(const p of s){c.push(p.batchId);for(const y of p.mutations)m=m.add(y.key)}for(const p of l){h.push(p.batchId);for(const y of p.mutations)m=m.add(y.key)}return t.localDocuments.getDocuments(i,m).next(p=>({Ms:p,removedBatchIds:c,addedBatchIds:h}))})})}function B3(n,e){const t=Ye(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const s=e.batch.keys(),l=t.Cs.newChangeBuffer({trackRemovals:!0});return function(h,m,p,y){const _=p.batch,E=_.keys();let w=ue.resolve();return E.forEach(R=>{w=w.next(()=>y.getEntry(m,R)).next(P=>{const L=p.docVersions.get(R);Tt(L!==null,48541),P.version.compareTo(L)<0&&(_.applyToRemoteDocument(P,p),P.isValidDocument()&&(P.setReadTime(p.commitVersion),y.addEntry(P)))})}),w.next(()=>h.mutationQueue.removeMutationBatch(m,_))}(t,i,e,l).next(()=>l.apply(i)).next(()=>t.mutationQueue.performConsistencyCheck(i)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(i,s,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(h){let m=st();for(let p=0;p<h.mutationResults.length;++p)h.mutationResults[p].transformResults.length>0&&(m=m.add(h.batch.mutations[p].key));return m}(e))).next(()=>t.localDocuments.getDocuments(i,s))})}function wR(n){const e=Ye(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.ai.getLastRemoteSnapshotVersion(t))}function $3(n,e){const t=Ye(n),i=e.snapshotVersion;let s=t.Ss;return t.persistence.runTransaction("Apply remote event","readwrite-primary",l=>{const c=t.Cs.newChangeBuffer({trackRemovals:!0});s=t.Ss;const h=[];e.targetChanges.forEach((y,_)=>{const E=s.get(_);if(!E)return;h.push(t.ai.removeMatchingKeys(l,y.removedDocuments,_).next(()=>t.ai.addMatchingKeys(l,y.addedDocuments,_)));let w=E.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(_)!==null?w=w.withResumeToken(In.EMPTY_BYTE_STRING,Ke.min()).withLastLimboFreeSnapshotVersion(Ke.min()):y.resumeToken.approximateByteSize()>0&&(w=w.withResumeToken(y.resumeToken,i)),s=s.insert(_,w),function(P,L,x){return P.resumeToken.approximateByteSize()===0||L.snapshotVersion.toMicroseconds()-P.snapshotVersion.toMicroseconds()>=j3?!0:x.addedDocuments.size+x.modifiedDocuments.size+x.removedDocuments.size>0}(E,w,y)&&h.push(t.ai.updateTargetData(l,w))});let m=da(),p=st();if(e.documentUpdates.forEach(y=>{e.resolvedLimboDocuments.has(y)&&h.push(t.persistence.referenceDelegate.updateLimboDocument(l,y))}),h.push(H3(l,c,e.documentUpdates).next(y=>{m=y.xs,p=y.Os})),!i.isEqual(Ke.min())){const y=t.ai.getLastRemoteSnapshotVersion(l).next(_=>t.ai.setTargetsMetadata(l,l.currentSequenceNumber,i));h.push(y)}return ue.waitFor(h).next(()=>c.apply(l)).next(()=>t.localDocuments.getLocalViewOfDocuments(l,m,p)).next(()=>m)}).then(l=>(t.Ss=s,l))}function H3(n,e,t){let i=st(),s=st();return t.forEach(l=>i=i.add(l)),e.getEntries(n,i).next(l=>{let c=da();return t.forEach((h,m)=>{const p=l.get(h);m.isFoundDocument()!==p.isFoundDocument()&&(s=s.add(h)),m.isNoDocument()&&m.version.isEqual(Ke.min())?(e.removeEntry(h,m.readTime),c=c.insert(h,m)):!p.isValidDocument()||m.version.compareTo(p.version)>0||m.version.compareTo(p.version)===0&&p.hasPendingWrites?(e.addEntry(m),c=c.insert(h,m)):Te(cv,"Ignoring outdated watch update for ",h,". Current version:",p.version," Watch version:",m.version)}),{xs:c,Os:s}})}function q3(n,e){const t=Ye(n);return t.persistence.runTransaction("Get next mutation batch","readonly",i=>(e===void 0&&(e=Zy),t.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function G3(n,e){const t=Ye(n);return t.persistence.runTransaction("Allocate target","readwrite",i=>{let s;return t.ai.getTargetData(i,e).next(l=>l?(s=l,ue.resolve(s)):t.ai.allocateTargetId(i).next(c=>(s=new Ja(e,c,"TargetPurposeListen",i.currentSequenceNumber),t.ai.addTargetData(i,s).next(()=>s))))}).then(i=>{const s=t.Ss.get(i.targetId);return(s===null||i.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(t.Ss=t.Ss.insert(i.targetId,i),t.Ds.set(e,i.targetId)),i})}async function oy(n,e,t){const i=Ye(n),s=i.Ss.get(e),l=t?"readwrite":"readwrite-primary";try{t||await i.persistence.runTransaction("Release target",l,c=>i.persistence.referenceDelegate.removeTarget(c,s))}catch(c){if(!zl(c))throw c;Te(cv,`Failed to update sequence numbers for target ${e}: ${c}`)}i.Ss=i.Ss.remove(e),i.Ds.delete(s.target)}function dS(n,e,t){const i=Ye(n);let s=Ke.min(),l=st();return i.persistence.runTransaction("Execute query","readwrite",c=>function(m,p,y){const _=Ye(m),E=_.Ds.get(y);return E!==void 0?ue.resolve(_.Ss.get(E)):_.ai.getTargetData(p,y)}(i,c,Ii(e)).next(h=>{if(h)return s=h.lastLimboFreeSnapshotVersion,i.ai.getMatchingKeysForTargetId(c,h.targetId).next(m=>{l=m})}).next(()=>i.bs.getDocumentsMatchingQuery(c,e,t?s:Ke.min(),t?l:st())).next(h=>(K3(i,PU(e),h),{documents:h,Ns:l})))}function K3(n,e,t){let i=n.vs.get(e)||Ke.min();t.forEach((s,l)=>{l.readTime.compareTo(i)>0&&(i=l.readTime)}),n.vs.set(e,i)}class mS{constructor(){this.activeTargetIds=zU()}$s(e){this.activeTargetIds=this.activeTargetIds.add(e)}Us(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Qs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Q3{constructor(){this.So=new mS,this.Do={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,i){}addLocalQueryTarget(e,t=!0){return t&&this.So.$s(e),this.Do[e]||"not-current"}updateQueryState(e,t,i){this.Do[e]=t}removeLocalQueryTarget(e){this.So.Us(e)}isLocalQueryTarget(e){return this.So.activeTargetIds.has(e)}clearQueryState(e){delete this.Do[e]}getAllActiveQueryTargets(){return this.So.activeTargetIds}isActiveQueryTarget(e){return this.So.activeTargetIds.has(e)}start(){return this.So=new mS,Promise.resolve()}handleUserChange(e,t,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y3{vo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pS="ConnectivityMonitor";class gS{constructor(){this.Co=()=>this.Fo(),this.Mo=()=>this.xo(),this.Oo=[],this.No()}vo(e){this.Oo.push(e)}shutdown(){window.removeEventListener("online",this.Co),window.removeEventListener("offline",this.Mo)}No(){window.addEventListener("online",this.Co),window.addEventListener("offline",this.Mo)}Fo(){Te(pS,"Network connectivity changed: AVAILABLE");for(const e of this.Oo)e(0)}xo(){Te(pS,"Network connectivity changed: UNAVAILABLE");for(const e of this.Oo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let fh=null;function ly(){return fh===null?fh=function(){return 268435456+Math.round(2147483648*Math.random())}():fh++,"0x"+fh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dg="RestConnection",X3={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class W3{get Bo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Lo=t+"://"+e.host,this.ko=`projects/${i}/databases/${s}`,this.qo=this.databaseId.database===Qh?`project_id=${i}`:`project_id=${i}&database_id=${s}`}Qo(e,t,i,s,l){const c=ly(),h=this.$o(e,t.toUriEncodedString());Te(dg,`Sending RPC '${e}' ${c}:`,h,i);const m={"google-cloud-resource-prefix":this.ko,"x-goog-request-params":this.qo};return this.Uo(m,s,l),this.Ko(e,h,m,i).then(p=>(Te(dg,`Received RPC '${e}' ${c}: `,p),p),p=>{throw pc(dg,`RPC '${e}' ${c} failed with error: `,p,"url: ",h,"request:",i),p})}Wo(e,t,i,s,l,c){return this.Qo(e,t,i,s,l)}Uo(e,t,i){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Ul}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((s,l)=>e[l]=s),i&&i.headers.forEach((s,l)=>e[l]=s)}$o(e,t){const i=X3[e];return`${this.Lo}/v1/${t}:${i}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z3{constructor(e){this.Go=e.Go,this.zo=e.zo}jo(e){this.Ho=e}Jo(e){this.Yo=e}Zo(e){this.Xo=e}onMessage(e){this.e_=e}close(){this.zo()}send(e){this.Go(e)}t_(){this.Ho()}n_(){this.Yo()}r_(e){this.Xo(e)}i_(e){this.e_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mn="WebChannelConnection";class J3 extends W3{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ko(e,t,i,s){const l=ly();return new Promise((c,h)=>{const m=new RA;m.setWithCredentials(!0),m.listenOnce(CA.COMPLETE,()=>{try{switch(m.getLastErrorCode()){case Ah.NO_ERROR:const y=m.getResponseJson();Te(Mn,`XHR for RPC '${e}' ${l} received:`,JSON.stringify(y)),c(y);break;case Ah.TIMEOUT:Te(Mn,`RPC '${e}' ${l} timed out`),h(new Me(he.DEADLINE_EXCEEDED,"Request time out"));break;case Ah.HTTP_ERROR:const _=m.getStatus();if(Te(Mn,`RPC '${e}' ${l} failed with status:`,_,"response text:",m.getResponseText()),_>0){let E=m.getResponseJson();Array.isArray(E)&&(E=E[0]);const w=E==null?void 0:E.error;if(w&&w.status&&w.message){const R=function(L){const x=L.toLowerCase().replace(/_/g,"-");return Object.values(he).indexOf(x)>=0?x:he.UNKNOWN}(w.status);h(new Me(R,w.message))}else h(new Me(he.UNKNOWN,"Server responded with status "+m.getStatus()))}else h(new Me(he.UNAVAILABLE,"Connection failed."));break;default:$e(9055,{s_:e,streamId:l,o_:m.getLastErrorCode(),__:m.getLastError()})}}finally{Te(Mn,`RPC '${e}' ${l} completed.`)}});const p=JSON.stringify(s);Te(Mn,`RPC '${e}' ${l} sending request:`,s),m.send(t,"POST",p,i,15)})}a_(e,t,i){const s=ly(),l=[this.Lo,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=OA(),h=DA(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(m.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(m.useFetchStreams=!0),this.Uo(m.initMessageHeaders,t,i),m.encodeInitMessageHeaders=!0;const y=l.join("");Te(Mn,`Creating RPC '${e}' stream ${s}: ${y}`,m);const _=c.createWebChannel(y,m);let E=!1,w=!1;const R=new Z3({Go:L=>{w?Te(Mn,`Not sending because RPC '${e}' stream ${s} is closed:`,L):(E||(Te(Mn,`Opening RPC '${e}' stream ${s} transport.`),_.open(),E=!0),Te(Mn,`RPC '${e}' stream ${s} sending:`,L),_.send(L))},zo:()=>_.close()}),P=(L,x,$)=>{L.listen(x,ne=>{try{$(ne)}catch(fe){setTimeout(()=>{throw fe},0)}})};return P(_,Zu.EventType.OPEN,()=>{w||(Te(Mn,`RPC '${e}' stream ${s} transport opened.`),R.t_())}),P(_,Zu.EventType.CLOSE,()=>{w||(w=!0,Te(Mn,`RPC '${e}' stream ${s} transport closed`),R.r_())}),P(_,Zu.EventType.ERROR,L=>{w||(w=!0,pc(Mn,`RPC '${e}' stream ${s} transport errored. Name:`,L.name,"Message:",L.message),R.r_(new Me(he.UNAVAILABLE,"The operation could not be completed")))}),P(_,Zu.EventType.MESSAGE,L=>{var x;if(!w){const $=L.data[0];Tt(!!$,16349);const ne=$,fe=(ne==null?void 0:ne.error)||((x=ne[0])===null||x===void 0?void 0:x.error);if(fe){Te(Mn,`RPC '${e}' stream ${s} received error:`,fe);const H=fe.status;let V=function(I){const j=en[I];if(j!==void 0)return cR(j)}(H),O=fe.message;V===void 0&&(V=he.INTERNAL,O="Unknown error status: "+H+" with message "+fe.message),w=!0,R.r_(new Me(V,O)),_.close()}else Te(Mn,`RPC '${e}' stream ${s} received:`,$),R.i_($)}}),P(h,IA.STAT_EVENT,L=>{L.stat===Xg.PROXY?Te(Mn,`RPC '${e}' stream ${s} detected buffering proxy`):L.stat===Xg.NOPROXY&&Te(Mn,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{R.n_()},0),R}}function mg(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nd(n){return new i3(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AR{constructor(e,t,i=1e3,s=1.5,l=6e4){this.bi=e,this.timerId=t,this.u_=i,this.c_=s,this.l_=l,this.h_=0,this.P_=null,this.T_=Date.now(),this.reset()}reset(){this.h_=0}I_(){this.h_=this.l_}E_(e){this.cancel();const t=Math.floor(this.h_+this.d_()),i=Math.max(0,Date.now()-this.T_),s=Math.max(0,t-i);s>0&&Te("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.h_} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.P_=this.bi.enqueueAfterDelay(this.timerId,s,()=>(this.T_=Date.now(),e())),this.h_*=this.c_,this.h_<this.u_&&(this.h_=this.u_),this.h_>this.l_&&(this.h_=this.l_)}A_(){this.P_!==null&&(this.P_.skipDelay(),this.P_=null)}cancel(){this.P_!==null&&(this.P_.cancel(),this.P_=null)}d_(){return(Math.random()-.5)*this.h_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yS="PersistentStream";class RR{constructor(e,t,i,s,l,c,h,m){this.bi=e,this.R_=i,this.V_=s,this.connection=l,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=h,this.listener=m,this.state=0,this.m_=0,this.f_=null,this.g_=null,this.stream=null,this.p_=0,this.y_=new AR(e,t)}w_(){return this.state===1||this.state===5||this.b_()}b_(){return this.state===2||this.state===3}start(){this.p_=0,this.state!==4?this.auth():this.S_()}async stop(){this.w_()&&await this.close(0)}D_(){this.state=0,this.y_.reset()}v_(){this.b_()&&this.f_===null&&(this.f_=this.bi.enqueueAfterDelay(this.R_,6e4,()=>this.C_()))}F_(e){this.M_(),this.stream.send(e)}async C_(){if(this.b_())return this.close(0)}M_(){this.f_&&(this.f_.cancel(),this.f_=null)}x_(){this.g_&&(this.g_.cancel(),this.g_=null)}async close(e,t){this.M_(),this.x_(),this.y_.cancel(),this.m_++,e!==4?this.y_.reset():t&&t.code===he.RESOURCE_EXHAUSTED?(ha(t.toString()),ha("Using maximum backoff delay to prevent overloading the backend."),this.y_.I_()):t&&t.code===he.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.O_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Zo(t)}O_(){}auth(){this.state=1;const e=this.N_(this.m_),t=this.m_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,s])=>{this.m_===t&&this.B_(i,s)},i=>{e(()=>{const s=new Me(he.UNKNOWN,"Fetching auth token failed: "+i.message);return this.L_(s)})})}B_(e,t){const i=this.N_(this.m_);this.stream=this.k_(e,t),this.stream.jo(()=>{i(()=>this.listener.jo())}),this.stream.Jo(()=>{i(()=>(this.state=2,this.g_=this.bi.enqueueAfterDelay(this.V_,1e4,()=>(this.b_()&&(this.state=3),Promise.resolve())),this.listener.Jo()))}),this.stream.Zo(s=>{i(()=>this.L_(s))}),this.stream.onMessage(s=>{i(()=>++this.p_==1?this.q_(s):this.onNext(s))})}S_(){this.state=5,this.y_.E_(async()=>{this.state=0,this.start()})}L_(e){return Te(yS,`close with error: ${e}`),this.stream=null,this.close(4,e)}N_(e){return t=>{this.bi.enqueueAndForget(()=>this.m_===e?t():(Te(yS,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class e5 extends RR{constructor(e,t,i,s,l,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,i,s,c),this.serializer=l}k_(e,t){return this.connection.a_("Listen",e,t)}q_(e){return this.onNext(e)}onNext(e){this.y_.reset();const t=o3(this.serializer,e),i=function(l){if(!("targetChange"in l))return Ke.min();const c=l.targetChange;return c.targetIds&&c.targetIds.length?Ke.min():c.readTime?Di(c.readTime):Ke.min()}(e);return this.listener.Q_(t,i)}U_(e){const t={};t.database=sy(this.serializer),t.addTarget=function(l,c){let h;const m=c.target;if(h=ty(m)?{documents:c3(l,m)}:{query:f3(l,m).gt},h.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){h.resumeToken=dR(l,c.resumeToken);const p=ry(l,c.expectedCount);p!==null&&(h.expectedCount=p)}else if(c.snapshotVersion.compareTo(Ke.min())>0){h.readTime=ed(l,c.snapshotVersion.toTimestamp());const p=ry(l,c.expectedCount);p!==null&&(h.expectedCount=p)}return h}(this.serializer,e);const i=d3(this.serializer,e);i&&(t.labels=i),this.F_(t)}K_(e){const t={};t.database=sy(this.serializer),t.removeTarget=e,this.F_(t)}}class t5 extends RR{constructor(e,t,i,s,l,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,i,s,c),this.serializer=l}get W_(){return this.p_>0}start(){this.lastStreamToken=void 0,super.start()}O_(){this.W_&&this.G_([])}k_(e,t){return this.connection.a_("Write",e,t)}q_(e){return Tt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Tt(!e.writeResults||e.writeResults.length===0,55816),this.listener.z_()}onNext(e){Tt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.y_.reset();const t=u3(e.writeResults,e.commitTime),i=Di(e.commitTime);return this.listener.j_(i,t)}H_(){const e={};e.database=sy(this.serializer),this.F_(e)}G_(e){const t={streamToken:this.lastStreamToken,writes:e.map(i=>l3(this.serializer,i))};this.F_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n5{}class r5 extends n5{constructor(e,t,i,s){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=i,this.serializer=s,this.J_=!1}Y_(){if(this.J_)throw new Me(he.FAILED_PRECONDITION,"The client has already been terminated.")}Qo(e,t,i,s){return this.Y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,c])=>this.connection.Qo(e,iy(t,i),s,l,c)).catch(l=>{throw l.name==="FirebaseError"?(l.code===he.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new Me(he.UNKNOWN,l.toString())})}Wo(e,t,i,s,l){return this.Y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,h])=>this.connection.Wo(e,iy(t,i),s,c,h,l)).catch(c=>{throw c.name==="FirebaseError"?(c.code===he.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new Me(he.UNKNOWN,c.toString())})}terminate(){this.J_=!0,this.connection.terminate()}}class i5{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.Z_=0,this.X_=null,this.ea=!0}ta(){this.Z_===0&&(this.na("Unknown"),this.X_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.X_=null,this.ra("Backend didn't respond within 10 seconds."),this.na("Offline"),Promise.resolve())))}ia(e){this.state==="Online"?this.na("Unknown"):(this.Z_++,this.Z_>=1&&(this.sa(),this.ra(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.na("Offline")))}set(e){this.sa(),this.Z_=0,e==="Online"&&(this.ea=!1),this.na(e)}na(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ra(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ea?(ha(t),this.ea=!1):Te("OnlineStateTracker",t)}sa(){this.X_!==null&&(this.X_.cancel(),this.X_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uo="RemoteStore";class a5{constructor(e,t,i,s,l){this.localStore=e,this.datastore=t,this.asyncQueue=i,this.remoteSyncer={},this.oa=[],this._a=new Map,this.aa=new Set,this.ua=[],this.ca=l,this.ca.vo(c=>{i.enqueueAndForget(async()=>{To(this)&&(Te(uo,"Restarting streams for network reachability change."),await async function(m){const p=Ye(m);p.aa.add(4),await Vc(p),p.la.set("Unknown"),p.aa.delete(4),await Md(p)}(this))})}),this.la=new i5(i,s)}}async function Md(n){if(To(n))for(const e of n.ua)await e(!0)}async function Vc(n){for(const e of n.ua)await e(!1)}function CR(n,e){const t=Ye(n);t._a.has(e.targetId)||(t._a.set(e.targetId,e),mv(t)?dv(t):Fl(t).b_()&&hv(t,e))}function fv(n,e){const t=Ye(n),i=Fl(t);t._a.delete(e),i.b_()&&IR(t,e),t._a.size===0&&(i.b_()?i.v_():To(t)&&t.la.set("Unknown"))}function hv(n,e){if(n.ha.Ke(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ke.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Fl(n).U_(e)}function IR(n,e){n.ha.Ke(e),Fl(n).K_(e)}function dv(n){n.ha=new e3({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),Rt:e=>n._a.get(e)||null,Pt:()=>n.datastore.serializer.databaseId}),Fl(n).start(),n.la.ta()}function mv(n){return To(n)&&!Fl(n).w_()&&n._a.size>0}function To(n){return Ye(n).aa.size===0}function DR(n){n.ha=void 0}async function s5(n){n.la.set("Online")}async function o5(n){n._a.forEach((e,t)=>{hv(n,e)})}async function l5(n,e){DR(n),mv(n)?(n.la.ia(e),dv(n)):n.la.set("Unknown")}async function u5(n,e,t){if(n.la.set("Online"),e instanceof hR&&e.state===2&&e.cause)try{await async function(s,l){const c=l.cause;for(const h of l.targetIds)s._a.has(h)&&(await s.remoteSyncer.rejectListen(h,c),s._a.delete(h),s.ha.removeTarget(h))}(n,e)}catch(i){Te(uo,"Failed to remove targets %s: %s ",e.targetIds.join(","),i),await nd(n,i)}else if(e instanceof Dh?n.ha.Xe(e):e instanceof fR?n.ha.ot(e):n.ha.nt(e),!t.isEqual(Ke.min()))try{const i=await wR(n.localStore);t.compareTo(i)>=0&&await function(l,c){const h=l.ha.It(c);return h.targetChanges.forEach((m,p)=>{if(m.resumeToken.approximateByteSize()>0){const y=l._a.get(p);y&&l._a.set(p,y.withResumeToken(m.resumeToken,c))}}),h.targetMismatches.forEach((m,p)=>{const y=l._a.get(m);if(!y)return;l._a.set(m,y.withResumeToken(In.EMPTY_BYTE_STRING,y.snapshotVersion)),IR(l,m);const _=new Ja(y.target,m,p,y.sequenceNumber);hv(l,_)}),l.remoteSyncer.applyRemoteEvent(h)}(n,t)}catch(i){Te(uo,"Failed to raise snapshot:",i),await nd(n,i)}}async function nd(n,e,t){if(!zl(e))throw e;n.aa.add(1),await Vc(n),n.la.set("Offline"),t||(t=()=>wR(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{Te(uo,"Retrying IndexedDB access"),await t(),n.aa.delete(1),await Md(n)})}function OR(n,e){return e().catch(t=>nd(n,t,e))}async function Pd(n){const e=Ye(n),t=ms(e);let i=e.oa.length>0?e.oa[e.oa.length-1].batchId:Zy;for(;c5(e);)try{const s=await q3(e.localStore,i);if(s===null){e.oa.length===0&&t.v_();break}i=s.batchId,f5(e,s)}catch(s){await nd(e,s)}xR(e)&&NR(e)}function c5(n){return To(n)&&n.oa.length<10}function f5(n,e){n.oa.push(e);const t=ms(n);t.b_()&&t.W_&&t.G_(e.mutations)}function xR(n){return To(n)&&!ms(n).w_()&&n.oa.length>0}function NR(n){ms(n).start()}async function h5(n){ms(n).H_()}async function d5(n){const e=ms(n);for(const t of n.oa)e.G_(t.mutations)}async function m5(n,e,t){const i=n.oa.shift(),s=iv.from(i,e,t);await OR(n,()=>n.remoteSyncer.applySuccessfulWrite(s)),await Pd(n)}async function p5(n,e){e&&ms(n).W_&&await async function(i,s){if(function(c){return ZU(c)&&c!==he.ABORTED}(s.code)){const l=i.oa.shift();ms(i).D_(),await OR(i,()=>i.remoteSyncer.rejectFailedWrite(l.batchId,s)),await Pd(i)}}(n,e),xR(n)&&NR(n)}async function vS(n,e){const t=Ye(n);t.asyncQueue.verifyOperationInProgress(),Te(uo,"RemoteStore received new credentials");const i=To(t);t.aa.add(3),await Vc(t),i&&t.la.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.aa.delete(3),await Md(t)}async function g5(n,e){const t=Ye(n);e?(t.aa.delete(2),await Md(t)):e||(t.aa.add(2),await Vc(t),t.la.set("Unknown"))}function Fl(n){return n.Pa||(n.Pa=function(t,i,s){const l=Ye(t);return l.Y_(),new e5(i,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,s)}(n.datastore,n.asyncQueue,{jo:s5.bind(null,n),Jo:o5.bind(null,n),Zo:l5.bind(null,n),Q_:u5.bind(null,n)}),n.ua.push(async e=>{e?(n.Pa.D_(),mv(n)?dv(n):n.la.set("Unknown")):(await n.Pa.stop(),DR(n))})),n.Pa}function ms(n){return n.Ta||(n.Ta=function(t,i,s){const l=Ye(t);return l.Y_(),new t5(i,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,s)}(n.datastore,n.asyncQueue,{jo:()=>Promise.resolve(),Jo:h5.bind(null,n),Zo:p5.bind(null,n),z_:d5.bind(null,n),j_:m5.bind(null,n)}),n.ua.push(async e=>{e?(n.Ta.D_(),await Pd(n)):(await n.Ta.stop(),n.oa.length>0&&(Te(uo,`Stopping write stream with ${n.oa.length} pending writes`),n.oa=[]))})),n.Ta}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pv{constructor(e,t,i,s,l){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=s,this.removalCallback=l,this.deferred=new as,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(c=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,i,s,l){const c=Date.now()+i,h=new pv(e,t,c,s,l);return h.start(i),h}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Me(he.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function gv(n,e){if(ha("AsyncQueue",`${e}: ${n}`),zl(n))return new Me(he.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bl{static emptySet(e){return new bl(e.comparator)}constructor(e){this.comparator=e?(t,i)=>e(t,i)||Ve.comparator(t.key,i.key):(t,i)=>Ve.comparator(t.key,i.key),this.keyedMap=Ju(),this.sortedSet=new Ft(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,i)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof bl)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;t.hasNext();){const s=t.getNext().key,l=i.getNext().key;if(!s.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const i=new bl;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=t,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _S{constructor(){this.Ia=new Ft(Ve.comparator)}track(e){const t=e.doc.key,i=this.Ia.get(t);i?e.type!==0&&i.type===3?this.Ia=this.Ia.insert(t,e):e.type===3&&i.type!==1?this.Ia=this.Ia.insert(t,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.Ia=this.Ia.insert(t,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.Ia=this.Ia.insert(t,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.Ia=this.Ia.remove(t):e.type===1&&i.type===2?this.Ia=this.Ia.insert(t,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.Ia=this.Ia.insert(t,{type:2,doc:e.doc}):$e(63341,{Vt:e,Ea:i}):this.Ia=this.Ia.insert(t,e)}da(){const e=[];return this.Ia.inorderTraversal((t,i)=>{e.push(i)}),e}}class Ol{constructor(e,t,i,s,l,c,h,m,p){this.query=e,this.docs=t,this.oldDocs=i,this.docChanges=s,this.mutatedKeys=l,this.fromCache=c,this.syncStateChanged=h,this.excludesMetadataChanges=m,this.hasCachedResults=p}static fromInitialDocuments(e,t,i,s,l){const c=[];return t.forEach(h=>{c.push({type:0,doc:h})}),new Ol(e,t,bl.emptySet(t),c,i,s,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Cd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,i=e.docChanges;if(t.length!==i.length)return!1;for(let s=0;s<t.length;s++)if(t[s].type!==i[s].type||!t[s].doc.isEqual(i[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y5{constructor(){this.Aa=void 0,this.Ra=[]}Va(){return this.Ra.some(e=>e.ma())}}class v5{constructor(){this.queries=ES(),this.onlineState="Unknown",this.fa=new Set}terminate(){(function(t,i){const s=Ye(t),l=s.queries;s.queries=ES(),l.forEach((c,h)=>{for(const m of h.Ra)m.onError(i)})})(this,new Me(he.ABORTED,"Firestore shutting down"))}}function ES(){return new _o(n=>WA(n),Cd)}async function _5(n,e){const t=Ye(n);let i=3;const s=e.query;let l=t.queries.get(s);l?!l.Va()&&e.ma()&&(i=2):(l=new y5,i=e.ma()?0:1);try{switch(i){case 0:l.Aa=await t.onListen(s,!0);break;case 1:l.Aa=await t.onListen(s,!1);break;case 2:await t.onFirstRemoteStoreListen(s)}}catch(c){const h=gv(c,`Initialization of query '${hl(e.query)}' failed`);return void e.onError(h)}t.queries.set(s,l),l.Ra.push(e),e.ga(t.onlineState),l.Aa&&e.pa(l.Aa)&&yv(t)}async function E5(n,e){const t=Ye(n),i=e.query;let s=3;const l=t.queries.get(i);if(l){const c=l.Ra.indexOf(e);c>=0&&(l.Ra.splice(c,1),l.Ra.length===0?s=e.ma()?0:1:!l.Va()&&e.ma()&&(s=2))}switch(s){case 0:return t.queries.delete(i),t.onUnlisten(i,!0);case 1:return t.queries.delete(i),t.onUnlisten(i,!1);case 2:return t.onLastRemoteStoreUnlisten(i);default:return}}function T5(n,e){const t=Ye(n);let i=!1;for(const s of e){const l=s.query,c=t.queries.get(l);if(c){for(const h of c.Ra)h.pa(s)&&(i=!0);c.Aa=s}}i&&yv(t)}function b5(n,e,t){const i=Ye(n),s=i.queries.get(e);if(s)for(const l of s.Ra)l.onError(t);i.queries.delete(e)}function yv(n){n.fa.forEach(e=>{e.next()})}var uy,TS;(TS=uy||(uy={})).ya="default",TS.Cache="cache";class S5{constructor(e,t,i){this.query=e,this.wa=t,this.ba=!1,this.Sa=null,this.onlineState="Unknown",this.options=i||{}}pa(e){if(!this.options.includeMetadataChanges){const i=[];for(const s of e.docChanges)s.type!==3&&i.push(s);e=new Ol(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.ba?this.Da(e)&&(this.wa.next(e),t=!0):this.va(e,this.onlineState)&&(this.Ca(e),t=!0),this.Sa=e,t}onError(e){this.wa.error(e)}ga(e){this.onlineState=e;let t=!1;return this.Sa&&!this.ba&&this.va(this.Sa,e)&&(this.Ca(this.Sa),t=!0),t}va(e,t){if(!e.fromCache||!this.ma())return!0;const i=t!=="Offline";return(!this.options.Fa||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Da(e){if(e.docChanges.length>0)return!0;const t=this.Sa&&this.Sa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}Ca(e){e=Ol.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ba=!0,this.wa.next(e)}ma(){return this.options.source!==uy.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MR{constructor(e){this.key=e}}class PR{constructor(e){this.key=e}}class w5{constructor(e,t){this.query=e,this.qa=t,this.Qa=null,this.hasCachedResults=!1,this.current=!1,this.$a=st(),this.mutatedKeys=st(),this.Ua=ZA(e),this.Ka=new bl(this.Ua)}get Wa(){return this.qa}Ga(e,t){const i=t?t.za:new _S,s=t?t.Ka:this.Ka;let l=t?t.mutatedKeys:this.mutatedKeys,c=s,h=!1;const m=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,p=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((y,_)=>{const E=s.get(y),w=Id(this.query,_)?_:null,R=!!E&&this.mutatedKeys.has(E.key),P=!!w&&(w.hasLocalMutations||this.mutatedKeys.has(w.key)&&w.hasCommittedMutations);let L=!1;E&&w?E.data.isEqual(w.data)?R!==P&&(i.track({type:3,doc:w}),L=!0):this.ja(E,w)||(i.track({type:2,doc:w}),L=!0,(m&&this.Ua(w,m)>0||p&&this.Ua(w,p)<0)&&(h=!0)):!E&&w?(i.track({type:0,doc:w}),L=!0):E&&!w&&(i.track({type:1,doc:E}),L=!0,(m||p)&&(h=!0)),L&&(w?(c=c.add(w),l=P?l.add(y):l.delete(y)):(c=c.delete(y),l=l.delete(y)))}),this.query.limit!==null)for(;c.size>this.query.limit;){const y=this.query.limitType==="F"?c.last():c.first();c=c.delete(y.key),l=l.delete(y.key),i.track({type:1,doc:y})}return{Ka:c,za:i,ys:h,mutatedKeys:l}}ja(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,i,s){const l=this.Ka;this.Ka=e.Ka,this.mutatedKeys=e.mutatedKeys;const c=e.za.da();c.sort((y,_)=>function(w,R){const P=L=>{switch(L){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return $e(20277,{Vt:L})}};return P(w)-P(R)}(y.type,_.type)||this.Ua(y.doc,_.doc)),this.Ha(i),s=s!=null&&s;const h=t&&!s?this.Ja():[],m=this.$a.size===0&&this.current&&!s?1:0,p=m!==this.Qa;return this.Qa=m,c.length!==0||p?{snapshot:new Ol(this.query,e.Ka,l,c,e.mutatedKeys,m===0,p,!1,!!i&&i.resumeToken.approximateByteSize()>0),Ya:h}:{Ya:h}}ga(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ka:this.Ka,za:new _S,mutatedKeys:this.mutatedKeys,ys:!1},!1)):{Ya:[]}}Za(e){return!this.qa.has(e)&&!!this.Ka.has(e)&&!this.Ka.get(e).hasLocalMutations}Ha(e){e&&(e.addedDocuments.forEach(t=>this.qa=this.qa.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.qa=this.qa.delete(t)),this.current=e.current)}Ja(){if(!this.current)return[];const e=this.$a;this.$a=st(),this.Ka.forEach(i=>{this.Za(i.key)&&(this.$a=this.$a.add(i.key))});const t=[];return e.forEach(i=>{this.$a.has(i)||t.push(new PR(i))}),this.$a.forEach(i=>{e.has(i)||t.push(new MR(i))}),t}Xa(e){this.qa=e.Ns,this.$a=st();const t=this.Ga(e.documents);return this.applyChanges(t,!0)}eu(){return Ol.fromInitialDocuments(this.query,this.Ka,this.mutatedKeys,this.Qa===0,this.hasCachedResults)}}const vv="SyncEngine";class A5{constructor(e,t,i){this.query=e,this.targetId=t,this.view=i}}class R5{constructor(e){this.key=e,this.tu=!1}}class C5{constructor(e,t,i,s,l,c){this.localStore=e,this.remoteStore=t,this.eventManager=i,this.sharedClientState=s,this.currentUser=l,this.maxConcurrentLimboResolutions=c,this.nu={},this.ru=new _o(h=>WA(h),Cd),this.iu=new Map,this.su=new Set,this.ou=new Ft(Ve.comparator),this._u=new Map,this.au=new ov,this.uu={},this.cu=new Map,this.lu=Dl.ir(),this.onlineState="Unknown",this.hu=void 0}get isPrimaryClient(){return this.hu===!0}}async function I5(n,e,t=!0){const i=zR(n);let s;const l=i.ru.get(e);return l?(i.sharedClientState.addLocalQueryTarget(l.targetId),s=l.view.eu()):s=await LR(i,e,t,!0),s}async function D5(n,e){const t=zR(n);await LR(t,e,!0,!1)}async function LR(n,e,t,i){const s=await G3(n.localStore,Ii(e)),l=s.targetId,c=n.sharedClientState.addLocalQueryTarget(l,t);let h;return i&&(h=await O5(n,e,l,c==="current",s.resumeToken)),n.isPrimaryClient&&t&&CR(n.remoteStore,s),h}async function O5(n,e,t,i,s){n.Pu=(_,E,w)=>async function(P,L,x,$){let ne=L.view.Ga(x);ne.ys&&(ne=await dS(P.localStore,L.query,!1).then(({documents:O})=>L.view.Ga(O,ne)));const fe=$&&$.targetChanges.get(L.targetId),H=$&&$.targetMismatches.get(L.targetId)!=null,V=L.view.applyChanges(ne,P.isPrimaryClient,fe,H);return SS(P,L.targetId,V.Ya),V.snapshot}(n,_,E,w);const l=await dS(n.localStore,e,!0),c=new w5(e,l.Ns),h=c.Ga(l.documents),m=Lc.createSynthesizedTargetChangeForCurrentChange(t,i&&n.onlineState!=="Offline",s),p=c.applyChanges(h,n.isPrimaryClient,m);SS(n,t,p.Ya);const y=new A5(e,t,c);return n.ru.set(e,y),n.iu.has(t)?n.iu.get(t).push(e):n.iu.set(t,[e]),p.snapshot}async function x5(n,e,t){const i=Ye(n),s=i.ru.get(e),l=i.iu.get(s.targetId);if(l.length>1)return i.iu.set(s.targetId,l.filter(c=>!Cd(c,e))),void i.ru.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(s.targetId),i.sharedClientState.isActiveQueryTarget(s.targetId)||await oy(i.localStore,s.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(s.targetId),t&&fv(i.remoteStore,s.targetId),cy(i,s.targetId)}).catch(jl)):(cy(i,s.targetId),await oy(i.localStore,s.targetId,!0))}async function N5(n,e){const t=Ye(n),i=t.ru.get(e),s=t.iu.get(i.targetId);t.isPrimaryClient&&s.length===1&&(t.sharedClientState.removeLocalQueryTarget(i.targetId),fv(t.remoteStore,i.targetId))}async function M5(n,e,t){const i=z5(n);try{const s=await function(c,h){const m=Ye(c),p=ln.now(),y=h.reduce((w,R)=>w.add(R.key),st());let _,E;return m.persistence.runTransaction("Locally write mutations","readwrite",w=>{let R=da(),P=st();return m.Cs.getEntries(w,y).next(L=>{R=L,R.forEach((x,$)=>{$.isValidDocument()||(P=P.add(x))})}).next(()=>m.localDocuments.getOverlayedDocuments(w,R)).next(L=>{_=L;const x=[];for(const $ of h){const ne=KU($,_.get($.key).overlayedDocument);ne!=null&&x.push(new Eo($.key,ne,$A(ne.value.mapValue),la.exists(!0)))}return m.mutationQueue.addMutationBatch(w,p,x,h)}).next(L=>{E=L;const x=L.applyToLocalDocumentSet(_,P);return m.documentOverlayCache.saveOverlays(w,L.batchId,x)})}).then(()=>({batchId:E.batchId,changes:eR(_)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(s.batchId),function(c,h,m){let p=c.uu[c.currentUser.toKey()];p||(p=new Ft(Ze)),p=p.insert(h,m),c.uu[c.currentUser.toKey()]=p}(i,s.batchId,t),await kc(i,s.changes),await Pd(i.remoteStore)}catch(s){const l=gv(s,"Failed to persist write");t.reject(l)}}async function VR(n,e){const t=Ye(n);try{const i=await $3(t.localStore,e);e.targetChanges.forEach((s,l)=>{const c=t._u.get(l);c&&(Tt(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1,22616),s.addedDocuments.size>0?c.tu=!0:s.modifiedDocuments.size>0?Tt(c.tu,14607):s.removedDocuments.size>0&&(Tt(c.tu,42227),c.tu=!1))}),await kc(t,i,e)}catch(i){await jl(i)}}function bS(n,e,t){const i=Ye(n);if(i.isPrimaryClient&&t===0||!i.isPrimaryClient&&t===1){const s=[];i.ru.forEach((l,c)=>{const h=c.view.ga(e);h.snapshot&&s.push(h.snapshot)}),function(c,h){const m=Ye(c);m.onlineState=h;let p=!1;m.queries.forEach((y,_)=>{for(const E of _.Ra)E.ga(h)&&(p=!0)}),p&&yv(m)}(i.eventManager,e),s.length&&i.nu.Q_(s),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function P5(n,e,t){const i=Ye(n);i.sharedClientState.updateQueryState(e,"rejected",t);const s=i._u.get(e),l=s&&s.key;if(l){let c=new Ft(Ve.comparator);c=c.insert(l,Pn.newNoDocument(l,Ke.min()));const h=st().add(l),m=new xd(Ke.min(),new Map,new Ft(Ze),c,h);await VR(i,m),i.ou=i.ou.remove(l),i._u.delete(e),_v(i)}else await oy(i.localStore,e,!1).then(()=>cy(i,e,t)).catch(jl)}async function L5(n,e){const t=Ye(n),i=e.batch.batchId;try{const s=await B3(t.localStore,e);UR(t,i,null),kR(t,i),t.sharedClientState.updateMutationState(i,"acknowledged"),await kc(t,s)}catch(s){await jl(s)}}async function V5(n,e,t){const i=Ye(n);try{const s=await function(c,h){const m=Ye(c);return m.persistence.runTransaction("Reject batch","readwrite-primary",p=>{let y;return m.mutationQueue.lookupMutationBatch(p,h).next(_=>(Tt(_!==null,37113),y=_.keys(),m.mutationQueue.removeMutationBatch(p,_))).next(()=>m.mutationQueue.performConsistencyCheck(p)).next(()=>m.documentOverlayCache.removeOverlaysForBatchId(p,y,h)).next(()=>m.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,y)).next(()=>m.localDocuments.getDocuments(p,y))})}(i.localStore,e);UR(i,e,t),kR(i,e),i.sharedClientState.updateMutationState(e,"rejected",t),await kc(i,s)}catch(s){await jl(s)}}function kR(n,e){(n.cu.get(e)||[]).forEach(t=>{t.resolve()}),n.cu.delete(e)}function UR(n,e,t){const i=Ye(n);let s=i.uu[i.currentUser.toKey()];if(s){const l=s.get(e);l&&(t?l.reject(t):l.resolve(),s=s.remove(e)),i.uu[i.currentUser.toKey()]=s}}function cy(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const i of n.iu.get(e))n.ru.delete(i),t&&n.nu.Tu(i,t);n.iu.delete(e),n.isPrimaryClient&&n.au.Ur(e).forEach(i=>{n.au.containsKey(i)||jR(n,i)})}function jR(n,e){n.su.delete(e.path.canonicalString());const t=n.ou.get(e);t!==null&&(fv(n.remoteStore,t),n.ou=n.ou.remove(e),n._u.delete(t),_v(n))}function SS(n,e,t){for(const i of t)i instanceof MR?(n.au.addReference(i.key,e),k5(n,i)):i instanceof PR?(Te(vv,"Document no longer in limbo: "+i.key),n.au.removeReference(i.key,e),n.au.containsKey(i.key)||jR(n,i.key)):$e(19791,{Iu:i})}function k5(n,e){const t=e.key,i=t.path.canonicalString();n.ou.get(t)||n.su.has(i)||(Te(vv,"New document in limbo: "+t),n.su.add(i),_v(n))}function _v(n){for(;n.su.size>0&&n.ou.size<n.maxConcurrentLimboResolutions;){const e=n.su.values().next().value;n.su.delete(e);const t=new Ve(jt.fromString(e)),i=n.lu.next();n._u.set(i,new R5(t)),n.ou=n.ou.insert(t,i),CR(n.remoteStore,new Ja(Ii(XA(t.path)),i,"TargetPurposeLimboResolution",Sd.le))}}async function kc(n,e,t){const i=Ye(n),s=[],l=[],c=[];i.ru.isEmpty()||(i.ru.forEach((h,m)=>{c.push(i.Pu(m,e,t).then(p=>{var y;if((p||t)&&i.isPrimaryClient){const _=p?!p.fromCache:(y=t==null?void 0:t.targetChanges.get(m.targetId))===null||y===void 0?void 0:y.current;i.sharedClientState.updateQueryState(m.targetId,_?"current":"not-current")}if(p){s.push(p);const _=uv.Ps(m.targetId,p);l.push(_)}}))}),await Promise.all(c),i.nu.Q_(s),await async function(m,p){const y=Ye(m);try{await y.persistence.runTransaction("notifyLocalViewChanges","readwrite",_=>ue.forEach(p,E=>ue.forEach(E.ls,w=>y.persistence.referenceDelegate.addReference(_,E.targetId,w)).next(()=>ue.forEach(E.hs,w=>y.persistence.referenceDelegate.removeReference(_,E.targetId,w)))))}catch(_){if(!zl(_))throw _;Te(cv,"Failed to update sequence numbers: "+_)}for(const _ of p){const E=_.targetId;if(!_.fromCache){const w=y.Ss.get(E),R=w.snapshotVersion,P=w.withLastLimboFreeSnapshotVersion(R);y.Ss=y.Ss.insert(E,P)}}}(i.localStore,l))}async function U5(n,e){const t=Ye(n);if(!t.currentUser.isEqual(e)){Te(vv,"User change. New user:",e.toKey());const i=await SR(t.localStore,e);t.currentUser=e,function(l,c){l.cu.forEach(h=>{h.forEach(m=>{m.reject(new Me(he.CANCELLED,c))})}),l.cu.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await kc(t,i.Ms)}}function j5(n,e){const t=Ye(n),i=t._u.get(e);if(i&&i.tu)return st().add(i.key);{let s=st();const l=t.iu.get(e);if(!l)return s;for(const c of l){const h=t.ru.get(c);s=s.unionWith(h.view.Wa)}return s}}function zR(n){const e=Ye(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=VR.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=j5.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=P5.bind(null,e),e.nu.Q_=T5.bind(null,e.eventManager),e.nu.Tu=b5.bind(null,e.eventManager),e}function z5(n){const e=Ye(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=L5.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=V5.bind(null,e),e}class rd{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Nd(e.databaseInfo.databaseId),this.sharedClientState=this.Au(e),this.persistence=this.Ru(e),await this.persistence.start(),this.localStore=this.Vu(e),this.gcScheduler=this.mu(e,this.localStore),this.indexBackfillerScheduler=this.fu(e,this.localStore)}mu(e,t){return null}fu(e,t){return null}Vu(e){return F3(this.persistence,new U3,e.initialUser,this.serializer)}Ru(e){return new bR(lv.Ei,this.serializer)}Au(e){return new Q3}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}rd.provider={build:()=>new rd};class F5 extends rd{constructor(e){super(),this.cacheSizeBytes=e}mu(e,t){Tt(this.persistence.referenceDelegate instanceof td,46915);const i=this.persistence.referenceDelegate.garbageCollector;return new S3(i,e.asyncQueue,t)}Ru(e){const t=this.cacheSizeBytes!==void 0?Qn.withCacheSize(this.cacheSizeBytes):Qn.DEFAULT;return new bR(i=>td.Ei(i,t),this.serializer)}}class fy{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>bS(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=U5.bind(null,this.syncEngine),await g5(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new v5}()}createDatastore(e){const t=Nd(e.databaseInfo.databaseId),i=function(l){return new J3(l)}(e.databaseInfo);return function(l,c,h,m){return new r5(l,c,h,m)}(e.authCredentials,e.appCheckCredentials,i,t)}createRemoteStore(e){return function(i,s,l,c,h){return new a5(i,s,l,c,h)}(this.localStore,this.datastore,e.asyncQueue,t=>bS(this.syncEngine,t,0),function(){return gS.C()?new gS:new Y3}())}createSyncEngine(e,t){return function(s,l,c,h,m,p,y){const _=new C5(s,l,c,h,m,p);return y&&(_.hu=!0),_}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(s){const l=Ye(s);Te(uo,"RemoteStore shutting down."),l.aa.add(5),await Vc(l),l.ca.shutdown(),l.la.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}fy.provider={build:()=>new fy};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B5{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.pu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.pu(this.observer.error,e):ha("Uncaught Error in snapshot listener:",e.toString()))}yu(){this.muted=!0}pu(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ps="FirestoreClient";class $5{constructor(e,t,i,s,l){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=i,this.databaseInfo=s,this.user=Kn.UNAUTHENTICATED,this.clientId=MA.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(i,async c=>{Te(ps,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c}),this.appCheckCredentials.start(i,c=>(Te(ps,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new as;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const i=gv(t,"Failed to shutdown persistence");e.reject(i)}}),e.promise}}async function pg(n,e){n.asyncQueue.verifyOperationInProgress(),Te(ps,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let i=t.initialUser;n.setCredentialChangeListener(async s=>{i.isEqual(s)||(await SR(e.localStore,s),i=s)}),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}async function wS(n,e){n.asyncQueue.verifyOperationInProgress();const t=await H5(n);Te(ps,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener(i=>vS(e.remoteStore,i)),n.setAppCheckTokenChangeListener((i,s)=>vS(e.remoteStore,s)),n._onlineComponents=e}async function H5(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){Te(ps,"Using user provided OfflineComponentProvider");try{await pg(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(s){return s.name==="FirebaseError"?s.code===he.FAILED_PRECONDITION||s.code===he.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(t))throw t;pc("Error using user provided cache. Falling back to memory cache: "+t),await pg(n,new rd)}}else Te(ps,"Using default OfflineComponentProvider"),await pg(n,new F5(void 0));return n._offlineComponents}async function FR(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(Te(ps,"Using user provided OnlineComponentProvider"),await wS(n,n._uninitializedComponentsProvider._online)):(Te(ps,"Using default OnlineComponentProvider"),await wS(n,new fy))),n._onlineComponents}function q5(n){return FR(n).then(e=>e.syncEngine)}async function G5(n){const e=await FR(n),t=e.eventManager;return t.onListen=I5.bind(null,e.syncEngine),t.onUnlisten=x5.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=D5.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=N5.bind(null,e.syncEngine),t}function K5(n,e,t={}){const i=new as;return n.asyncQueue.enqueueAndForget(async()=>function(l,c,h,m,p){const y=new B5({next:E=>{y.yu(),c.enqueueAndForget(()=>E5(l,_)),E.fromCache&&m.source==="server"?p.reject(new Me(he.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(E)},error:E=>p.reject(E)}),_=new S5(h,y,{includeMetadataChanges:!0,Fa:!0});return _5(l,_)}(await G5(n),n.asyncQueue,e,t,i)),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BR(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AS=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $R(n,e,t){if(!t)throw new Me(he.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function Q5(n,e,t,i){if(e===!0&&i===!0)throw new Me(he.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function RS(n){if(!Ve.isDocumentKey(n))throw new Me(he.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function CS(n){if(Ve.isDocumentKey(n))throw new Me(he.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function Ev(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=function(i){return i.constructor?i.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":$e(12329,{type:typeof n})}function hy(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Me(he.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Ev(n);throw new Me(he.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y5="firestore.googleapis.com",IS=!0;class DS{constructor(e){var t,i;if(e.host===void 0){if(e.ssl!==void 0)throw new Me(he.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Y5,this.ssl=IS}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:IS;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=ER;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<TR)throw new Me(he.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Q5("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=BR((i=e.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),function(l){if(l.timeoutSeconds!==void 0){if(isNaN(l.timeoutSeconds))throw new Me(he.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (must not be NaN)`);if(l.timeoutSeconds<5)throw new Me(he.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (minimum allowed value is 5)`);if(l.timeoutSeconds>30)throw new Me(he.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(i,s){return i.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Tv{constructor(e,t,i,s){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=i,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new DS({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Me(he.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Me(he.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new DS(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new Jk;switch(i.type){case"firstParty":return new nU(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new Me(he.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const i=AS.get(t);i&&(Te("ComponentProvider","Removing Datastore"),AS.delete(t),i.terminate())}(this),Promise.resolve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ld{constructor(e,t,i){this.converter=t,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new Ld(this.firestore,e,this._query)}}class ei{constructor(e,t,i){this.converter=t,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ss(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new ei(this.firestore,e,this._key)}}class ss extends Ld{constructor(e,t,i){super(e,t,XA(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new ei(this.firestore,null,new Ve(e))}withConverter(e){return new ss(this.firestore,e,this._path)}}function HR(n,e,...t){if(n=gr(n),$R("collection","path",e),n instanceof Tv){const i=jt.fromString(e,...t);return CS(i),new ss(n,null,i)}{if(!(n instanceof ei||n instanceof ss))throw new Me(he.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(jt.fromString(e,...t));return CS(i),new ss(n.firestore,null,i)}}function X5(n,e,...t){if(n=gr(n),arguments.length===1&&(e=MA.newId()),$R("doc","path",e),n instanceof Tv){const i=jt.fromString(e,...t);return RS(i),new ei(n,null,new Ve(i))}{if(!(n instanceof ei||n instanceof ss))throw new Me(he.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(jt.fromString(e,...t));return RS(i),new ei(n.firestore,n instanceof ss?n.converter:null,new Ve(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OS="AsyncQueue";class xS{constructor(e=Promise.resolve()){this.Qu=[],this.$u=!1,this.Uu=[],this.Ku=null,this.Wu=!1,this.Gu=!1,this.zu=[],this.y_=new AR(this,"async_queue_retry"),this.ju=()=>{const i=mg();i&&Te(OS,"Visibility state changed to "+i.visibilityState),this.y_.A_()},this.Hu=e;const t=mg();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.ju)}get isShuttingDown(){return this.$u}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Ju(),this.Yu(e)}enterRestrictedMode(e){if(!this.$u){this.$u=!0,this.Gu=e||!1;const t=mg();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.ju)}}enqueue(e){if(this.Ju(),this.$u)return new Promise(()=>{});const t=new as;return this.Yu(()=>this.$u&&this.Gu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qu.push(e),this.Zu()))}async Zu(){if(this.Qu.length!==0){try{await this.Qu[0](),this.Qu.shift(),this.y_.reset()}catch(e){if(!zl(e))throw e;Te(OS,"Operation failed with retryable error: "+e)}this.Qu.length>0&&this.y_.E_(()=>this.Zu())}}Yu(e){const t=this.Hu.then(()=>(this.Wu=!0,e().catch(i=>{throw this.Ku=i,this.Wu=!1,ha("INTERNAL UNHANDLED ERROR: ",NS(i)),i}).then(i=>(this.Wu=!1,i))));return this.Hu=t,t}enqueueAfterDelay(e,t,i){this.Ju(),this.zu.indexOf(e)>-1&&(t=0);const s=pv.createAndSchedule(this,e,t,i,l=>this.Xu(l));return this.Uu.push(s),s}Ju(){this.Ku&&$e(47125,{ec:NS(this.Ku)})}verifyOperationInProgress(){}async tc(){let e;do e=this.Hu,await e;while(e!==this.Hu)}nc(e){for(const t of this.Uu)if(t.timerId===e)return!0;return!1}rc(e){return this.tc().then(()=>{this.Uu.sort((t,i)=>t.targetTimeMs-i.targetTimeMs);for(const t of this.Uu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.tc()})}sc(e){this.zu.push(e)}Xu(e){const t=this.Uu.indexOf(e);this.Uu.splice(t,1)}}function NS(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}class bv extends Tv{constructor(e,t,i,s){super(e,t,i,s),this.type="firestore",this._queue=new xS,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new xS(e),this._firestoreClient=void 0,await e}}}function W5(n,e,t){t||(t=Qh);const i=Dy(n,"firestore");if(i.isInitialized(t)){const s=i.getImmediate({identifier:t}),l=i.getOptions(t);if(ro(l,e))return s;throw new Me(he.FAILED_PRECONDITION,"initializeFirestore() has already been called with different options. To avoid this error, call initializeFirestore() with the same options as when it was originally called, or call getFirestore() to return the already initialized instance.")}if(e.cacheSizeBytes!==void 0&&e.localCache!==void 0)throw new Me(he.INVALID_ARGUMENT,"cache and cacheSizeBytes cannot be specified at the same time as cacheSizeBytes willbe deprecated. Instead, specify the cache size in the cache object");if(e.cacheSizeBytes!==void 0&&e.cacheSizeBytes!==-1&&e.cacheSizeBytes<TR)throw new Me(he.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");return i.initialize({options:e,instanceIdentifier:t})}function qR(n){if(n._terminated)throw new Me(he.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||Z5(n),n._firestoreClient}function Z5(n){var e,t,i;const s=n._freezeSettings(),l=function(h,m,p,y){return new yU(h,m,p,y.host,y.ssl,y.experimentalForceLongPolling,y.experimentalAutoDetectLongPolling,BR(y.experimentalLongPollingOptions),y.useFetchStreams)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,s);n._componentsProvider||!((t=s.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((i=s.localCache)===null||i===void 0)&&i._onlineComponentProvider)&&(n._componentsProvider={_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider}),n._firestoreClient=new $5(n._authCredentials,n._appCheckCredentials,n._queue,l,n._componentsProvider&&function(h){const m=h==null?void 0:h._online.build();return{_offline:h==null?void 0:h._offline.build(m),_online:m}}(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xl{constructor(e){this._byteString=e}static fromBase64String(e){try{return new xl(In.fromBase64String(e))}catch(t){throw new Me(he.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new xl(In.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sv{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new Me(he.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Cn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GR{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wv{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Me(he.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Me(he.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ze(this._lat,e._lat)||Ze(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Av{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(i,s){if(i.length!==s.length)return!1;for(let l=0;l<i.length;++l)if(i[l]!==s[l])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J5=/^__.*__$/;class ej{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return this.fieldMask!==null?new Eo(e,this.data,this.fieldMask,t,this.fieldTransforms):new Pc(e,this.data,t,this.fieldTransforms)}}function KR(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw $e(40011,{oc:n})}}class Rv{constructor(e,t,i,s,l,c){this.settings=e,this.databaseId=t,this.serializer=i,this.ignoreUndefinedProperties=s,l===void 0&&this._c(),this.fieldTransforms=l||[],this.fieldMask=c||[]}get path(){return this.settings.path}get oc(){return this.settings.oc}ac(e){return new Rv(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}uc(e){var t;const i=(t=this.path)===null||t===void 0?void 0:t.child(e),s=this.ac({path:i,cc:!1});return s.lc(e),s}hc(e){var t;const i=(t=this.path)===null||t===void 0?void 0:t.child(e),s=this.ac({path:i,cc:!1});return s._c(),s}Pc(e){return this.ac({path:void 0,cc:!0})}Tc(e){return id(e,this.settings.methodName,this.settings.Ic||!1,this.path,this.settings.Ec)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}_c(){if(this.path)for(let e=0;e<this.path.length;e++)this.lc(this.path.get(e))}lc(e){if(e.length===0)throw this.Tc("Document fields must not be empty");if(KR(this.oc)&&J5.test(e))throw this.Tc('Document fields cannot begin and end with "__"')}}class tj{constructor(e,t,i){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=i||Nd(e)}dc(e,t,i,s=!1){return new Rv({oc:e,methodName:t,Ec:i,path:Cn.emptyPath(),cc:!1,Ic:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function nj(n){const e=n._freezeSettings(),t=Nd(n._databaseId);return new tj(n._databaseId,!!e.ignoreUndefinedProperties,t)}function rj(n,e,t,i,s,l={}){const c=n.dc(l.merge||l.mergeFields?2:0,e,t,s);WR("Data must be an object, but it was:",c,i);const h=YR(i,c);let m,p;if(l.merge)m=new Zr(c.fieldMask),p=c.fieldTransforms;else if(l.mergeFields){const y=[];for(const _ of l.mergeFields){const E=ij(e,_,t);if(!c.contains(E))throw new Me(he.INVALID_ARGUMENT,`Field '${E}' is specified in your field mask but missing from your input data.`);sj(y,E)||y.push(E)}m=new Zr(y),p=c.fieldTransforms.filter(_=>m.covers(_.field))}else m=null,p=c.fieldTransforms;return new ej(new zr(h),m,p)}function QR(n,e){if(XR(n=gr(n)))return WR("Unsupported field value:",e,n),YR(n,e);if(n instanceof GR)return function(i,s){if(!KR(s.oc))throw s.Tc(`${i._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Tc(`${i._methodName}() is not currently supported inside arrays`);const l=i._toFieldTransform(s);l&&s.fieldTransforms.push(l)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.cc&&e.oc!==4)throw e.Tc("Nested arrays are not supported");return function(i,s){const l=[];let c=0;for(const h of i){let m=QR(h,s.Pc(c));m==null&&(m={nullValue:"NULL_VALUE"}),l.push(m),c++}return{arrayValue:{values:l}}}(n,e)}return function(i,s){if((i=gr(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return FU(s.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const l=ln.fromDate(i);return{timestampValue:ed(s.serializer,l)}}if(i instanceof ln){const l=new ln(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:ed(s.serializer,l)}}if(i instanceof wv)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof xl)return{bytesValue:dR(s.serializer,i._byteString)};if(i instanceof ei){const l=s.databaseId,c=i.firestore._databaseId;if(!c.isEqual(l))throw s.Tc(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:sv(i.firestore._databaseId||s.databaseId,i._key.path)}}if(i instanceof Av)return function(c,h){return{mapValue:{fields:{[FA]:{stringValue:BA},[Yh]:{arrayValue:{values:c.toArray().map(p=>{if(typeof p!="number")throw h.Tc("VectorValues must only contain numeric values.");return rv(h.serializer,p)})}}}}}}(i,s);throw s.Tc(`Unsupported field value: ${Ev(i)}`)}(n,e)}function YR(n,e){const t={};return LA(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):vo(n,(i,s)=>{const l=QR(s,e.uc(i));l!=null&&(t[i]=l)}),{mapValue:{fields:t}}}function XR(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof ln||n instanceof wv||n instanceof xl||n instanceof ei||n instanceof GR||n instanceof Av)}function WR(n,e,t){if(!XR(t)||!function(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}(t)){const i=Ev(t);throw i==="an object"?e.Tc(n+" a custom object"):e.Tc(n+" "+i)}}function ij(n,e,t){if((e=gr(e))instanceof Sv)return e._internalPath;if(typeof e=="string")return ZR(n,e);throw id("Field path arguments must be of type string or ",n,!1,void 0,t)}const aj=new RegExp("[~\\*/\\[\\]]");function ZR(n,e,t){if(e.search(aj)>=0)throw id(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Sv(...e.split("."))._internalPath}catch{throw id(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function id(n,e,t,i,s){const l=i&&!i.isEmpty(),c=s!==void 0;let h=`Function ${e}() called with invalid data`;t&&(h+=" (via `toFirestore()`)"),h+=". ";let m="";return(l||c)&&(m+=" (found",l&&(m+=` in field ${i}`),c&&(m+=` in document ${s}`),m+=")"),new Me(he.INVALID_ARGUMENT,h+n+m)}function sj(n,e){return n.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JR{constructor(e,t,i,s,l){this._firestore=e,this._userDataWriter=t,this._key=i,this._document=s,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new ei(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new oj(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(eC("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class oj extends JR{data(){return super.data()}}function eC(n,e){return typeof e=="string"?ZR(n,e):e instanceof Sv?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lj(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new Me(he.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class uj{convertValue(e,t="none"){switch(ds(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Qt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(hs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw $e(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const i={};return vo(e,(s,l)=>{i[s]=this.convertValue(l,t)}),i}convertVectorValue(e){var t,i,s;const l=(s=(i=(t=e.fields)===null||t===void 0?void 0:t[Yh].arrayValue)===null||i===void 0?void 0:i.values)===null||s===void 0?void 0:s.map(c=>Qt(c.doubleValue));return new Av(l)}convertGeoPoint(e){return new wv(Qt(e.latitude),Qt(e.longitude))}convertArray(e,t){return(e.values||[]).map(i=>this.convertValue(i,t))}convertServerTimestamp(e,t){switch(t){case"previous":const i=Ad(e);return i==null?null:this.convertValue(i,t);case"estimate":return this.convertTimestamp(yc(e));default:return null}}convertTimestamp(e){const t=fs(e);return new ln(t.seconds,t.nanos)}convertDocumentKey(e,t){const i=jt.fromString(e);Tt(_R(i),9688,{name:e});const s=new vc(i.get(1),i.get(3)),l=new Ve(i.popFirst(5));return s.isEqual(t)||ha(`Document ${l} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cj(n,e,t){let i;return i=n?n.toFirestore(e):e,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hh{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class fj extends JR{constructor(e,t,i,s,l,c){super(e,t,i,s,c),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Oh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const i=this._document.data.field(eC("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,t.serverTimestamps)}}}class Oh extends fj{data(e={}){return super.data(e)}}class hj{constructor(e,t,i,s){this._firestore=e,this._userDataWriter=t,this._snapshot=s,this.metadata=new hh(s.hasPendingWrites,s.fromCache),this.query=i}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(i=>{e.call(t,new Oh(this._firestore,this._userDataWriter,i.key,i,new hh(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Me(he.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(s,l){if(s._snapshot.oldDocs.isEmpty()){let c=0;return s._snapshot.docChanges.map(h=>{const m=new Oh(s._firestore,s._userDataWriter,h.doc.key,h.doc,new hh(s._snapshot.mutatedKeys.has(h.doc.key),s._snapshot.fromCache),s.query.converter);return h.doc,{type:"added",doc:m,oldIndex:-1,newIndex:c++}})}{let c=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(h=>l||h.type!==3).map(h=>{const m=new Oh(s._firestore,s._userDataWriter,h.doc.key,h.doc,new hh(s._snapshot.mutatedKeys.has(h.doc.key),s._snapshot.fromCache),s.query.converter);let p=-1,y=-1;return h.type!==0&&(p=c.indexOf(h.doc.key),c=c.delete(h.doc.key)),h.type!==1&&(c=c.add(h.doc),y=c.indexOf(h.doc.key)),{type:dj(h.type),doc:m,oldIndex:p,newIndex:y}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function dj(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return $e(61501,{type:n})}}class mj extends uj{constructor(e){super(),this.firestore=e}convertBytes(e){return new xl(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new ei(this.firestore,null,t)}}function pj(n){n=hy(n,Ld);const e=hy(n.firestore,bv),t=qR(e),i=new mj(e);return lj(n._query),K5(t,n._query).then(s=>new hj(e,i,n,s))}function gj(n,e){const t=hy(n.firestore,bv),i=X5(n),s=cj(n.converter,e);return yj(t,[rj(nj(n.firestore),"addDoc",i._key,s,n.converter!==null,{}).toMutation(i._key,la.exists(!1))]).then(()=>i)}function yj(n,e){return function(i,s){const l=new as;return i.asyncQueue.enqueueAndForget(async()=>M5(await q5(i),s,l)),l.promise}(qR(n),e)}(function(e,t=!0){(function(s){Ul=s})(Ll),Sl(new io("firestore",(i,{instanceIdentifier:s,options:l})=>{const c=i.getProvider("app").getImmediate(),h=new bv(new eU(i.getProvider("auth-internal")),new rU(c,i.getProvider("app-check-internal")),function(p,y){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new Me(he.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new vc(p.options.projectId,y)}(c,s),c);return l=Object.assign({useFetchStreams:t},l),h._setSettings(l),h},"PUBLIC").setMultipleInstances(!0)),ns(kb,Ub,e),ns(kb,Ub,"esm2017")})();const vj={apiKey:"AIzaSyAMEmnJgfQdJCnZ4muuknQEIqp3jYytHx0",authDomain:"organizer-b98f3.firebaseapp.com",projectId:"organizer-b98f3",storageBucket:"organizer-b98f3.firebasestorage.app",messagingSenderId:"500247783662",appId:"1:500247783662:web:b6814976eae86be716abff"},tC=r1(vj),dh=W4(tC),nC=W5(tC,{experimentalAutoDetectLongPolling:!0}),_j=()=>{const n=Pl();return G.jsx("div",{children:G.jsx(pA,{initialValues:{user_email:"",user_password:""},onSubmit:async(e,t)=>{t.resetForm()},validationSchema:Xy().shape({user_email:Js().email("Email non valida"),user_password:Js().min(6,"La password deve avere minimo 6 caratteri").required("Password obbligatoria")}),children:({handleSubmit:e,handleChange:t,values:i,touched:s,errors:l})=>G.jsxs(Ht,{noValidate:!0,onSubmit:e,className:"form",children:[G.jsxs(Ht.Group,{controlId:"user_email",children:[G.jsx(Ht.Label,{children:"Email"}),G.jsx(Ht.Control,{type:"email",placeholder:"Inserisci la tua email",name:"user_email",value:i.user_email,onChange:t,isValid:s.user_email&&!l.user_email,isInvalid:s.user_email&&!!l.user_email}),G.jsx(Ht.Control.Feedback,{type:"invalid",children:l.user_email})]}),G.jsxs(Ht.Group,{controlId:"user_password",children:[G.jsx(Ht.Label,{children:"Password"}),G.jsx(Ht.Control,{type:"password",name:"user_password",value:i.user_password,onChange:t,isValid:s.user_password&&!l.user_password,isInvalid:s.user_password&&!!l.user_password}),G.jsx(Ht.Control.Feedback,{type:"invalid",children:l.user_password})]}),G.jsx(Jr,{type:"submit",onClick:()=>{!i||i.user_email.trim()===""||i.user_password.trim()===""||VM(dh,i.user_email,i.user_password).then(c=>{const h=c.user;window.localStorage.setItem("user",JSON.stringify(h)),n(Rn.dashboard)}).catch(c=>{const h=c.code;h.includes("auth/invalid-credential")&&window.alert("Email o password non validi"),console.error("Errore login",h)})},children:"Accedi"}),G.jsx(Jr,{type:"submit",onClick:()=>{!i||i.user_email.trim()===""||i.user_password.trim()===""||LM(dh,i.user_email,i.user_password).then(async c=>{const h=c.user,m=dh.currentUser,p=i.user_email.split("@")[0];m&&await UM(dh.currentUser,{displayName:p}).then(()=>{}),window.localStorage.setItem("user",JSON.stringify(h)),n(Rn.dashboard)}).catch(c=>{const h=c.code;h.includes("auth/email-already-in-use")&&window.alert("Email già in uso"),console.error("Error creating user",h)})},children:"Registrati"})]})})})},Cv=({item:n,deleteObject:e})=>G.jsxs(qu,{style:{width:"18rem"},children:[G.jsx(qu.Img,{variant:"top",src:n.objectImageUrl,alt:n.objectName}),G.jsxs(qu.Body,{className:"cardText",children:[e&&G.jsx(Jr,{variant:"danger",className:"cardButton",onClick:()=>e(n.id),children:"X"}),G.jsx(qu.Title,{children:n.objectName}),G.jsx(qu.Text,{children:n.objectType==="other"?n.objectCustomType:n.objectType})]})]}),Ej=n=>{const e=[];return n.forEach(t=>{const i=e.find(s=>s.place===t.place);i?i.boxes=[...i.boxes,...t.boxes]:e.push({...t})}),e},Tj=async(n,e)=>{try{await gj(HR(nC,n),e)}catch(t){console.error("Error adding document: ",t)}},bj=async n=>{try{const t=(await pj(HR(nC,n))).docs.map(s=>s.data());return Ej(t)}catch(e){console.error("Error getting documents: ",e)}},rC=()=>{const n=window.localStorage.getItem("user");return n?JSON.parse(n).uid:""},Sj="_list_d9l8h_1",wj="_placeContainer_d9l8h_1",Aj="_boxName_d9l8h_7",Rj="_boxContent_d9l8h_10",Cj="_sectionDescription_d9l8h_17",Ij="_inputGroup_d9l8h_22",Ks={list:Sj,placeContainer:wj,boxName:Aj,boxContent:Rj,sectionDescription:Cj,inputGroup:Ij},Dj=()=>{const[n,e]=N.useState(),[t,i]=N.useState(""),s=Pl();return N.useEffect(()=>{const l=rC();bj(l).then(c=>{e(c)})},[]),G.jsxs("div",{className:Ks.list,children:[G.jsx("h1",{children:"Lista"}),n&&n.length>0?G.jsx("div",{className:Ks.placeContainer,children:n==null?void 0:n.map(l=>G.jsxs("div",{children:[G.jsx("h2",{children:l.place}),l.boxes.map(c=>G.jsxs("div",{children:[G.jsx("h3",{className:Ks.boxName,children:c.box_name}),G.jsx("div",{className:Ks.boxContent,children:c.box_content.map(h=>G.jsx(Cv,{item:h}))})]},c.box_name))]},l.place))}):G.jsxs("div",{className:Ks.emptyList,children:[G.jsx("h2",{children:"Non hai ancora creato nessun contenitore"}),G.jsxs("div",{className:Ks.sectionDescription,children:[G.jsx("p",{children:"Per iniziare seleziona il luogo dove si trova il contenitore"}),G.jsxs(Ry,{className:Ks.inputGroup,children:[G.jsx("input",{type:"text",value:t,onChange:l=>i(l.target.value),onKeyDown:l=>{l.key==="Enter"&&t&&s(Rn.nameList,{state:{place:t}})}}),G.jsx(Jr,{onClick:()=>{t&&s(Rn.nameList,{state:{place:t}})},children:"Avanti"})]})]})]})]})},Oj=()=>{const n=Pl(),e=$r(),{place:t}=e.state,[i,s]=N.useState("");return G.jsxs("div",{children:["Dai un nome alla scatola in ",t,G.jsxs(Ry,{children:[G.jsx("input",{value:i,onChange:l=>s(l.target.value),onKeyDown:l=>{l.key==="Enter"&&i&&n(Rn.newList,{state:{boxName:i,place:t}})},type:"text",className:"form-control",placeholder:"Nome scatola","aria-label":"Username","aria-describedby":"basic-addon1"}),G.jsx(Jr,{onClick:()=>{i&&n(Rn.newList,{state:{boxName:i,place:t}})},children:"Prosegui"})]})]})};function xj(n,e){if(n.match(/^[a-z]+:\/\//i))return n;if(n.match(/^\/\//))return window.location.protocol+n;if(n.match(/^[a-z]+:/i))return n;const t=document.implementation.createHTMLDocument(),i=t.createElement("base"),s=t.createElement("a");return t.head.appendChild(i),t.body.appendChild(s),e&&(i.href=e),s.href=n,s.href}const Nj=(()=>{let n=0;const e=()=>`0000${(Math.random()*36**4<<0).toString(36)}`.slice(-4);return()=>(n+=1,`u${e()}${n}`)})();function os(n){const e=[];for(let t=0,i=n.length;t<i;t++)e.push(n[t]);return e}let ol=null;function iC(n={}){return ol||(n.includeStyleProperties?(ol=n.includeStyleProperties,ol):(ol=os(window.getComputedStyle(document.documentElement)),ol))}function ad(n,e){const i=(n.ownerDocument.defaultView||window).getComputedStyle(n).getPropertyValue(e);return i?parseFloat(i.replace("px","")):0}function Mj(n){const e=ad(n,"border-left-width"),t=ad(n,"border-right-width");return n.clientWidth+e+t}function Pj(n){const e=ad(n,"border-top-width"),t=ad(n,"border-bottom-width");return n.clientHeight+e+t}function aC(n,e={}){const t=e.width||Mj(n),i=e.height||Pj(n);return{width:t,height:i}}function Lj(){let n,e;try{e=process}catch{}const t=e&&e.env?e.env.devicePixelRatio:null;return t&&(n=parseInt(t,10),Number.isNaN(n)&&(n=1)),n||window.devicePixelRatio||1}const cr=16384;function Vj(n){(n.width>cr||n.height>cr)&&(n.width>cr&&n.height>cr?n.width>n.height?(n.height*=cr/n.width,n.width=cr):(n.width*=cr/n.height,n.height=cr):n.width>cr?(n.height*=cr/n.width,n.width=cr):(n.width*=cr/n.height,n.height=cr))}function sd(n){return new Promise((e,t)=>{const i=new Image;i.onload=()=>{i.decode().then(()=>{requestAnimationFrame(()=>e(i))})},i.onerror=t,i.crossOrigin="anonymous",i.decoding="async",i.src=n})}async function kj(n){return Promise.resolve().then(()=>new XMLSerializer().serializeToString(n)).then(encodeURIComponent).then(e=>`data:image/svg+xml;charset=utf-8,${e}`)}async function Uj(n,e,t){const i="http://www.w3.org/2000/svg",s=document.createElementNS(i,"svg"),l=document.createElementNS(i,"foreignObject");return s.setAttribute("width",`${e}`),s.setAttribute("height",`${t}`),s.setAttribute("viewBox",`0 0 ${e} ${t}`),l.setAttribute("width","100%"),l.setAttribute("height","100%"),l.setAttribute("x","0"),l.setAttribute("y","0"),l.setAttribute("externalResourcesRequired","true"),s.appendChild(l),l.appendChild(n),kj(s)}const Xn=(n,e)=>{if(n instanceof e)return!0;const t=Object.getPrototypeOf(n);return t===null?!1:t.constructor.name===e.name||Xn(t,e)};function jj(n){const e=n.getPropertyValue("content");return`${n.cssText} content: '${e.replace(/'|"/g,"")}';`}function zj(n,e){return iC(e).map(t=>{const i=n.getPropertyValue(t),s=n.getPropertyPriority(t);return`${t}: ${i}${s?" !important":""};`}).join(" ")}function Fj(n,e,t,i){const s=`.${n}:${e}`,l=t.cssText?jj(t):zj(t,i);return document.createTextNode(`${s}{${l}}`)}function MS(n,e,t,i){const s=window.getComputedStyle(n,t),l=s.getPropertyValue("content");if(l===""||l==="none")return;const c=Nj();try{e.className=`${e.className} ${c}`}catch{return}const h=document.createElement("style");h.appendChild(Fj(c,t,s,i)),e.appendChild(h)}function Bj(n,e,t){MS(n,e,":before",t),MS(n,e,":after",t)}const PS="application/font-woff",LS="image/jpeg",$j={woff:PS,woff2:PS,ttf:"application/font-truetype",eot:"application/vnd.ms-fontobject",png:"image/png",jpg:LS,jpeg:LS,gif:"image/gif",tiff:"image/tiff",svg:"image/svg+xml",webp:"image/webp"};function Hj(n){const e=/\.([^./]*?)$/g.exec(n);return e?e[1]:""}function Iv(n){const e=Hj(n).toLowerCase();return $j[e]||""}function qj(n){return n.split(/,/)[1]}function dy(n){return n.search(/^(data:)/)!==-1}function Gj(n,e){return`data:${e};base64,${n}`}async function sC(n,e,t){const i=await fetch(n,e);if(i.status===404)throw new Error(`Resource "${i.url}" not found`);const s=await i.blob();return new Promise((l,c)=>{const h=new FileReader;h.onerror=c,h.onloadend=()=>{try{l(t({res:i,result:h.result}))}catch(m){c(m)}},h.readAsDataURL(s)})}const gg={};function Kj(n,e,t){let i=n.replace(/\?.*/,"");return t&&(i=n),/ttf|otf|eot|woff2?/i.test(i)&&(i=i.replace(/.*\//,"")),e?`[${e}]${i}`:i}async function Dv(n,e,t){const i=Kj(n,e,t.includeQueryParams);if(gg[i]!=null)return gg[i];t.cacheBust&&(n+=(/\?/.test(n)?"&":"?")+new Date().getTime());let s;try{const l=await sC(n,t.fetchRequestInit,({res:c,result:h})=>(e||(e=c.headers.get("Content-Type")||""),qj(h)));s=Gj(l,e)}catch(l){s=t.imagePlaceholder||"";let c=`Failed to fetch resource: ${n}`;l&&(c=typeof l=="string"?l:l.message),c&&console.warn(c)}return gg[i]=s,s}async function Qj(n){const e=n.toDataURL();return e==="data:,"?n.cloneNode(!1):sd(e)}async function Yj(n,e){if(n.currentSrc){const l=document.createElement("canvas"),c=l.getContext("2d");l.width=n.clientWidth,l.height=n.clientHeight,c==null||c.drawImage(n,0,0,l.width,l.height);const h=l.toDataURL();return sd(h)}const t=n.poster,i=Iv(t),s=await Dv(t,i,e);return sd(s)}async function Xj(n,e){var t;try{if(!((t=n==null?void 0:n.contentDocument)===null||t===void 0)&&t.body)return await Vd(n.contentDocument.body,e,!0)}catch{}return n.cloneNode(!1)}async function Wj(n,e){return Xn(n,HTMLCanvasElement)?Qj(n):Xn(n,HTMLVideoElement)?Yj(n,e):Xn(n,HTMLIFrameElement)?Xj(n,e):n.cloneNode(oC(n))}const Zj=n=>n.tagName!=null&&n.tagName.toUpperCase()==="SLOT",oC=n=>n.tagName!=null&&n.tagName.toUpperCase()==="SVG";async function Jj(n,e,t){var i,s;if(oC(e))return e;let l=[];return Zj(n)&&n.assignedNodes?l=os(n.assignedNodes()):Xn(n,HTMLIFrameElement)&&(!((i=n.contentDocument)===null||i===void 0)&&i.body)?l=os(n.contentDocument.body.childNodes):l=os(((s=n.shadowRoot)!==null&&s!==void 0?s:n).childNodes),l.length===0||Xn(n,HTMLVideoElement)||await l.reduce((c,h)=>c.then(()=>Vd(h,t)).then(m=>{m&&e.appendChild(m)}),Promise.resolve()),e}function e9(n,e,t){const i=e.style;if(!i)return;const s=window.getComputedStyle(n);s.cssText?(i.cssText=s.cssText,i.transformOrigin=s.transformOrigin):iC(t).forEach(l=>{let c=s.getPropertyValue(l);l==="font-size"&&c.endsWith("px")&&(c=`${Math.floor(parseFloat(c.substring(0,c.length-2)))-.1}px`),Xn(n,HTMLIFrameElement)&&l==="display"&&c==="inline"&&(c="block"),l==="d"&&e.getAttribute("d")&&(c=`path(${e.getAttribute("d")})`),i.setProperty(l,c,s.getPropertyPriority(l))})}function t9(n,e){Xn(n,HTMLTextAreaElement)&&(e.innerHTML=n.value),Xn(n,HTMLInputElement)&&e.setAttribute("value",n.value)}function n9(n,e){if(Xn(n,HTMLSelectElement)){const t=e,i=Array.from(t.children).find(s=>n.value===s.getAttribute("value"));i&&i.setAttribute("selected","")}}function r9(n,e,t){return Xn(e,Element)&&(e9(n,e,t),Bj(n,e,t),t9(n,e),n9(n,e)),e}async function i9(n,e){const t=n.querySelectorAll?n.querySelectorAll("use"):[];if(t.length===0)return n;const i={};for(let l=0;l<t.length;l++){const h=t[l].getAttribute("xlink:href");if(h){const m=n.querySelector(h),p=document.querySelector(h);!m&&p&&!i[h]&&(i[h]=await Vd(p,e,!0))}}const s=Object.values(i);if(s.length){const l="http://www.w3.org/1999/xhtml",c=document.createElementNS(l,"svg");c.setAttribute("xmlns",l),c.style.position="absolute",c.style.width="0",c.style.height="0",c.style.overflow="hidden",c.style.display="none";const h=document.createElementNS(l,"defs");c.appendChild(h);for(let m=0;m<s.length;m++)h.appendChild(s[m]);n.appendChild(c)}return n}async function Vd(n,e,t){return!t&&e.filter&&!e.filter(n)?null:Promise.resolve(n).then(i=>Wj(i,e)).then(i=>Jj(n,i,e)).then(i=>r9(n,i,e)).then(i=>i9(i,e))}const lC=/url\((['"]?)([^'"]+?)\1\)/g,a9=/url\([^)]+\)\s*format\((["']?)([^"']+)\1\)/g,s9=/src:\s*(?:url\([^)]+\)\s*format\([^)]+\)[,;]\s*)+/g;function o9(n){const e=n.replace(/([.*+?^${}()|\[\]\/\\])/g,"\\$1");return new RegExp(`(url\\(['"]?)(${e})(['"]?\\))`,"g")}function l9(n){const e=[];return n.replace(lC,(t,i,s)=>(e.push(s),t)),e.filter(t=>!dy(t))}async function u9(n,e,t,i,s){try{const l=t?xj(e,t):e,c=Iv(e);let h;return s||(h=await Dv(l,c,i)),n.replace(o9(e),`$1${h}$3`)}catch{}return n}function c9(n,{preferredFontFormat:e}){return e?n.replace(s9,t=>{for(;;){const[i,,s]=a9.exec(t)||[];if(!s)return"";if(s===e)return`src: ${i};`}}):n}function uC(n){return n.search(lC)!==-1}async function cC(n,e,t){if(!uC(n))return n;const i=c9(n,t);return l9(i).reduce((l,c)=>l.then(h=>u9(h,c,e,t)),Promise.resolve(i))}async function ll(n,e,t){var i;const s=(i=e.style)===null||i===void 0?void 0:i.getPropertyValue(n);if(s){const l=await cC(s,null,t);return e.style.setProperty(n,l,e.style.getPropertyPriority(n)),!0}return!1}async function f9(n,e){await ll("background",n,e)||await ll("background-image",n,e),await ll("mask",n,e)||await ll("-webkit-mask",n,e)||await ll("mask-image",n,e)||await ll("-webkit-mask-image",n,e)}async function h9(n,e){const t=Xn(n,HTMLImageElement);if(!(t&&!dy(n.src))&&!(Xn(n,SVGImageElement)&&!dy(n.href.baseVal)))return;const i=t?n.src:n.href.baseVal,s=await Dv(i,Iv(i),e);await new Promise((l,c)=>{n.onload=l,n.onerror=e.onImageErrorHandler?(...m)=>{try{l(e.onImageErrorHandler(...m))}catch(p){c(p)}}:c;const h=n;h.decode&&(h.decode=l),h.loading==="lazy"&&(h.loading="eager"),t?(n.srcset="",n.src=s):n.href.baseVal=s})}async function d9(n,e){const i=os(n.childNodes).map(s=>fC(s,e));await Promise.all(i).then(()=>n)}async function fC(n,e){Xn(n,Element)&&(await f9(n,e),await h9(n,e),await d9(n,e))}function m9(n,e){const{style:t}=n;e.backgroundColor&&(t.backgroundColor=e.backgroundColor),e.width&&(t.width=`${e.width}px`),e.height&&(t.height=`${e.height}px`);const i=e.style;return i!=null&&Object.keys(i).forEach(s=>{t[s]=i[s]}),n}const VS={};async function kS(n){let e=VS[n];if(e!=null)return e;const i=await(await fetch(n)).text();return e={url:n,cssText:i},VS[n]=e,e}async function US(n,e){let t=n.cssText;const i=/url\(["']?([^"')]+)["']?\)/g,l=(t.match(/url\([^)]+\)/g)||[]).map(async c=>{let h=c.replace(i,"$1");return h.startsWith("https://")||(h=new URL(h,n.url).href),sC(h,e.fetchRequestInit,({result:m})=>(t=t.replace(c,`url(${m})`),[c,m]))});return Promise.all(l).then(()=>t)}function jS(n){if(n==null)return[];const e=[],t=/(\/\*[\s\S]*?\*\/)/gi;let i=n.replace(t,"");const s=new RegExp("((@.*?keyframes [\\s\\S]*?){([\\s\\S]*?}\\s*?)})","gi");for(;;){const m=s.exec(i);if(m===null)break;e.push(m[0])}i=i.replace(s,"");const l=/@import[\s\S]*?url\([^)]*\)[\s\S]*?;/gi,c="((\\s*?(?:\\/\\*[\\s\\S]*?\\*\\/)?\\s*?@media[\\s\\S]*?){([\\s\\S]*?)}\\s*?})|(([\\s\\S]*?){([\\s\\S]*?)})",h=new RegExp(c,"gi");for(;;){let m=l.exec(i);if(m===null){if(m=h.exec(i),m===null)break;l.lastIndex=h.lastIndex}else h.lastIndex=l.lastIndex;e.push(m[0])}return e}async function p9(n,e){const t=[],i=[];return n.forEach(s=>{if("cssRules"in s)try{os(s.cssRules||[]).forEach((l,c)=>{if(l.type===CSSRule.IMPORT_RULE){let h=c+1;const m=l.href,p=kS(m).then(y=>US(y,e)).then(y=>jS(y).forEach(_=>{try{s.insertRule(_,_.startsWith("@import")?h+=1:s.cssRules.length)}catch(E){console.error("Error inserting rule from remote css",{rule:_,error:E})}})).catch(y=>{console.error("Error loading remote css",y.toString())});i.push(p)}})}catch(l){const c=n.find(h=>h.href==null)||document.styleSheets[0];s.href!=null&&i.push(kS(s.href).then(h=>US(h,e)).then(h=>jS(h).forEach(m=>{c.insertRule(m,c.cssRules.length)})).catch(h=>{console.error("Error loading remote stylesheet",h)})),console.error("Error inlining remote css file",l)}}),Promise.all(i).then(()=>(n.forEach(s=>{if("cssRules"in s)try{os(s.cssRules||[]).forEach(l=>{t.push(l)})}catch(l){console.error(`Error while reading CSS rules from ${s.href}`,l)}}),t))}function g9(n){return n.filter(e=>e.type===CSSRule.FONT_FACE_RULE).filter(e=>uC(e.style.getPropertyValue("src")))}async function y9(n,e){if(n.ownerDocument==null)throw new Error("Provided element is not within a Document");const t=os(n.ownerDocument.styleSheets),i=await p9(t,e);return g9(i)}function hC(n){return n.trim().replace(/["']/g,"")}function v9(n){const e=new Set;function t(i){(i.style.fontFamily||getComputedStyle(i).fontFamily).split(",").forEach(l=>{e.add(hC(l))}),Array.from(i.children).forEach(l=>{l instanceof HTMLElement&&t(l)})}return t(n),e}async function _9(n,e){const t=await y9(n,e),i=v9(n);return(await Promise.all(t.filter(l=>i.has(hC(l.style.fontFamily))).map(l=>{const c=l.parentStyleSheet?l.parentStyleSheet.href:null;return cC(l.cssText,c,e)}))).join(`
`)}async function E9(n,e){const t=e.fontEmbedCSS!=null?e.fontEmbedCSS:e.skipFonts?null:await _9(n,e);if(t){const i=document.createElement("style"),s=document.createTextNode(t);i.appendChild(s),n.firstChild?n.insertBefore(i,n.firstChild):n.appendChild(i)}}async function T9(n,e={}){const{width:t,height:i}=aC(n,e),s=await Vd(n,e,!0);return await E9(s,e),await fC(s,e),m9(s,e),await Uj(s,t,i)}async function b9(n,e={}){const{width:t,height:i}=aC(n,e),s=await T9(n,e),l=await sd(s),c=document.createElement("canvas"),h=c.getContext("2d"),m=e.pixelRatio||Lj(),p=e.canvasWidth||t,y=e.canvasHeight||i;return c.width=p*m,c.height=y*m,e.skipAutoScale||Vj(c),c.style.width=`${p}`,c.style.height=`${y}`,e.backgroundColor&&(h.fillStyle=e.backgroundColor,h.fillRect(0,0,c.width,c.height)),h.drawImage(l,0,0,c.width,c.height),c}async function S9(n,e={}){return(await b9(n,e)).toDataURL()}var ul={},yg,zS;function dC(){return zS||(zS=1,yg={L:1,M:0,Q:3,H:2}),yg}var vg,FS;function mC(){return FS||(FS=1,vg={MODE_NUMBER:1,MODE_ALPHA_NUM:2,MODE_8BIT_BYTE:4,MODE_KANJI:8}),vg}var _g,BS;function w9(){if(BS)return _g;BS=1;var n=mC();function e(t){this.mode=n.MODE_8BIT_BYTE,this.data=t}return e.prototype={getLength:function(t){return this.data.length},write:function(t){for(var i=0;i<this.data.length;i++)t.put(this.data.charCodeAt(i),8)}},_g=e,_g}var Eg,$S;function A9(){if($S)return Eg;$S=1;var n=dC();function e(t,i){this.totalCount=t,this.dataCount=i}return e.RS_BLOCK_TABLE=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]],e.getRSBlocks=function(t,i){var s=e.getRsBlockTable(t,i);if(s==null)throw new Error("bad rs block @ typeNumber:"+t+"/errorCorrectLevel:"+i);for(var l=s.length/3,c=new Array,h=0;h<l;h++)for(var m=s[h*3+0],p=s[h*3+1],y=s[h*3+2],_=0;_<m;_++)c.push(new e(p,y));return c},e.getRsBlockTable=function(t,i){switch(i){case n.L:return e.RS_BLOCK_TABLE[(t-1)*4+0];case n.M:return e.RS_BLOCK_TABLE[(t-1)*4+1];case n.Q:return e.RS_BLOCK_TABLE[(t-1)*4+2];case n.H:return e.RS_BLOCK_TABLE[(t-1)*4+3];default:return}},Eg=e,Eg}var Tg,HS;function R9(){if(HS)return Tg;HS=1;function n(){this.buffer=new Array,this.length=0}return n.prototype={get:function(e){var t=Math.floor(e/8);return(this.buffer[t]>>>7-e%8&1)==1},put:function(e,t){for(var i=0;i<t;i++)this.putBit((e>>>t-i-1&1)==1)},getLengthInBits:function(){return this.length},putBit:function(e){var t=Math.floor(this.length/8);this.buffer.length<=t&&this.buffer.push(0),e&&(this.buffer[t]|=128>>>this.length%8),this.length++}},Tg=n,Tg}var bg,qS;function pC(){if(qS)return bg;qS=1;for(var n={glog:function(t){if(t<1)throw new Error("glog("+t+")");return n.LOG_TABLE[t]},gexp:function(t){for(;t<0;)t+=255;for(;t>=256;)t-=255;return n.EXP_TABLE[t]},EXP_TABLE:new Array(256),LOG_TABLE:new Array(256)},e=0;e<8;e++)n.EXP_TABLE[e]=1<<e;for(var e=8;e<256;e++)n.EXP_TABLE[e]=n.EXP_TABLE[e-4]^n.EXP_TABLE[e-5]^n.EXP_TABLE[e-6]^n.EXP_TABLE[e-8];for(var e=0;e<255;e++)n.LOG_TABLE[n.EXP_TABLE[e]]=e;return bg=n,bg}var Sg,GS;function gC(){if(GS)return Sg;GS=1;var n=pC();function e(t,i){if(t.length==null)throw new Error(t.length+"/"+i);for(var s=0;s<t.length&&t[s]==0;)s++;this.num=new Array(t.length-s+i);for(var l=0;l<t.length-s;l++)this.num[l]=t[l+s]}return e.prototype={get:function(t){return this.num[t]},getLength:function(){return this.num.length},multiply:function(t){for(var i=new Array(this.getLength()+t.getLength()-1),s=0;s<this.getLength();s++)for(var l=0;l<t.getLength();l++)i[s+l]^=n.gexp(n.glog(this.get(s))+n.glog(t.get(l)));return new e(i,0)},mod:function(t){if(this.getLength()-t.getLength()<0)return this;for(var i=n.glog(this.get(0))-n.glog(t.get(0)),s=new Array(this.getLength()),l=0;l<this.getLength();l++)s[l]=this.get(l);for(var l=0;l<t.getLength();l++)s[l]^=n.gexp(n.glog(t.get(l))+i);return new e(s,0).mod(t)}},Sg=e,Sg}var wg,KS;function C9(){if(KS)return wg;KS=1;var n=mC(),e=gC(),t=pC(),i={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7},s={PATTERN_POSITION_TABLE:[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],G15:1335,G18:7973,G15_MASK:21522,getBCHTypeInfo:function(l){for(var c=l<<10;s.getBCHDigit(c)-s.getBCHDigit(s.G15)>=0;)c^=s.G15<<s.getBCHDigit(c)-s.getBCHDigit(s.G15);return(l<<10|c)^s.G15_MASK},getBCHTypeNumber:function(l){for(var c=l<<12;s.getBCHDigit(c)-s.getBCHDigit(s.G18)>=0;)c^=s.G18<<s.getBCHDigit(c)-s.getBCHDigit(s.G18);return l<<12|c},getBCHDigit:function(l){for(var c=0;l!=0;)c++,l>>>=1;return c},getPatternPosition:function(l){return s.PATTERN_POSITION_TABLE[l-1]},getMask:function(l,c,h){switch(l){case i.PATTERN000:return(c+h)%2==0;case i.PATTERN001:return c%2==0;case i.PATTERN010:return h%3==0;case i.PATTERN011:return(c+h)%3==0;case i.PATTERN100:return(Math.floor(c/2)+Math.floor(h/3))%2==0;case i.PATTERN101:return c*h%2+c*h%3==0;case i.PATTERN110:return(c*h%2+c*h%3)%2==0;case i.PATTERN111:return(c*h%3+(c+h)%2)%2==0;default:throw new Error("bad maskPattern:"+l)}},getErrorCorrectPolynomial:function(l){for(var c=new e([1],0),h=0;h<l;h++)c=c.multiply(new e([1,t.gexp(h)],0));return c},getLengthInBits:function(l,c){if(1<=c&&c<10)switch(l){case n.MODE_NUMBER:return 10;case n.MODE_ALPHA_NUM:return 9;case n.MODE_8BIT_BYTE:return 8;case n.MODE_KANJI:return 8;default:throw new Error("mode:"+l)}else if(c<27)switch(l){case n.MODE_NUMBER:return 12;case n.MODE_ALPHA_NUM:return 11;case n.MODE_8BIT_BYTE:return 16;case n.MODE_KANJI:return 10;default:throw new Error("mode:"+l)}else if(c<41)switch(l){case n.MODE_NUMBER:return 14;case n.MODE_ALPHA_NUM:return 13;case n.MODE_8BIT_BYTE:return 16;case n.MODE_KANJI:return 12;default:throw new Error("mode:"+l)}else throw new Error("type:"+c)},getLostPoint:function(l){for(var c=l.getModuleCount(),h=0,m=0;m<c;m++)for(var p=0;p<c;p++){for(var y=0,_=l.isDark(m,p),E=-1;E<=1;E++)if(!(m+E<0||c<=m+E))for(var w=-1;w<=1;w++)p+w<0||c<=p+w||E==0&&w==0||_==l.isDark(m+E,p+w)&&y++;y>5&&(h+=3+y-5)}for(var m=0;m<c-1;m++)for(var p=0;p<c-1;p++){var R=0;l.isDark(m,p)&&R++,l.isDark(m+1,p)&&R++,l.isDark(m,p+1)&&R++,l.isDark(m+1,p+1)&&R++,(R==0||R==4)&&(h+=3)}for(var m=0;m<c;m++)for(var p=0;p<c-6;p++)l.isDark(m,p)&&!l.isDark(m,p+1)&&l.isDark(m,p+2)&&l.isDark(m,p+3)&&l.isDark(m,p+4)&&!l.isDark(m,p+5)&&l.isDark(m,p+6)&&(h+=40);for(var p=0;p<c;p++)for(var m=0;m<c-6;m++)l.isDark(m,p)&&!l.isDark(m+1,p)&&l.isDark(m+2,p)&&l.isDark(m+3,p)&&l.isDark(m+4,p)&&!l.isDark(m+5,p)&&l.isDark(m+6,p)&&(h+=40);for(var P=0,p=0;p<c;p++)for(var m=0;m<c;m++)l.isDark(m,p)&&P++;var L=Math.abs(100*P/c/c-50)/5;return h+=L*10,h}};return wg=s,wg}var Ag,QS;function I9(){if(QS)return Ag;QS=1;var n=w9(),e=A9(),t=R9(),i=C9(),s=gC();function l(h,m){this.typeNumber=h,this.errorCorrectLevel=m,this.modules=null,this.moduleCount=0,this.dataCache=null,this.dataList=[]}var c=l.prototype;return c.addData=function(h){var m=new n(h);this.dataList.push(m),this.dataCache=null},c.isDark=function(h,m){if(h<0||this.moduleCount<=h||m<0||this.moduleCount<=m)throw new Error(h+","+m);return this.modules[h][m]},c.getModuleCount=function(){return this.moduleCount},c.make=function(){if(this.typeNumber<1){var h=1;for(h=1;h<40;h++){for(var m=e.getRSBlocks(h,this.errorCorrectLevel),p=new t,y=0,_=0;_<m.length;_++)y+=m[_].dataCount;for(var _=0;_<this.dataList.length;_++){var E=this.dataList[_];p.put(E.mode,4),p.put(E.getLength(),i.getLengthInBits(E.mode,h)),E.write(p)}if(p.getLengthInBits()<=y*8)break}this.typeNumber=h}this.makeImpl(!1,this.getBestMaskPattern())},c.makeImpl=function(h,m){this.moduleCount=this.typeNumber*4+17,this.modules=new Array(this.moduleCount);for(var p=0;p<this.moduleCount;p++){this.modules[p]=new Array(this.moduleCount);for(var y=0;y<this.moduleCount;y++)this.modules[p][y]=null}this.setupPositionProbePattern(0,0),this.setupPositionProbePattern(this.moduleCount-7,0),this.setupPositionProbePattern(0,this.moduleCount-7),this.setupPositionAdjustPattern(),this.setupTimingPattern(),this.setupTypeInfo(h,m),this.typeNumber>=7&&this.setupTypeNumber(h),this.dataCache==null&&(this.dataCache=l.createData(this.typeNumber,this.errorCorrectLevel,this.dataList)),this.mapData(this.dataCache,m)},c.setupPositionProbePattern=function(h,m){for(var p=-1;p<=7;p++)if(!(h+p<=-1||this.moduleCount<=h+p))for(var y=-1;y<=7;y++)m+y<=-1||this.moduleCount<=m+y||(0<=p&&p<=6&&(y==0||y==6)||0<=y&&y<=6&&(p==0||p==6)||2<=p&&p<=4&&2<=y&&y<=4?this.modules[h+p][m+y]=!0:this.modules[h+p][m+y]=!1)},c.getBestMaskPattern=function(){for(var h=0,m=0,p=0;p<8;p++){this.makeImpl(!0,p);var y=i.getLostPoint(this);(p==0||h>y)&&(h=y,m=p)}return m},c.createMovieClip=function(h,m,p){var y=h.createEmptyMovieClip(m,p),_=1;this.make();for(var E=0;E<this.modules.length;E++)for(var w=E*_,R=0;R<this.modules[E].length;R++){var P=R*_,L=this.modules[E][R];L&&(y.beginFill(0,100),y.moveTo(P,w),y.lineTo(P+_,w),y.lineTo(P+_,w+_),y.lineTo(P,w+_),y.endFill())}return y},c.setupTimingPattern=function(){for(var h=8;h<this.moduleCount-8;h++)this.modules[h][6]==null&&(this.modules[h][6]=h%2==0);for(var m=8;m<this.moduleCount-8;m++)this.modules[6][m]==null&&(this.modules[6][m]=m%2==0)},c.setupPositionAdjustPattern=function(){for(var h=i.getPatternPosition(this.typeNumber),m=0;m<h.length;m++)for(var p=0;p<h.length;p++){var y=h[m],_=h[p];if(this.modules[y][_]==null)for(var E=-2;E<=2;E++)for(var w=-2;w<=2;w++)E==-2||E==2||w==-2||w==2||E==0&&w==0?this.modules[y+E][_+w]=!0:this.modules[y+E][_+w]=!1}},c.setupTypeNumber=function(h){for(var m=i.getBCHTypeNumber(this.typeNumber),p=0;p<18;p++){var y=!h&&(m>>p&1)==1;this.modules[Math.floor(p/3)][p%3+this.moduleCount-8-3]=y}for(var p=0;p<18;p++){var y=!h&&(m>>p&1)==1;this.modules[p%3+this.moduleCount-8-3][Math.floor(p/3)]=y}},c.setupTypeInfo=function(h,m){for(var p=this.errorCorrectLevel<<3|m,y=i.getBCHTypeInfo(p),_=0;_<15;_++){var E=!h&&(y>>_&1)==1;_<6?this.modules[_][8]=E:_<8?this.modules[_+1][8]=E:this.modules[this.moduleCount-15+_][8]=E}for(var _=0;_<15;_++){var E=!h&&(y>>_&1)==1;_<8?this.modules[8][this.moduleCount-_-1]=E:_<9?this.modules[8][15-_-1+1]=E:this.modules[8][15-_-1]=E}this.modules[this.moduleCount-8][8]=!h},c.mapData=function(h,m){for(var p=-1,y=this.moduleCount-1,_=7,E=0,w=this.moduleCount-1;w>0;w-=2)for(w==6&&w--;;){for(var R=0;R<2;R++)if(this.modules[y][w-R]==null){var P=!1;E<h.length&&(P=(h[E]>>>_&1)==1);var L=i.getMask(m,y,w-R);L&&(P=!P),this.modules[y][w-R]=P,_--,_==-1&&(E++,_=7)}if(y+=p,y<0||this.moduleCount<=y){y-=p,p=-p;break}}},l.PAD0=236,l.PAD1=17,l.createData=function(h,m,p){for(var y=e.getRSBlocks(h,m),_=new t,E=0;E<p.length;E++){var w=p[E];_.put(w.mode,4),_.put(w.getLength(),i.getLengthInBits(w.mode,h)),w.write(_)}for(var R=0,E=0;E<y.length;E++)R+=y[E].dataCount;if(_.getLengthInBits()>R*8)throw new Error("code length overflow. ("+_.getLengthInBits()+">"+R*8+")");for(_.getLengthInBits()+4<=R*8&&_.put(0,4);_.getLengthInBits()%8!=0;)_.putBit(!1);for(;!(_.getLengthInBits()>=R*8||(_.put(l.PAD0,8),_.getLengthInBits()>=R*8));)_.put(l.PAD1,8);return l.createBytes(_,y)},l.createBytes=function(h,m){for(var p=0,y=0,_=0,E=new Array(m.length),w=new Array(m.length),R=0;R<m.length;R++){var P=m[R].dataCount,L=m[R].totalCount-P;y=Math.max(y,P),_=Math.max(_,L),E[R]=new Array(P);for(var x=0;x<E[R].length;x++)E[R][x]=255&h.buffer[x+p];p+=P;var $=i.getErrorCorrectPolynomial(L),ne=new s(E[R],$.getLength()-1),fe=ne.mod($);w[R]=new Array($.getLength()-1);for(var x=0;x<w[R].length;x++){var H=x+fe.getLength()-w[R].length;w[R][x]=H>=0?fe.get(H):0}}for(var V=0,x=0;x<m.length;x++)V+=m[x].totalCount;for(var O=new Array(V),C=0,x=0;x<y;x++)for(var R=0;R<m.length;R++)x<E[R].length&&(O[C++]=E[R][x]);for(var x=0;x<_;x++)for(var R=0;R<m.length;R++)x<w[R].length&&(O[C++]=w[R][x]);return O},Ag=l,Ag}var mh={},YS;function D9(){if(YS)return mh;YS=1,Object.defineProperty(mh,"__esModule",{value:!0});var n=Object.assign||function(p){for(var y=1;y<arguments.length;y++){var _=arguments[y];for(var E in _)Object.prototype.hasOwnProperty.call(_,E)&&(p[E]=_[E])}return p},e=by(),t=l(e),i=bc(),s=l(i);function l(p){return p&&p.__esModule?p:{default:p}}function c(p,y){var _={};for(var E in p)y.indexOf(E)>=0||Object.prototype.hasOwnProperty.call(p,E)&&(_[E]=p[E]);return _}var h={bgColor:t.default.oneOfType([t.default.object,t.default.string]).isRequired,bgD:t.default.string.isRequired,fgColor:t.default.oneOfType([t.default.object,t.default.string]).isRequired,fgD:t.default.string.isRequired,size:t.default.number.isRequired,title:t.default.string,viewBoxSize:t.default.number.isRequired,xmlns:t.default.string},m=(0,i.forwardRef)(function(p,y){var _=p.bgColor,E=p.bgD,w=p.fgD,R=p.fgColor,P=p.size,L=p.title,x=p.viewBoxSize,$=p.xmlns,ne=$===void 0?"http://www.w3.org/2000/svg":$,fe=c(p,["bgColor","bgD","fgD","fgColor","size","title","viewBoxSize","xmlns"]);return s.default.createElement("svg",n({},fe,{height:P,ref:y,viewBox:"0 0 "+x+" "+x,width:P,xmlns:ne}),L?s.default.createElement("title",null,L):null,s.default.createElement("path",{d:E,fill:_}),s.default.createElement("path",{d:w,fill:R}))});return m.displayName="QRCodeSvg",m.propTypes=h,mh.default=m,mh}var XS;function O9(){if(XS)return ul;XS=1,Object.defineProperty(ul,"__esModule",{value:!0}),ul.QRCode=void 0;var n=Object.assign||function(P){for(var L=1;L<arguments.length;L++){var x=arguments[L];for(var $ in x)Object.prototype.hasOwnProperty.call(x,$)&&(P[$]=x[$])}return P},e=by(),t=_(e),i=dC(),s=_(i),l=I9(),c=_(l),h=bc(),m=_(h),p=D9(),y=_(p);function _(P){return P&&P.__esModule?P:{default:P}}function E(P,L){var x={};for(var $ in P)L.indexOf($)>=0||Object.prototype.hasOwnProperty.call(P,$)&&(x[$]=P[$]);return x}var w={bgColor:t.default.oneOfType([t.default.object,t.default.string]),fgColor:t.default.oneOfType([t.default.object,t.default.string]),level:t.default.string,size:t.default.number,value:t.default.string.isRequired},R=(0,h.forwardRef)(function(P,L){var x=P.bgColor,$=x===void 0?"#FFFFFF":x,ne=P.fgColor,fe=ne===void 0?"#000000":ne,H=P.level,V=H===void 0?"L":H,O=P.size,C=O===void 0?256:O,I=P.value,j=E(P,["bgColor","fgColor","level","size","value"]),k=new c.default(-1,s.default[V]);k.addData(I),k.make();var B=k.modules;return m.default.createElement(y.default,n({},j,{bgColor:$,bgD:B.map(function(D,Pe){return D.map(function(Qe,Z){return Qe?"":"M "+Z+" "+Pe+" l 1 0 0 1 -1 0 Z"}).join(" ")}).join(" "),fgColor:fe,fgD:B.map(function(D,Pe){return D.map(function(Qe,Z){return Qe?"M "+Z+" "+Pe+" l 1 0 0 1 -1 0 Z":""}).join(" ")}).join(" "),ref:L,size:C,viewBoxSize:B.length}))});return ul.QRCode=R,R.displayName="QRCode",R.propTypes=w,ul.default=R,ul}var x9=O9();const N9=Nl(x9),M9=async n=>{if(n===null)return"https://i.ibb.co/8Lh7LbRy/placeholder.png";const e=new FormData;return e.append("image",n),(await(await fetch("https://api.imgbb.com/1/upload?key=6c386056950253a6bdd07adcf4114ef9",{method:"POST",body:e})).json()).data.url},P9="_newList_fy78r_1",L9="_qrCodeContainer_fy78r_1",V9="_ctaContainer_fy78r_5",ph={newList:P9,qrCodeContainer:L9,ctaContainer:V9},k9=()=>{const n=$r(),{boxName:e,place:t}=n.state,[i,s]=N.useState(),[l,c]=N.useState(),h=N.useRef(null),m=()=>{h.current!==null&&S9(h.current).then(_=>{const E=document.createElement("a");E.download="qr-code.png",E.href=_,E.click()}).catch(_=>{console.error("Errore durante il download:",_)})},p=async()=>{if(l){const _=rC();await Tj(_,{place:t,boxes:[{box_name:e,box_content:l}]}),m()}},y=_=>{const E=l==null?void 0:l.filter(w=>w.id!==_);if(E===void 0||E.length===0){c(void 0);return}c(E)};return N.useEffect(()=>{if(l){const _=l.map(P=>({boxName:e,objectName:P.objectName,objectType:P.objectType,objectCustomType:P.objectCustomType,objectImageUrl:P.objectImageUrl})),E=JSON.stringify(_),w=btoa(E),R="https://andreaalunniguiducci.github.io/organizer/#"+Rn.list+"/"+w;console.log("urlList",R),s(R)}else s(void 0)},[l]),G.jsxs("div",{className:ph.newList,children:[G.jsxs("h3",{children:["Lista per contenitore ",e," in ",t]}),G.jsx(pA,{initialValues:{objectName:"",objectType:"",objectCustomType:"",objectImage:null,objectImageUrl:""},onSubmit:async(_,E)=>{const w=await M9(_.objectImage);if(l){const R=l.map((P,L)=>({...P,id:L+1}));c([...R,{..._,id:R.length+1,objectImage:null,objectImageUrl:w}])}else c([{..._,id:1,objectImage:null,objectImageUrl:w}]);E.resetForm()},validationSchema:Xy().shape({objectName:Js().required("Nome obbligatorio"),objectType:Js().required("Tipologia obbligatoria"),objectCustomType:Js().when("objectType",{is:"other",then(_){return _.required("Tipologia obbligatoria")}}),objectImage:EA().nullable(),objectImageUrl:Js().url("URL non valido")}),children:({handleSubmit:_,handleChange:E,values:w,touched:R,errors:P})=>G.jsxs(Ht,{noValidate:!0,onSubmit:_,className:"form",children:[G.jsxs(Ht.Group,{controlId:"objectName",children:[G.jsx(Ht.Label,{children:"Nome oggetto*"}),G.jsx(Ht.Control,{type:"text",name:"objectName",value:w.objectName,onChange:E,isValid:R.objectName&&!P.objectName,isInvalid:R.objectName&&!!P.objectName}),G.jsx(Ht.Control.Feedback,{type:"invalid",children:P.objectName})]}),G.jsxs(Ht.Group,{controlId:"objectType",children:[G.jsx(Ht.Label,{children:"Tipologia oggetto*"}),G.jsxs(Ht.Select,{name:"objectType","aria-label":"Default select example",value:w.objectType,onChange:E,isInvalid:R.objectType&&!!P.objectType,children:[G.jsx("option",{value:"",children:"Seleziona una tipologia"}),G.jsx("option",{value:"vestiti",children:"Vestiti"}),G.jsx("option",{value:"giochi",children:"Giochi"}),G.jsx("option",{value:"ferramenta",children:"Ferramenta"}),G.jsx("option",{value:"other",children:"Altro..."})]}),w.objectType==="other"&&G.jsx(Ht.Control,{type:"text",value:w.objectCustomType,onChange:E,isInvalid:R.objectCustomType&&!!P.objectCustomType,name:"objectCustomType",placeholder:"Inserisci una tipologia"}),G.jsx(Ht.Control.Feedback,{type:"invalid",children:P.objectCustomType||P.objectType})]}),G.jsxs(Ht.Group,{controlId:"objectImage",children:[G.jsx(Ht.Label,{children:"Immagine oggetto"}),G.jsx(Ht.Control,{type:"file",name:"objectImage",accept:"image/*",onChange:L=>{var $;const x=($=L.target.files)==null?void 0:$[0];x&&(w.objectImage=x)}})]}),G.jsx(Jr,{type:"submit",children:"Aggiungi oggetto"})]})}),G.jsx("div",{className:"cardContainer",children:l&&l.map(_=>G.jsx(Cv,{item:_,deleteObject:y},_.id))}),i&&G.jsxs(G.Fragment,{children:[G.jsxs("div",{ref:h,className:ph.qrCodeContainer,children:[G.jsx(N9,{value:i}),G.jsx("h3",{className:ph.listName,children:e})]}),G.jsxs("div",{className:ph.ctaContainer,children:[G.jsx(Jr,{onClick:m,children:"Scarica QR Code"}),G.jsx(Jr,{onClick:p,children:"Salva dati"})]})]})]})},U9="_qrList_149fm_1",j9="_cardContainer_149fm_1",WS={qrList:U9,cardContainer:j9},z9=()=>{const{qrCode:n}=rD(),[e,t]=N.useState(void 0);return N.useEffect(()=>{if(n){const i=atob(n),s=JSON.parse(i);t(s)}else t(void 0)},[n]),G.jsxs("div",{className:WS.qrList,children:[G.jsx("h2",{children:e==null?void 0:e[0].boxName}),G.jsx("div",{className:WS.cardContainer,children:e==null?void 0:e.map(i=>G.jsx(Cv,{item:i}))})]})};function F9(){const n=QD([{path:"/",element:G.jsxs("div",{children:[G.jsx(DO,{}),G.jsx("div",{className:"page_container",children:G.jsx(SD,{})})]}),children:[{path:"/",element:G.jsx(_j,{})},{path:Rn.dashboard,element:G.jsx(nx,{})},{path:Rn.nameList,element:G.jsx(Kp,{children:G.jsx(Oj,{})})},{path:Rn.newList,element:G.jsx(Kp,{children:G.jsx(k9,{})})},{path:Rn.qrList,element:G.jsx(z9,{})},{path:Rn.list,element:G.jsx(Kp,{children:G.jsx(Dj,{})})}]}]);return G.jsx("div",{className:"App",children:G.jsx(oO,{router:n})})}XI.createRoot(document.getElementById("root")).render(G.jsx(N.StrictMode,{children:G.jsx(F9,{})}))});export default B9();
